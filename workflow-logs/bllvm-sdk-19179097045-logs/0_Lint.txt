2025-11-07T19:40:45.9768976Z Current runner version: '2.329.0'
2025-11-07T19:40:45.9775890Z Runner name: 'linode-runner-02'
2025-11-07T19:40:45.9776855Z Runner group name: 'default'
2025-11-07T19:40:45.9777817Z Machine name: 'localhost'
2025-11-07T19:40:45.9781727Z ##[group]GITHUB_TOKEN Permissions
2025-11-07T19:40:45.9784204Z Contents: read
2025-11-07T19:40:45.9785406Z Metadata: read
2025-11-07T19:40:45.9786088Z Packages: read
2025-11-07T19:40:45.9786674Z ##[endgroup]
2025-11-07T19:40:45.9788910Z Secret source: Actions
2025-11-07T19:40:45.9789614Z Prepare workflow directory
2025-11-07T19:40:46.0450900Z Prepare all required actions
2025-11-07T19:40:46.0523293Z Getting action download info
2025-11-07T19:40:46.3730126Z Download action repository 'actions/checkout@v4' (SHA:08eba0b27e820071cde6df949e0beb9ba4906955)
2025-11-07T19:40:46.7676584Z Download action repository 'dtolnay/rust-toolchain@master' (SHA:6d653acede28d24f02e3cd41383119e8b1b35921)
2025-11-07T19:40:46.9911253Z Download action repository 'actions/cache@v3' (SHA:6f8efc29b200d32929f49075959781ed54ec270c)
2025-11-07T19:40:47.7673971Z Complete job name: Lint
2025-11-07T19:40:47.8389894Z A job started hook has been configured by the self-hosted runner administrator
2025-11-07T19:40:47.8579946Z ##[group]Run '/home/jswift/actions-runner-org2/cleanup-hooks/job-started.sh'
2025-11-07T19:40:47.8646811Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:47.8648681Z ##[endgroup]
2025-11-07T19:40:47.8860377Z Job started: Fri Nov  7 07:40:47 PM UTC 2025
2025-11-07T19:40:47.8877304Z Available disk space: 9.6G
2025-11-07T19:40:47.8918794Z WARNING: Disk usage is 81% - performing user-level cleanup
2025-11-07T19:40:47.8920926Z Cleaning old work directories (user-level cleanup)...
2025-11-07T19:40:48.0042356Z User-level cleanup completed. Disk usage: 81%
2025-11-07T19:40:48.0545476Z ##[group]Run actions/checkout@v4
2025-11-07T19:40:48.0547126Z with:
2025-11-07T19:40:48.0548500Z   repository: BTCDecoded/bllvm-sdk
2025-11-07T19:40:48.0550640Z   token: ***
2025-11-07T19:40:48.0552061Z   ssh-strict: true
2025-11-07T19:40:48.0553904Z   ssh-user: git
2025-11-07T19:40:48.0555588Z   persist-credentials: true
2025-11-07T19:40:48.0557163Z   clean: true
2025-11-07T19:40:48.0558633Z   sparse-checkout-cone-mode: true
2025-11-07T19:40:48.0560295Z   fetch-depth: 1
2025-11-07T19:40:48.0561784Z   fetch-tags: false
2025-11-07T19:40:48.0563238Z   show-progress: true
2025-11-07T19:40:48.0564847Z   lfs: false
2025-11-07T19:40:48.0566190Z   submodules: false
2025-11-07T19:40:48.0567648Z   set-safe-directory: true
2025-11-07T19:40:48.0569091Z ##[endgroup]
2025-11-07T19:40:48.1946642Z Syncing repository: BTCDecoded/bllvm-sdk
2025-11-07T19:40:48.1950801Z ##[group]Getting Git version info
2025-11-07T19:40:48.1954893Z Working directory is '/home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk'
2025-11-07T19:40:48.1958593Z [command]/usr/bin/git version
2025-11-07T19:40:48.1960259Z git version 2.43.0
2025-11-07T19:40:48.1971176Z ##[endgroup]
2025-11-07T19:40:48.1983292Z Copying '/home/jswift/.gitconfig' to '/home/jswift/actions-runner-org2/_work/_temp/bdd6dd09-721a-4c61-ba41-01ac92149258/.gitconfig'
2025-11-07T19:40:48.1999670Z Temporarily overriding HOME='/home/jswift/actions-runner-org2/_work/_temp/bdd6dd09-721a-4c61-ba41-01ac92149258' before making global git config changes
2025-11-07T19:40:48.2005968Z Adding repository directory to the temporary git global config as a safe directory
2025-11-07T19:40:48.2009682Z [command]/usr/bin/git config --global --add safe.directory /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk
2025-11-07T19:40:48.2067180Z [command]/usr/bin/git config --local --get remote.origin.url
2025-11-07T19:40:48.2090548Z https://github.com/BTCDecoded/bllvm-sdk
2025-11-07T19:40:48.2111231Z ##[group]Removing previously created refs, to avoid conflicts
2025-11-07T19:40:48.2115696Z [command]/usr/bin/git rev-parse --symbolic-full-name --verify --quiet HEAD
2025-11-07T19:40:48.2140133Z refs/heads/main
2025-11-07T19:40:48.2151796Z [command]/usr/bin/git checkout --detach
2025-11-07T19:40:48.2188857Z HEAD is now at 12181cd docs: Add reference to master status document
2025-11-07T19:40:48.2244868Z [command]/usr/bin/git branch --delete --force main
2025-11-07T19:40:48.2279072Z Deleted branch main (was 12181cd).
2025-11-07T19:40:48.2336831Z ##[endgroup]
2025-11-07T19:40:48.2338209Z [command]/usr/bin/git submodule status
2025-11-07T19:40:48.2629997Z ##[group]Cleaning the repository
2025-11-07T19:40:48.2632499Z [command]/usr/bin/git clean -ffdx
2025-11-07T19:40:48.2677225Z [command]/usr/bin/git reset --hard HEAD
2025-11-07T19:40:48.2723632Z HEAD is now at 12181cd docs: Add reference to master status document
2025-11-07T19:40:48.2734816Z ##[endgroup]
2025-11-07T19:40:48.2737718Z ##[group]Disabling automatic garbage collection
2025-11-07T19:40:48.2740767Z [command]/usr/bin/git config --local gc.auto 0
2025-11-07T19:40:48.2775809Z ##[endgroup]
2025-11-07T19:40:48.2777199Z ##[group]Setting up auth
2025-11-07T19:40:48.2782999Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-11-07T19:40:48.2822600Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-11-07T19:40:48.3107911Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-11-07T19:40:48.3144892Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-11-07T19:40:48.3439173Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-11-07T19:40:48.3487329Z ##[endgroup]
2025-11-07T19:40:48.3491155Z ##[group]Fetching the repository
2025-11-07T19:40:48.3497672Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +12181cd34912caf753a41b696ec6952bd77209b3:refs/remotes/origin/main
2025-11-07T19:40:48.5731046Z ##[endgroup]
2025-11-07T19:40:48.5732592Z ##[group]Determining the checkout info
2025-11-07T19:40:48.5735909Z ##[endgroup]
2025-11-07T19:40:48.5742583Z [command]/usr/bin/git sparse-checkout disable
2025-11-07T19:40:48.5820283Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-11-07T19:40:48.5872817Z ##[group]Checking out the ref
2025-11-07T19:40:48.5877594Z [command]/usr/bin/git checkout --progress --force -B main refs/remotes/origin/main
2025-11-07T19:40:48.5936895Z Switched to a new branch 'main'
2025-11-07T19:40:48.5950692Z branch 'main' set up to track 'origin/main'.
2025-11-07T19:40:48.5953445Z ##[endgroup]
2025-11-07T19:40:48.6013578Z [command]/usr/bin/git log -1 --format=%H
2025-11-07T19:40:48.6055432Z 12181cd34912caf753a41b696ec6952bd77209b3
2025-11-07T19:40:48.6468323Z ##[group]Run dtolnay/rust-toolchain@master
2025-11-07T19:40:48.6469037Z with:
2025-11-07T19:40:48.6469490Z   toolchain: 1.88.0
2025-11-07T19:40:48.6470023Z   components: clippy, rustfmt
2025-11-07T19:40:48.6470616Z ##[endgroup]
2025-11-07T19:40:48.6605956Z ##[group]Run : parse toolchain version
2025-11-07T19:40:48.6606442Z [36;1m: parse toolchain version[0m
2025-11-07T19:40:48.6606819Z [36;1mif [[ -z $toolchain ]]; then[0m
2025-11-07T19:40:48.6607458Z [36;1m  # GitHub does not enforce `required: true` inputs itself. https://github.com/actions/runner/issues/1070[0m
2025-11-07T19:40:48.6608104Z [36;1m  echo "'toolchain' is a required input" >&2[0m
2025-11-07T19:40:48.6608483Z [36;1m  exit 1[0m
2025-11-07T19:40:48.6608899Z [36;1melif [[ $toolchain =~ ^stable' '[0-9]+' '(year|month|week|day)s?' 'ago$ ]]; then[0m
2025-11-07T19:40:48.6609398Z [36;1m  if [[ Linux == macOS ]]; then[0m
2025-11-07T19:40:48.6610041Z [36;1m    echo "toolchain=1.$((($(date -v-$(sed 's/stable \([0-9]*\) \(.\).*/\1\2/' <<< $toolchain) +%s)/60/60/24-16569)/7/6))" >> $GITHUB_OUTPUT[0m
2025-11-07T19:40:48.6610604Z [36;1m  else[0m
2025-11-07T19:40:48.6611078Z [36;1m    echo "toolchain=1.$((($(date --date "${toolchain#stable }" +%s)/60/60/24-16569)/7/6))" >> $GITHUB_OUTPUT[0m
2025-11-07T19:40:48.6611840Z [36;1m  fi[0m
2025-11-07T19:40:48.6612226Z [36;1melif [[ $toolchain =~ ^stable' 'minus' '[0-9]+' 'releases?$ ]]; then[0m
2025-11-07T19:40:48.6612836Z [36;1m  echo "toolchain=1.$((($(date +%s)/60/60/24-16569)/7/6-${toolchain//[^0-9]/}))" >> $GITHUB_OUTPUT[0m
2025-11-07T19:40:48.6613367Z [36;1melif [[ $toolchain =~ ^1\.[0-9]+$ ]]; then[0m
2025-11-07T19:40:48.6613956Z [36;1m  echo "toolchain=1.$((i=${toolchain#1.}, c=($(date +%s)/60/60/24-16569)/7/6, i+9*i*(10*i<=c)+90*i*(100*i<=c)))" >> $GITHUB_OUTPUT[0m
2025-11-07T19:40:48.6614669Z [36;1melse[0m
2025-11-07T19:40:48.6615001Z [36;1m  echo "toolchain=$toolchain" >> $GITHUB_OUTPUT[0m
2025-11-07T19:40:48.6615385Z [36;1mfi[0m
2025-11-07T19:40:48.6648452Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:48.6648891Z env:
2025-11-07T19:40:48.6649162Z   toolchain: 1.88.0
2025-11-07T19:40:48.6649439Z ##[endgroup]
2025-11-07T19:40:48.6791816Z ##[group]Run : construct rustup command line
2025-11-07T19:40:48.6792515Z [36;1m: construct rustup command line[0m
2025-11-07T19:40:48.6793329Z [36;1mecho "targets=$(for t in ${targets//,/ }; do echo -n ' --target' $t; done)" >> $GITHUB_OUTPUT[0m
2025-11-07T19:40:48.6794036Z [36;1mecho "components=$(for c in ${components//,/ }; do echo -n ' --component' $c; done)" >> $GITHUB_OUTPUT[0m
2025-11-07T19:40:48.6794861Z [36;1mecho "downgrade=" >> $GITHUB_OUTPUT[0m
2025-11-07T19:40:48.6833884Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:48.6834542Z env:
2025-11-07T19:40:48.6834847Z   targets: 
2025-11-07T19:40:48.6835144Z   components: clippy, rustfmt
2025-11-07T19:40:48.6835526Z ##[endgroup]
2025-11-07T19:40:48.6946501Z ##[group]Run : set $CARGO_HOME
2025-11-07T19:40:48.6947097Z [36;1m: set $CARGO_HOME[0m
2025-11-07T19:40:48.6947798Z [36;1mecho CARGO_HOME=${CARGO_HOME:-"$HOME/.cargo"} >> $GITHUB_ENV[0m
2025-11-07T19:40:48.6991450Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:48.6992177Z ##[endgroup]
2025-11-07T19:40:48.7099964Z ##[group]Run : install rustup if needed
2025-11-07T19:40:48.7100378Z [36;1m: install rustup if needed[0m
2025-11-07T19:40:48.7100763Z [36;1mif ! command -v rustup &>/dev/null; then[0m
2025-11-07T19:40:48.7101610Z [36;1m  curl --proto '=https' --tlsv1.2 --retry 10 --retry-connrefused --location --silent --show-error --fail https://sh.rustup.rs | sh -s -- --default-toolchain none -y[0m
2025-11-07T19:40:48.7102450Z [36;1m  echo "$CARGO_HOME/bin" >> $GITHUB_PATH[0m
2025-11-07T19:40:48.7102808Z [36;1mfi[0m
2025-11-07T19:40:48.7131433Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:48.7131880Z env:
2025-11-07T19:40:48.7132164Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:48.7132722Z ##[endgroup]
2025-11-07T19:40:48.7728464Z info: downloading installer
2025-11-07T19:40:49.0094927Z warn: It looks like you have an existing rustup settings file at:
2025-11-07T19:40:49.0102731Z warn: /home/jswift/.rustup/settings.toml
2025-11-07T19:40:49.0105864Z warn: Rustup will install the default toolchain as specified in the settings file,
2025-11-07T19:40:49.0107118Z warn: instead of the one inferred from the default host triple.
2025-11-07T19:40:49.0542687Z info: profile set to 'default'
2025-11-07T19:40:49.0543679Z info: default host triple is x86_64-unknown-linux-gnu
2025-11-07T19:40:49.0545145Z info: skipping toolchain installation
2025-11-07T19:40:49.0562874Z 
2025-11-07T19:40:49.0564506Z 
2025-11-07T19:40:49.0569703Z Rust is installed now. Great!
2025-11-07T19:40:49.0571180Z 
2025-11-07T19:40:49.0571660Z To get started you may need to restart your current shell.
2025-11-07T19:40:49.0572797Z This would reload your PATH environment variable to include
2025-11-07T19:40:49.0573598Z Cargo's bin directory ($HOME/.cargo/bin).
2025-11-07T19:40:49.0574140Z 
2025-11-07T19:40:49.0575259Z To configure your current shell, you need to source
2025-11-07T19:40:49.0576191Z the corresponding env file under $HOME/.cargo.
2025-11-07T19:40:49.0579950Z 
2025-11-07T19:40:49.0580315Z This is usually done by running one of the following (note the leading DOT):
2025-11-07T19:40:49.0581074Z . "$HOME/.cargo/env"            # For sh/bash/zsh/ash/dash/pdksh
2025-11-07T19:40:49.0581635Z source "$HOME/.cargo/env.fish"  # For fish
2025-11-07T19:40:49.0582177Z source $"($nu.home-path)/.cargo/env.nu"  # For nushell
2025-11-07T19:40:49.0742873Z ##[group]Run rustup toolchain install 1.88.0 --component clippy --component rustfmt --profile minimal --no-self-update
2025-11-07T19:40:49.0744246Z [36;1mrustup toolchain install 1.88.0 --component clippy --component rustfmt --profile minimal --no-self-update[0m
2025-11-07T19:40:49.0794597Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:49.0795162Z env:
2025-11-07T19:40:49.0795465Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:49.0795856Z ##[endgroup]
2025-11-07T19:40:49.1980186Z info: syncing channel updates for '1.88.0-x86_64-unknown-linux-gnu'
2025-11-07T19:40:49.2790038Z info: latest update on 2025-06-26, rust version 1.88.0 (6b00bc388 2025-06-23)
2025-11-07T19:40:49.3304888Z info: component 'clippy' for target 'x86_64-unknown-linux-gnu' is up to date
2025-11-07T19:40:49.3326204Z info: component 'rustfmt' for target 'x86_64-unknown-linux-gnu' is up to date
2025-11-07T19:40:49.3335471Z 
2025-11-07T19:40:49.3554770Z   1.88.0-x86_64-unknown-linux-gnu unchanged - rustc 1.88.0 (6b00bc388 2025-06-23)
2025-11-07T19:40:49.3558956Z 
2025-11-07T19:40:49.3651629Z ##[group]Run rustup default 1.88.0
2025-11-07T19:40:49.3651938Z [36;1mrustup default 1.88.0[0m
2025-11-07T19:40:49.3686029Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:49.3686397Z env:
2025-11-07T19:40:49.3686613Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:49.3686895Z ##[endgroup]
2025-11-07T19:40:49.3834058Z info: using existing install for '1.88.0-x86_64-unknown-linux-gnu'
2025-11-07T19:40:49.4240718Z info: default toolchain set to '1.88.0-x86_64-unknown-linux-gnu'
2025-11-07T19:40:49.4241268Z 
2025-11-07T19:40:49.4369788Z   1.88.0-x86_64-unknown-linux-gnu unchanged - rustc 1.88.0 (6b00bc388 2025-06-23)
2025-11-07T19:40:49.4376126Z 
2025-11-07T19:40:49.4437006Z ##[group]Run : create cachekey
2025-11-07T19:40:49.4437331Z [36;1m: create cachekey[0m
2025-11-07T19:40:49.4437823Z [36;1mDATE=$(rustc +1.88.0 --version --verbose | sed -ne 's/^commit-date: \(20[0-9][0-9]\)-\([01][0-9]\)-\([0-3][0-9]\)$/\1\2\3/p')[0m
2025-11-07T19:40:49.4438449Z [36;1mHASH=$(rustc +1.88.0 --version --verbose | sed -ne 's/^commit-hash: //p')[0m
2025-11-07T19:40:49.4439038Z [36;1mecho "cachekey=$(echo $DATE$HASH | head -c12)" >> $GITHUB_OUTPUT[0m
2025-11-07T19:40:49.4471129Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:49.4471495Z env:
2025-11-07T19:40:49.4471925Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:49.4472188Z ##[endgroup]
2025-11-07T19:40:49.5009771Z ##[group]Run : disable incremental compilation
2025-11-07T19:40:49.5010181Z [36;1m: disable incremental compilation[0m
2025-11-07T19:40:49.5010523Z [36;1mif [ -z "${CARGO_INCREMENTAL+set}" ]; then[0m
2025-11-07T19:40:49.5010880Z [36;1m  echo CARGO_INCREMENTAL=0 >> $GITHUB_ENV[0m
2025-11-07T19:40:49.5011174Z [36;1mfi[0m
2025-11-07T19:40:49.5038977Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:49.5039356Z env:
2025-11-07T19:40:49.5039559Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:49.5039825Z ##[endgroup]
2025-11-07T19:40:49.5126047Z ##[group]Run : enable colors in Cargo output
2025-11-07T19:40:49.5126401Z [36;1m: enable colors in Cargo output[0m
2025-11-07T19:40:49.5126715Z [36;1mif [ -z "${CARGO_TERM_COLOR+set}" ]; then[0m
2025-11-07T19:40:49.5127066Z [36;1m  echo CARGO_TERM_COLOR=always >> $GITHUB_ENV[0m
2025-11-07T19:40:49.5127372Z [36;1mfi[0m
2025-11-07T19:40:49.5155323Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:49.5155691Z env:
2025-11-07T19:40:49.5155891Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:49.5156379Z   CARGO_INCREMENTAL: 0
2025-11-07T19:40:49.5156603Z ##[endgroup]
2025-11-07T19:40:49.5232983Z ##[group]Run : enable Cargo sparse registry
2025-11-07T19:40:49.5233310Z [36;1m: enable Cargo sparse registry[0m
2025-11-07T19:40:49.5233667Z [36;1m# implemented in 1.66, stabilized in 1.68, made default in 1.70[0m
2025-11-07T19:40:49.5234665Z [36;1mif [ -z "${CARGO_REGISTRIES_CRATES_IO_PROTOCOL+set}" -o -f "/home/jswift/actions-runner-org2/_work/_temp"/.implicit_cargo_registries_crates_io_protocol ]; then[0m
2025-11-07T19:40:49.5235426Z [36;1m  if rustc +1.88.0 --version --verbose | grep -q '^release: 1\.6[89]\.'; then[0m
2025-11-07T19:40:49.5237915Z [36;1m    touch "/home/jswift/actions-runner-org2/_work/_temp"/.implicit_cargo_registries_crates_io_protocol || true[0m
2025-11-07T19:40:49.5238555Z [36;1m    echo CARGO_REGISTRIES_CRATES_IO_PROTOCOL=sparse >> $GITHUB_ENV[0m
2025-11-07T19:40:49.5239025Z [36;1m  elif rustc +1.88.0 --version --verbose | grep -q '^release: 1\.6[67]\.'; then[0m
2025-11-07T19:40:49.5239631Z [36;1m    touch "/home/jswift/actions-runner-org2/_work/_temp"/.implicit_cargo_registries_crates_io_protocol || true[0m
2025-11-07T19:40:49.5240763Z [36;1m    echo CARGO_REGISTRIES_CRATES_IO_PROTOCOL=git >> $GITHUB_ENV[0m
2025-11-07T19:40:49.5241094Z [36;1m  fi[0m
2025-11-07T19:40:49.5241271Z [36;1mfi[0m
2025-11-07T19:40:49.5267691Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:49.5268048Z env:
2025-11-07T19:40:49.5268238Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:49.5268494Z   CARGO_INCREMENTAL: 0
2025-11-07T19:40:49.5268707Z   CARGO_TERM_COLOR: always
2025-11-07T19:40:49.5268933Z ##[endgroup]
2025-11-07T19:40:49.5807943Z ##[group]Run : work around spurious network errors in curl 8.0
2025-11-07T19:40:49.5808429Z [36;1m: work around spurious network errors in curl 8.0[0m
2025-11-07T19:40:49.5809022Z [36;1m# https://rust-lang.zulipchat.com/#narrow/stream/246057-t-cargo/topic/timeout.20investigation[0m
2025-11-07T19:40:49.5809659Z [36;1mif rustc +1.88.0 --version --verbose | grep -q '^release: 1\.7[01]\.'; then[0m
2025-11-07T19:40:49.5810114Z [36;1m  echo CARGO_HTTP_MULTIPLEXING=false >> $GITHUB_ENV[0m
2025-11-07T19:40:49.5810422Z [36;1mfi[0m
2025-11-07T19:40:49.5842220Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:49.5842623Z env:
2025-11-07T19:40:49.5842854Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:49.5843149Z   CARGO_INCREMENTAL: 0
2025-11-07T19:40:49.5843399Z   CARGO_TERM_COLOR: always
2025-11-07T19:40:49.5843659Z ##[endgroup]
2025-11-07T19:40:49.6157796Z ##[group]Run rustc +1.88.0 --version --verbose
2025-11-07T19:40:49.6158149Z [36;1mrustc +1.88.0 --version --verbose[0m
2025-11-07T19:40:49.6191354Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:49.6191934Z env:
2025-11-07T19:40:49.6192144Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:49.6192420Z   CARGO_INCREMENTAL: 0
2025-11-07T19:40:49.6192745Z   CARGO_TERM_COLOR: always
2025-11-07T19:40:49.6192999Z ##[endgroup]
2025-11-07T19:40:49.6451150Z rustc 1.88.0 (6b00bc388 2025-06-23)
2025-11-07T19:40:49.6455231Z binary: rustc
2025-11-07T19:40:49.6458139Z commit-hash: 6b00bc3880198600130e1cf62b8f8a93494488cc
2025-11-07T19:40:49.6460269Z commit-date: 2025-06-23
2025-11-07T19:40:49.6462794Z host: x86_64-unknown-linux-gnu
2025-11-07T19:40:49.6465420Z release: 1.88.0
2025-11-07T19:40:49.6471031Z LLVM version: 20.1.5
2025-11-07T19:40:49.7696344Z ##[group]Run actions/cache@v3
2025-11-07T19:40:49.7696654Z with:
2025-11-07T19:40:49.7696863Z   path: ~/.cargo/registry
2025-11-07T19:40:49.7697117Z   key: Linux-cargo-registry-
2025-11-07T19:40:49.7699270Z   enableCrossOsArchive: false
2025-11-07T19:40:49.7699546Z   fail-on-cache-miss: false
2025-11-07T19:40:49.7699930Z   lookup-only: false
2025-11-07T19:40:49.7700256Z env:
2025-11-07T19:40:49.7700474Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:49.7700753Z   CARGO_INCREMENTAL: 0
2025-11-07T19:40:49.7700979Z   CARGO_TERM_COLOR: always
2025-11-07T19:40:49.7701448Z ##[endgroup]
2025-11-07T19:40:50.0912177Z Cache not found for input keys: Linux-cargo-registry-
2025-11-07T19:40:50.2137312Z ##[group]Run actions/cache@v3
2025-11-07T19:40:50.2137637Z with:
2025-11-07T19:40:50.2137852Z   path: ~/.cargo/git
2025-11-07T19:40:50.2138104Z   key: Linux-cargo-index-
2025-11-07T19:40:50.2138382Z   enableCrossOsArchive: false
2025-11-07T19:40:50.2138670Z   fail-on-cache-miss: false
2025-11-07T19:40:50.2138942Z   lookup-only: false
2025-11-07T19:40:50.2139170Z env:
2025-11-07T19:40:50.2139388Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:50.2139681Z   CARGO_INCREMENTAL: 0
2025-11-07T19:40:50.2139928Z   CARGO_TERM_COLOR: always
2025-11-07T19:40:50.2140180Z ##[endgroup]
2025-11-07T19:40:50.5812947Z Cache not found for input keys: Linux-cargo-index-
2025-11-07T19:40:50.6980171Z ##[group]Run actions/cache@v3
2025-11-07T19:40:50.6980561Z with:
2025-11-07T19:40:50.6980832Z   path: target
2025-11-07T19:40:50.6981141Z   key: Linux-cargo-build-target-
2025-11-07T19:40:50.6981550Z   enableCrossOsArchive: false
2025-11-07T19:40:50.6981926Z   fail-on-cache-miss: false
2025-11-07T19:40:50.6982264Z   lookup-only: false
2025-11-07T19:40:50.6982539Z env:
2025-11-07T19:40:50.6982741Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:50.6983016Z   CARGO_INCREMENTAL: 0
2025-11-07T19:40:50.6983259Z   CARGO_TERM_COLOR: always
2025-11-07T19:40:50.6983894Z ##[endgroup]
2025-11-07T19:40:50.9936926Z Cache not found for input keys: Linux-cargo-build-target-
2025-11-07T19:40:51.0064979Z ##[group]Run cargo fmt --all -- --check
2025-11-07T19:40:51.0067471Z [36;1mcargo fmt --all -- --check[0m
2025-11-07T19:40:51.0104134Z shell: /usr/bin/bash -e {0}
2025-11-07T19:40:51.0104630Z env:
2025-11-07T19:40:51.0104875Z   CARGO_HOME: /home/jswift/.cargo
2025-11-07T19:40:51.0105144Z   CARGO_INCREMENTAL: 0
2025-11-07T19:40:51.0105366Z   CARGO_TERM_COLOR: always
2025-11-07T19:40:51.0105586Z ##[endgroup]
2025-11-07T19:40:51.2109413Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:12:
2025-11-07T19:40:51.2110469Z  struct Cli {
2025-11-07T19:40:51.2110835Z      #[command(subcommand)]
2025-11-07T19:40:51.2111319Z      command: Option<Commands>,
2025-11-07T19:40:51.2111743Z -    
2025-11-07T19:40:51.2112045Z +
2025-11-07T19:40:51.2112388Z      /// Modules directory path
2025-11-07T19:40:51.2112903Z      #[arg(long, default_value = "./modules")]
2025-11-07T19:40:51.2113454Z      modules_dir: PathBuf,
2025-11-07T19:40:51.2114999Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:26:
2025-11-07T19:40:51.2115926Z          #[arg(short, long)]
2025-11-07T19:40:51.2118433Z          config: PathBuf,
2025-11-07T19:40:51.2118810Z      },
2025-11-07T19:40:51.2119116Z -    
2025-11-07T19:40:51.2119404Z +
2025-11-07T19:40:51.2119780Z      /// Validate a composition configuration
2025-11-07T19:40:51.2120265Z      Validate {
2025-11-07T19:40:51.2120652Z          /// Configuration file path
2025-11-07T19:40:51.2121584Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:33:
2025-11-07T19:40:51.2122889Z          #[arg(short, long)]
2025-11-07T19:40:51.2123351Z          config: PathBuf,
2025-11-07T19:40:51.2123722Z      },
2025-11-07T19:40:51.2124018Z -    
2025-11-07T19:40:51.2124290Z +
2025-11-07T19:40:51.2124866Z      /// Generate a configuration template
2025-11-07T19:40:51.2125337Z      GenerateTemplate {
2025-11-07T19:40:51.2125798Z          /// Output file path (default: stdout)
2025-11-07T19:40:51.2128657Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:40:
2025-11-07T19:40:51.2129482Z          #[arg(short, long)]
2025-11-07T19:40:51.2129935Z          output: Option<PathBuf>,
2025-11-07T19:40:51.2130334Z      },
2025-11-07T19:40:51.2130604Z -    
2025-11-07T19:40:51.2130876Z +
2025-11-07T19:40:51.2131270Z      /// Module registry operations
2025-11-07T19:40:51.2131733Z      #[command(subcommand)]
2025-11-07T19:40:51.2132163Z      Modules(ModuleCommands),
2025-11-07T19:40:51.2133390Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:50:
2025-11-07T19:40:51.2134177Z  enum ModuleCommands {
2025-11-07T19:40:51.2134800Z      /// List available modules
2025-11-07T19:40:51.2135204Z      List,
2025-11-07T19:40:51.2135503Z -    
2025-11-07T19:40:51.2135795Z +
2025-11-07T19:40:51.2137985Z      /// Install a module
2025-11-07T19:40:51.2138362Z      Install {
2025-11-07T19:40:51.2138840Z          /// Module source (path, registry URL, or git URL)
2025-11-07T19:40:51.2140696Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:57:
2025-11-07T19:40:51.2141612Z          source: String,
2025-11-07T19:40:51.2141979Z -        
2025-11-07T19:40:51.2142286Z +
2025-11-07T19:40:51.2142638Z          /// Module version (optional)
2025-11-07T19:40:51.2143102Z          #[arg(short, long)]
2025-11-07T19:40:51.2143536Z          version: Option<String>,
2025-11-07T19:40:51.2144597Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:62:
2025-11-07T19:40:51.2145438Z      },
2025-11-07T19:40:51.2145716Z -    
2025-11-07T19:40:51.2146000Z +
2025-11-07T19:40:51.2148619Z      /// Update a module
2025-11-07T19:40:51.2148990Z      Update {
2025-11-07T19:40:51.2149306Z          /// Module name
2025-11-07T19:40:51.2150095Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:67:
2025-11-07T19:40:51.2151259Z          name: String,
2025-11-07T19:40:51.2151619Z -        
2025-11-07T19:40:51.2151918Z +
2025-11-07T19:40:51.2152206Z          /// New version
2025-11-07T19:40:51.2152606Z          version: String,
2025-11-07T19:40:51.2152950Z      },
2025-11-07T19:40:51.2153648Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:72:
2025-11-07T19:40:51.2154594Z -    
2025-11-07T19:40:51.2154876Z +
2025-11-07T19:40:51.2155172Z      /// Remove a module
2025-11-07T19:40:51.2155528Z      Remove {
2025-11-07T19:40:51.2155854Z          /// Module name
2025-11-07T19:40:51.2156644Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:80:
2025-11-07T19:40:51.2162530Z  #[tokio::main]
2025-11-07T19:40:51.2162964Z  async fn main() -> std::result::Result<(), Box<dyn std::error::Error>> {
2025-11-07T19:40:51.2163355Z      let cli = Cli::parse();
2025-11-07T19:40:51.2163577Z -    
2025-11-07T19:40:51.2163741Z +
2025-11-07T19:40:51.2164012Z      let mut composer = NodeComposer::new(&cli.modules_dir);
2025-11-07T19:40:51.2164557Z -    
2025-11-07T19:40:51.2164816Z +
2025-11-07T19:40:51.2164998Z      match cli.command {
2025-11-07T19:40:51.2165275Z          Some(Commands::Compose { config }) => {
2025-11-07T19:40:51.2165668Z              println!("Composing node from configuration: {:?}", config);
2025-11-07T19:40:51.2166232Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:90:
2025-11-07T19:40:51.2166787Z              println!("Successfully composed node: {}", composed.spec.name);
2025-11-07T19:40:51.2167198Z              println!("Modules: {}", composed.modules.len());
2025-11-07T19:40:51.2167525Z              for module in &composed.modules {
2025-11-07T19:40:51.2167944Z -                println!("  - {} ({}): {:?}", module.info.name, module.info.version, module.status);
2025-11-07T19:40:51.2168322Z +                println!(
2025-11-07T19:40:51.2168554Z +                    "  - {} ({}): {:?}",
2025-11-07T19:40:51.2168901Z +                    module.info.name, module.info.version, module.status
2025-11-07T19:40:51.2169210Z +                );
2025-11-07T19:40:51.2169396Z              }
2025-11-07T19:40:51.2169569Z              Ok(())
2025-11-07T19:40:51.2169744Z          }
2025-11-07T19:40:51.2170154Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:97:
2025-11-07T19:40:51.2170597Z -        
2025-11-07T19:40:51.2170752Z +
2025-11-07T19:40:51.2170981Z          Some(Commands::Validate { config }) => {
2025-11-07T19:40:51.2171549Z              println!("Validating configuration: {:?}", config);
2025-11-07T19:40:51.2171931Z              let node_config = NodeConfig::from_file(&config)?;
2025-11-07T19:40:51.2172440Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:101:
2025-11-07T19:40:51.2173017Z              let validation = composer.validate_composition(&node_config.to_spec()?)?;
2025-11-07T19:40:51.2173379Z -            
2025-11-07T19:40:51.2173551Z +
2025-11-07T19:40:51.2173746Z              if validation.valid {
2025-11-07T19:40:51.2174251Z                  println!("✓ Configuration is valid");
2025-11-07T19:40:51.2174950Z                  if !validation.warnings.is_empty() {
2025-11-07T19:40:51.2176921Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:117:
2025-11-07T19:40:51.2177388Z                  std::process::exit(1)
2025-11-07T19:40:51.2177630Z              }
2025-11-07T19:40:51.2177796Z          }
2025-11-07T19:40:51.2177971Z -        
2025-11-07T19:40:51.2178125Z +
2025-11-07T19:40:51.2178372Z          Some(Commands::GenerateTemplate { output }) => {
2025-11-07T19:40:51.2178717Z              let template = composer.generate_config();
2025-11-07T19:40:51.2178978Z -            
2025-11-07T19:40:51.2179151Z +
2025-11-07T19:40:51.2179339Z              if let Some(path) = output {
2025-11-07T19:40:51.2179667Z                  std::fs::write(&path, template)?;
2025-11-07T19:40:51.2180378Z                  println!("Template written to: {:?}", path);
2025-11-07T19:40:51.2181285Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:129:
2025-11-07T19:40:51.2182038Z              }
2025-11-07T19:40:51.2182338Z              Ok(())
2025-11-07T19:40:51.2182641Z          }
2025-11-07T19:40:51.2182915Z -        
2025-11-07T19:40:51.2183175Z +
2025-11-07T19:40:51.2183586Z          Some(Commands::Modules(ModuleCommands::List)) => {
2025-11-07T19:40:51.2184182Z              composer.registry_mut().discover_modules()?;
2025-11-07T19:40:51.2184867Z              let modules = composer.registry().list_modules();
2025-11-07T19:40:51.2185392Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:136:
2025-11-07T19:40:51.2186175Z -            
2025-11-07T19:40:51.2186343Z +
2025-11-07T19:40:51.2186534Z              if modules.is_empty() {
2025-11-07T19:40:51.2188593Z                  println!("No modules found in {:?}", cli.modules_dir);
2025-11-07T19:40:51.2188909Z              } else {
2025-11-07T19:40:51.2189334Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:147:
2025-11-07T19:40:51.2189749Z              }
2025-11-07T19:40:51.2189931Z              Ok(())
2025-11-07T19:40:51.2190106Z          }
2025-11-07T19:40:51.2190275Z -        
2025-11-07T19:40:51.2190427Z +
2025-11-07T19:40:51.2190866Z          Some(Commands::Modules(ModuleCommands::Install { source, version: _ })) => {
2025-11-07T19:40:51.2191428Z              let module_source = if source.starts_with("http://") || source.starts_with("https://") {
2025-11-07T19:40:51.2191873Z                  ModuleSource::Registry(source)
2025-11-07T19:40:51.2192359Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:159:
2025-11-07T19:40:51.2192792Z              } else {
2025-11-07T19:40:51.2193055Z                  ModuleSource::Path(PathBuf::from(source))
2025-11-07T19:40:51.2193318Z              };
2025-11-07T19:40:51.2193497Z -            
2025-11-07T19:40:51.2193657Z +
2025-11-07T19:40:51.2194040Z              println!("Installing module from: {:?}", module_source);
2025-11-07T19:40:51.2194933Z              let module = composer.registry_mut().install_module(module_source)?;
2025-11-07T19:40:51.2195766Z -            println!("Successfully installed: {} ({})", module.name, module.version);
2025-11-07T19:40:51.2196385Z +            println!(
2025-11-07T19:40:51.2196750Z +                "Successfully installed: {} ({})",
2025-11-07T19:40:51.2197452Z +                module.name, module.version
2025-11-07T19:40:51.2197874Z +            );
2025-11-07T19:40:51.2198182Z              Ok(())
2025-11-07T19:40:51.2198481Z          }
2025-11-07T19:40:51.2198744Z -        
2025-11-07T19:40:51.2198994Z +
2025-11-07T19:40:51.2199495Z          Some(Commands::Modules(ModuleCommands::Update { name, version })) => {
2025-11-07T19:40:51.2200228Z              println!("Updating module {} to version {}", name, version);
2025-11-07T19:40:51.2200950Z              let module = composer.registry_mut().update_module(&name, &version)?;
2025-11-07T19:40:51.2201904Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:172:
2025-11-07T19:40:51.2202882Z              println!("Successfully updated: {} ({})", module.name, module.version);
2025-11-07T19:40:51.2203469Z              Ok(())
2025-11-07T19:40:51.2203758Z          }
2025-11-07T19:40:51.2204045Z -        
2025-11-07T19:40:51.2204473Z +
2025-11-07T19:40:51.2204928Z          Some(Commands::Modules(ModuleCommands::Remove { name })) => {
2025-11-07T19:40:51.2205320Z              println!("Removing module: {}", name);
2025-11-07T19:40:51.2205648Z              composer.registry_mut().remove_module(&name)?;
2025-11-07T19:40:51.2206594Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:179:
2025-11-07T19:40:51.2207291Z              println!("Successfully removed: {}", name);
2025-11-07T19:40:51.2207579Z              Ok(())
2025-11-07T19:40:51.2207967Z          }
2025-11-07T19:40:51.2208151Z -        
2025-11-07T19:40:51.2208308Z +
2025-11-07T19:40:51.2208474Z          None => {
2025-11-07T19:40:51.2208755Z              println!("No command specified. Use --help for usage.");
2025-11-07T19:40:51.2209054Z              Ok(())
2025-11-07T19:40:51.2209466Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-compose.rs:186:
2025-11-07T19:40:51.2209880Z          }
2025-11-07T19:40:51.2210049Z      }
2025-11-07T19:40:51.2210204Z  }
2025-11-07T19:40:51.2210364Z -
2025-11-07T19:40:51.2210517Z  
2025-11-07T19:40:51.2211034Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-keygen.rs:3:
2025-11-07T19:40:51.2211578Z  //! Generate governance keypairs for Bitcoin governance operations.
2025-11-07T19:40:51.2211909Z  
2025-11-07T19:40:51.2212098Z  use clap::Parser;
2025-11-07T19:40:51.2212371Z -use developer_sdk::governance::GovernanceKeypair;
2025-11-07T19:40:51.2212783Z  use developer_sdk::cli::output::{OutputFormat, OutputFormatter};
2025-11-07T19:40:51.2213177Z +use developer_sdk::governance::GovernanceKeypair;
2025-11-07T19:40:51.2213454Z  use std::fs;
2025-11-07T19:40:51.2213699Z  // No need for Path import
2025-11-07T19:40:51.2214065Z  
2025-11-07T19:40:51.2214855Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-keygen.rs:53:
2025-11-07T19:40:51.2215659Z          if seed_bytes.len() < 32 {
2025-11-07T19:40:51.2216187Z              return Err("Seed must be at least 32 bytes".into());
2025-11-07T19:40:51.2216663Z          }
2025-11-07T19:40:51.2216830Z -        
2025-11-07T19:40:51.2216997Z +
2025-11-07T19:40:51.2217189Z          let mut seed_array = [0u8; 32];
2025-11-07T19:40:51.2217698Z          seed_array.copy_from_slice(&seed_bytes[..32]);
2025-11-07T19:40:51.2218242Z          GovernanceKeypair::from_secret_key(&seed_array)?
2025-11-07T19:40:51.2218752Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-keygen.rs:68:
2025-11-07T19:40:51.2219191Z      Ok(keypair)
2025-11-07T19:40:51.2219368Z  }
2025-11-07T19:40:51.2219523Z  
2025-11-07T19:40:51.2219947Z -fn save_keypair(keypair: &GovernanceKeypair, output_path: &str) -> Result<(), Box<dyn std::error::Error>> {
2025-11-07T19:40:51.2220404Z +fn save_keypair(
2025-11-07T19:40:51.2220609Z +    keypair: &GovernanceKeypair,
2025-11-07T19:40:51.2220861Z +    output_path: &str,
2025-11-07T19:40:51.2221108Z +) -> Result<(), Box<dyn std::error::Error>> {
2025-11-07T19:40:51.2221410Z      let keypair_data = serde_json::json!({
2025-11-07T19:40:51.2222012Z          "public_key": hex::encode(keypair.public_key().to_bytes()),
2025-11-07T19:40:51.2222420Z          "secret_key": hex::encode(keypair.secret_key_bytes()),
2025-11-07T19:40:51.2222931Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-keygen.rs:97:
2025-11-07T19:40:51.2223350Z              },
2025-11-07T19:40:51.2223568Z              "output_file": args.output,
2025-11-07T19:40:51.2223807Z          });
2025-11-07T19:40:51.2224110Z -        formatter.format(&output_data).unwrap_or_else(|_| "{}".to_string())
2025-11-07T19:40:51.2224716Z +        formatter
2025-11-07T19:40:51.2224937Z +            .format(&output_data)
2025-11-07T19:40:51.2225203Z +            .unwrap_or_else(|_| "{}".to_string())
2025-11-07T19:40:51.2225798Z      } else {
2025-11-07T19:40:51.2226076Z          let mut output = "Generated governance keypair\n".to_string();
2025-11-07T19:40:51.2226785Z          output.push_str(&format!("Public key: {}\n", keypair.public_key()));
2025-11-07T19:40:51.2227361Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-keygen.rs:104:
2025-11-07T19:40:51.2227804Z          if args.show_private {
2025-11-07T19:40:51.2228230Z -            output.push_str(&format!("Secret key: {}\n", hex::encode(keypair.secret_key_bytes())));
2025-11-07T19:40:51.2228640Z +            output.push_str(&format!(
2025-11-07T19:40:51.2228907Z +                "Secret key: {}\n",
2025-11-07T19:40:51.2229398Z +                hex::encode(keypair.secret_key_bytes())
2025-11-07T19:40:51.2229679Z +            ));
2025-11-07T19:40:51.2229864Z          }
2025-11-07T19:40:51.2230119Z          output.push_str(&format!("Saved to: {}\n", args.output));
2025-11-07T19:40:51.2230425Z          output
2025-11-07T19:40:51.2230820Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-verify.rs:3:
2025-11-07T19:40:51.2231325Z  //! Verify governance signatures and multisig thresholds.
2025-11-07T19:40:51.2231607Z  
2025-11-07T19:40:51.2231815Z  use clap::{Parser, Subcommand};
2025-11-07T19:40:51.2232233Z -use developer_sdk::governance::{GovernanceMessage, Multisig, Signature, PublicKey};
2025-11-07T19:40:51.2232736Z -use developer_sdk::cli::output::{OutputFormat, OutputFormatter};
2025-11-07T19:40:51.2233199Z  use developer_sdk::cli::input::{parse_comma_separated, parse_threshold};
2025-11-07T19:40:51.2233648Z +use developer_sdk::cli::output::{OutputFormat, OutputFormatter};
2025-11-07T19:40:51.2234144Z +use developer_sdk::governance::{GovernanceMessage, Multisig, PublicKey, Signature};
2025-11-07T19:40:51.2234772Z  use std::fs;
2025-11-07T19:40:51.2234979Z  use std::path::Path;
2025-11-07T19:40:51.2235173Z  
2025-11-07T19:40:51.2237062Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-verify.rs:88:
2025-11-07T19:40:51.2237691Z  fn verify_message(args: &Args) -> Result<VerificationResult, Box<dyn std::error::Error>> {
2025-11-07T19:40:51.2238092Z      // Create the message
2025-11-07T19:40:51.2238346Z      let message = match &args.message {
2025-11-07T19:40:51.2238667Z -        MessageCommand::Release { version, commit } => {
2025-11-07T19:40:51.2238990Z -            GovernanceMessage::Release {
2025-11-07T19:40:51.2239266Z -                version: version.clone(),
2025-11-07T19:40:51.2239547Z -                commit_hash: commit.clone(),
2025-11-07T19:40:51.2239794Z -            }
2025-11-07T19:40:51.2239964Z -        }
2025-11-07T19:40:51.2240198Z -        MessageCommand::Module { name, version } => {
2025-11-07T19:40:51.2240521Z -            GovernanceMessage::ModuleApproval {
2025-11-07T19:40:51.2240815Z -                module_name: name.clone(),
2025-11-07T19:40:51.2241086Z -                version: version.clone(),
2025-11-07T19:40:51.2241324Z -            }
2025-11-07T19:40:51.2241492Z -        }
2025-11-07T19:40:51.2241737Z -        MessageCommand::Budget { amount, purpose } => {
2025-11-07T19:40:51.2242071Z -            GovernanceMessage::BudgetDecision {
2025-11-07T19:40:51.2242511Z -                amount: *amount,
2025-11-07T19:40:51.2242775Z -                purpose: purpose.clone(),
2025-11-07T19:40:51.2243016Z -            }
2025-11-07T19:40:51.2243190Z -        }
2025-11-07T19:40:51.2243513Z +        MessageCommand::Release { version, commit } => GovernanceMessage::Release {
2025-11-07T19:40:51.2243908Z +            version: version.clone(),
2025-11-07T19:40:51.2244173Z +            commit_hash: commit.clone(),
2025-11-07T19:40:51.2244661Z +        },
2025-11-07T19:40:51.2245010Z +        MessageCommand::Module { name, version } => GovernanceMessage::ModuleApproval {
2025-11-07T19:40:51.2245411Z +            module_name: name.clone(),
2025-11-07T19:40:51.2245678Z +            version: version.clone(),
2025-11-07T19:40:51.2245905Z +        },
2025-11-07T19:40:51.2248091Z +        MessageCommand::Budget { amount, purpose } => GovernanceMessage::BudgetDecision {
2025-11-07T19:40:51.2248482Z +            amount: *amount,
2025-11-07T19:40:51.2248733Z +            purpose: purpose.clone(),
2025-11-07T19:40:51.2248971Z +        },
2025-11-07T19:40:51.2249139Z      };
2025-11-07T19:40:51.2249291Z  
2025-11-07T19:40:51.2249465Z      // Load signatures
2025-11-07T19:40:51.2249894Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-verify.rs:144:
2025-11-07T19:40:51.2259903Z      let threshold_met = if let Some(threshold_str) = &args.threshold {
2025-11-07T19:40:51.2260794Z          let (threshold, total) = parse_threshold(threshold_str)?;
2025-11-07T19:40:51.2261381Z          if public_keys.len() != total {
2025-11-07T19:40:51.2261849Z -            return Err(format!("Expected {} public keys, got {}", total, public_keys.len()).into());
2025-11-07T19:40:51.2262276Z +            return Err(
2025-11-07T19:40:51.2262645Z +                format!("Expected {} public keys, got {}", total, public_keys.len()).into(),
2025-11-07T19:40:51.2262998Z +            );
2025-11-07T19:40:51.2263185Z          }
2025-11-07T19:40:51.2263350Z -        
2025-11-07T19:40:51.2263525Z +
2025-11-07T19:40:51.2263831Z          let multisig = Multisig::new(threshold, total, public_keys)?;
2025-11-07T19:40:51.2264208Z          multisig.verify(&message_bytes, &signatures)?
2025-11-07T19:40:51.2264869Z      } else {
2025-11-07T19:40:51.2265344Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-verify.rs:169:
2025-11-07T19:40:51.2265787Z      threshold_met: bool,
2025-11-07T19:40:51.2265992Z  }
2025-11-07T19:40:51.2266146Z  
2025-11-07T19:40:51.2266554Z -fn load_signatures(signature_files: &[String]) -> Result<Vec<Signature>, Box<dyn std::error::Error>> {
2025-11-07T19:40:51.2266988Z +fn load_signatures(
2025-11-07T19:40:51.2267205Z +    signature_files: &[String],
2025-11-07T19:40:51.2267697Z +) -> Result<Vec<Signature>, Box<dyn std::error::Error>> {
2025-11-07T19:40:51.2268075Z      let mut signatures = Vec::new();
2025-11-07T19:40:51.2268310Z -    
2025-11-07T19:40:51.2268468Z +
2025-11-07T19:40:51.2268651Z      for file_path in signature_files {
2025-11-07T19:40:51.2268953Z          if !Path::new(file_path).exists() {
2025-11-07T19:40:51.2269327Z              return Err(format!("Signature file not found: {}", file_path).into());
2025-11-07T19:40:51.2269883Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-verify.rs:194:
2025-11-07T19:40:51.2270302Z  
2025-11-07T19:40:51.2270689Z  fn load_public_keys(pubkey_files: &[String]) -> Result<Vec<PublicKey>, Box<dyn std::error::Error>> {
2025-11-07T19:40:51.2271142Z      let mut public_keys = Vec::new();
2025-11-07T19:40:51.2271377Z -    
2025-11-07T19:40:51.2271535Z +
2025-11-07T19:40:51.2271714Z      for file_path in pubkey_files {
2025-11-07T19:40:51.2271992Z          if !Path::new(file_path).exists() {
2025-11-07T19:40:51.2272355Z              return Err(format!("Public key file not found: {}", file_path).into());
2025-11-07T19:40:51.2272903Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-verify.rs:228:
2025-11-07T19:40:51.2273390Z              "invalid_signatures": result.invalid_signatures,
2025-11-07T19:40:51.2273913Z              "threshold_met": result.threshold_met,
2025-11-07T19:40:51.2274177Z          });
2025-11-07T19:40:51.2274740Z -        formatter.format(&output_data).unwrap_or_else(|_| "{}".to_string())
2025-11-07T19:40:51.2275102Z +        formatter
2025-11-07T19:40:51.2275307Z +            .format(&output_data)
2025-11-07T19:40:51.2275578Z +            .unwrap_or_else(|_| "{}".to_string())
2025-11-07T19:40:51.2275830Z      } else {
2025-11-07T19:40:51.2276083Z          let mut output = "Verification Results\n".to_string();
2025-11-07T19:40:51.2276527Z          output.push_str(&format!("Message: {}\n", result.message.description()));
2025-11-07T19:40:51.2277104Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/bin/bllvm-verify.rs:235:
2025-11-07T19:40:51.2277685Z          output.push_str(&format!("Valid signatures: {}\n", result.valid_signatures));
2025-11-07T19:40:51.2278192Z -        output.push_str(&format!("Invalid signatures: {}\n", result.invalid_signatures));
2025-11-07T19:40:51.2278593Z +        output.push_str(&format!(
2025-11-07T19:40:51.2278851Z +            "Invalid signatures: {}\n",
2025-11-07T19:40:51.2279125Z +            result.invalid_signatures
2025-11-07T19:40:51.2279364Z +        ));
2025-11-07T19:40:51.2279663Z          output.push_str(&format!("Threshold met: {}\n", result.threshold_met));
2025-11-07T19:40:51.2280007Z          output
2025-11-07T19:40:51.2280180Z      }
2025-11-07T19:40:51.2341914Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/cli/mod.rs:4:
2025-11-07T19:40:51.2342624Z  
2025-11-07T19:40:51.2342856Z  pub mod input;
2025-11-07T19:40:51.2343113Z  pub mod output;
2025-11-07T19:40:51.2343346Z -
2025-11-07T19:40:51.2343534Z -
2025-11-07T19:40:51.2343718Z -
2025-11-07T19:40:51.2343900Z -
2025-11-07T19:40:51.2344073Z  
2025-11-07T19:40:51.2353365Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/cli/output.rs:107:
2025-11-07T19:40:51.2354054Z          assert!(result.unwrap().contains("test"));
2025-11-07T19:40:51.2354592Z      }
2025-11-07T19:40:51.2354800Z  }
2025-11-07T19:40:51.2354963Z -
2025-11-07T19:40:51.2355115Z -
2025-11-07T19:40:51.2355271Z -
2025-11-07T19:40:51.2355419Z -
2025-11-07T19:40:51.2355568Z  
2025-11-07T19:40:51.2362781Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:2:
2025-11-07T19:40:51.2363549Z  //!
2025-11-07T19:40:51.2363992Z  //! High-level API for composing Bitcoin nodes from modules.
2025-11-07T19:40:51.2364751Z  
2025-11-07T19:40:51.2365054Z -use std::path::Path;
2025-11-07T19:40:51.2365310Z -use crate::composition::types::*;
2025-11-07T19:40:51.2365608Z  use crate::composition::config::NodeConfig;
2025-11-07T19:40:51.2365975Z -use crate::composition::validation::validate_composition;
2025-11-07T19:40:51.2366376Z -use crate::composition::schema::validate_config_schema;
2025-11-07T19:40:51.2366766Z -use crate::composition::registry::ModuleRegistry;
2025-11-07T19:40:51.2367127Z  use crate::composition::lifecycle::ModuleLifecycle;
2025-11-07T19:40:51.2367477Z +use crate::composition::registry::ModuleRegistry;
2025-11-07T19:40:51.2367834Z +use crate::composition::schema::validate_config_schema;
2025-11-07T19:40:51.2368151Z +use crate::composition::types::*;
2025-11-07T19:40:51.2368477Z +use crate::composition::validation::validate_composition;
2025-11-07T19:40:51.2368793Z +use std::path::Path;
2025-11-07T19:40:51.2368988Z  
2025-11-07T19:40:51.2369233Z  /// Node composer for building nodes from modules
2025-11-07T19:40:51.2369548Z  pub struct NodeComposer {
2025-11-07T19:40:51.2370003Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:21:
2025-11-07T19:40:51.2370557Z      pub fn new<P: AsRef<Path>>(modules_dir: P) -> Self {
2025-11-07T19:40:51.2370909Z          let registry = ModuleRegistry::new(modules_dir);
2025-11-07T19:40:51.2371248Z          let lifecycle = ModuleLifecycle::new(registry);
2025-11-07T19:40:51.2371912Z -        
2025-11-07T19:40:51.2372314Z -        Self {
2025-11-07T19:40:51.2372516Z -            lifecycle,
2025-11-07T19:40:51.2372715Z -        }
2025-11-07T19:40:51.2372889Z +
2025-11-07T19:40:51.2373063Z +        Self { lifecycle }
2025-11-07T19:40:51.2373280Z      }
2025-11-07T19:40:51.2373440Z -    
2025-11-07T19:40:51.2373609Z +
2025-11-07T19:40:51.2373805Z      /// Compose node from configuration file
2025-11-07T19:40:51.2374137Z      pub async fn compose_from_config<P: AsRef<Path>>(
2025-11-07T19:40:51.2374745Z          &mut self,
2025-11-07T19:40:51.2375459Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:33:
2025-11-07T19:40:51.2377764Z -        config_path: P
2025-11-07T19:40:51.2377990Z +        config_path: P,
2025-11-07T19:40:51.2378224Z      ) -> Result<ComposedNode> {
2025-11-07T19:40:51.2378475Z          // Load configuration
2025-11-07T19:40:51.2378778Z          let config = NodeConfig::from_file(config_path)?;
2025-11-07T19:40:51.2379664Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:37:
2025-11-07T19:40:51.2380135Z -        
2025-11-07T19:40:51.2380299Z +
2025-11-07T19:40:51.2380481Z          // Validate schema
2025-11-07T19:40:51.2380789Z          let schema_validation = validate_config_schema(&config)?;
2025-11-07T19:40:51.2381142Z          if !schema_validation.valid {
2025-11-07T19:40:51.2381806Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:41:
2025-11-07T19:40:51.2382359Z -            return Err(CompositionError::ValidationFailed(
2025-11-07T19:40:51.2382794Z -                format!("Schema validation failed: {:?}", schema_validation.errors)
2025-11-07T19:40:51.2383126Z -            ));
2025-11-07T19:40:51.2383406Z +            return Err(CompositionError::ValidationFailed(format!(
2025-11-07T19:40:51.2383733Z +                "Schema validation failed: {:?}",
2025-11-07T19:40:51.2384022Z +                schema_validation.errors
2025-11-07T19:40:51.2384265Z +            )));
2025-11-07T19:40:51.2384605Z          }
2025-11-07T19:40:51.2384771Z -        
2025-11-07T19:40:51.2384924Z +
2025-11-07T19:40:51.2385097Z          // Convert to spec
2025-11-07T19:40:51.2385327Z          let spec = config.to_spec()?;
2025-11-07T19:40:51.2385560Z -        
2025-11-07T19:40:51.2385716Z +
2025-11-07T19:40:51.2385892Z          // Compose from spec
2025-11-07T19:40:51.2386134Z          self.compose_node(spec).await
2025-11-07T19:40:51.2388229Z      }
2025-11-07T19:40:51.2388616Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:52:
2025-11-07T19:40:51.2389053Z -    
2025-11-07T19:40:51.2389210Z +
2025-11-07T19:40:51.2389391Z      /// Compose node from specification
2025-11-07T19:40:51.2389792Z      pub async fn compose_node(&mut self, spec: NodeSpec) -> Result<ComposedNode> {
2025-11-07T19:40:51.2390165Z          // Validate composition
2025-11-07T19:40:51.2390614Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:56:
2025-11-07T19:40:51.2391117Z          let validation = self.validate_composition(&spec)?;
2025-11-07T19:40:51.2391429Z          if !validation.valid {
2025-11-07T19:40:51.2391746Z -            return Err(CompositionError::ValidationFailed(
2025-11-07T19:40:51.2392448Z -                format!("Composition validation failed: {:?}", validation.errors)
2025-11-07T19:40:51.2393035Z -            ));
2025-11-07T19:40:51.2393515Z +            return Err(CompositionError::ValidationFailed(format!(
2025-11-07T19:40:51.2394102Z +                "Composition validation failed: {:?}",
2025-11-07T19:40:51.2394805Z +                validation.errors
2025-11-07T19:40:51.2395229Z +            )));
2025-11-07T19:40:51.2395539Z          }
2025-11-07T19:40:51.2395826Z -        
2025-11-07T19:40:51.2396092Z +
2025-11-07T19:40:51.2396392Z          // Load all modules
2025-11-07T19:40:51.2396830Z          let mut loaded_modules = Vec::new();
2025-11-07T19:40:51.2397302Z          for module_spec in &spec.modules {
2025-11-07T19:40:51.2398421Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:66:
2025-11-07T19:40:51.2398980Z              if !module_spec.enabled {
2025-11-07T19:40:51.2399234Z                  continue;
2025-11-07T19:40:51.2399429Z              }
2025-11-07T19:40:51.2399649Z -            
2025-11-07T19:40:51.2400059Z -            let info = self.lifecycle.registry.get_module(
2025-11-07T19:40:51.2401063Z -                &module_spec.name,
2025-11-07T19:40:51.2401543Z -                module_spec.version.as_deref()
2025-11-07T19:40:51.2401992Z -            )?;
2025-11-07T19:40:51.2402242Z -            
2025-11-07T19:40:51.2402414Z +
2025-11-07T19:40:51.2402589Z +            let info = self
2025-11-07T19:40:51.2402817Z +                .lifecycle
2025-11-07T19:40:51.2403042Z +                .registry
2025-11-07T19:40:51.2403358Z +                .get_module(&module_spec.name, module_spec.version.as_deref())?;
2025-11-07T19:40:51.2403684Z +
2025-11-07T19:40:51.2403893Z              // Start module via lifecycle (now async)
2025-11-07T19:40:51.2404242Z              self.lifecycle_mut().start_module(&info.name).await?;
2025-11-07T19:40:51.2405124Z              let status = self.lifecycle().get_module_status(&info.name).await?;
2025-11-07T19:40:51.2405862Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:78:
2025-11-07T19:40:51.2406997Z              let health = self.lifecycle().health_check(&info.name).await?;
2025-11-07T19:40:51.2407593Z -            
2025-11-07T19:40:51.2409779Z +
2025-11-07T19:40:51.2410002Z              loaded_modules.push(LoadedModule {
2025-11-07T19:40:51.2410274Z                  info,
2025-11-07T19:40:51.2410472Z                  status,
2025-11-07T19:40:51.2410899Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:83:
2025-11-07T19:40:51.2411338Z                  health,
2025-11-07T19:40:51.2411530Z              });
2025-11-07T19:40:51.2411708Z          }
2025-11-07T19:40:51.2411894Z -        
2025-11-07T19:40:51.2412048Z +
2025-11-07T19:40:51.2412322Z          Ok(ComposedNode {
2025-11-07T19:40:51.2412532Z              spec,
2025-11-07T19:40:51.2412744Z              modules: loaded_modules,
2025-11-07T19:40:51.2413204Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:90:
2025-11-07T19:40:51.2413711Z              status: NodeStatus::Running,
2025-11-07T19:40:51.2413955Z          })
2025-11-07T19:40:51.2414122Z      }
2025-11-07T19:40:51.2414457Z -    
2025-11-07T19:40:51.2414662Z +
2025-11-07T19:40:51.2414884Z      /// Validate composition
2025-11-07T19:40:51.2415281Z      pub fn validate_composition(&self, spec: &NodeSpec) -> Result<ValidationResult> {
2025-11-07T19:40:51.2415736Z          validate_composition(spec, &self.lifecycle.registry)
2025-11-07T19:40:51.2416252Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:97:
2025-11-07T19:40:51.2416680Z      }
2025-11-07T19:40:51.2416849Z -    
2025-11-07T19:40:51.2417002Z +
2025-11-07T19:40:51.2417196Z      /// Generate configuration template
2025-11-07T19:40:51.2419810Z      pub fn generate_config(&self) -> String {
2025-11-07T19:40:51.2420355Z          let config = NodeConfig::template();
2025-11-07T19:40:51.2420839Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:102:
2025-11-07T19:40:51.2421317Z          toml::to_string_pretty(&config)
2025-11-07T19:40:51.2422231Z              .unwrap_or_else(|_| "# Error generating config template".to_string())
2025-11-07T19:40:51.2422565Z      }
2025-11-07T19:40:51.2422725Z -    
2025-11-07T19:40:51.2422891Z +
2025-11-07T19:40:51.2423086Z      /// Get module registry (via lifecycle)
2025-11-07T19:40:51.2423382Z      pub fn registry(&self) -> &ModuleRegistry {
2025-11-07T19:40:51.2423669Z          &self.lifecycle.registry
2025-11-07T19:40:51.2424643Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:109:
2025-11-07T19:40:51.2425672Z      }
2025-11-07T19:40:51.2425945Z -    
2025-11-07T19:40:51.2426212Z +
2025-11-07T19:40:51.2426522Z      /// Get mutable module registry (via lifecycle)
2025-11-07T19:40:51.2429108Z      pub fn registry_mut(&mut self) -> &mut ModuleRegistry {
2025-11-07T19:40:51.2429494Z          &mut self.lifecycle.registry
2025-11-07T19:40:51.2429969Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:114:
2025-11-07T19:40:51.2430411Z      }
2025-11-07T19:40:51.2430567Z -    
2025-11-07T19:40:51.2430721Z +
2025-11-07T19:40:51.2431039Z      /// Get module lifecycle manager
2025-11-07T19:40:51.2431590Z      pub fn lifecycle(&self) -> &ModuleLifecycle {
2025-11-07T19:40:51.2432113Z          &self.lifecycle
2025-11-07T19:40:51.2432905Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:119:
2025-11-07T19:40:51.2433680Z      }
2025-11-07T19:40:51.2433978Z -    
2025-11-07T19:40:51.2434252Z +
2025-11-07T19:40:51.2434791Z      /// Get mutable module lifecycle manager
2025-11-07T19:40:51.2435387Z      pub fn lifecycle_mut(&mut self) -> &mut ModuleLifecycle {
2025-11-07T19:40:51.2435908Z          &mut self.lifecycle
2025-11-07T19:40:51.2436687Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/composer.rs:124:
2025-11-07T19:40:51.2437391Z      }
2025-11-07T19:40:51.2437638Z  }
2025-11-07T19:40:51.2437874Z -
2025-11-07T19:40:51.2439745Z  
2025-11-07T19:40:51.2440826Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:2:
2025-11-07T19:40:51.2441617Z  //!
2025-11-07T19:40:51.2442117Z  //! TOML-based declarative configuration format for node composition.
2025-11-07T19:40:51.2442701Z  
2025-11-07T19:40:51.2443047Z +use crate::composition::types::*;
2025-11-07T19:40:51.2443520Z  use serde::{Deserialize, Serialize};
2025-11-07T19:40:51.2443973Z  use std::collections::HashMap;
2025-11-07T19:40:51.2444599Z  use std::path::{Path, PathBuf};
2025-11-07T19:40:51.2445368Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:8:
2025-11-07T19:40:51.2446640Z -use crate::composition::types::*;
2025-11-07T19:40:51.2447123Z  
2025-11-07T19:40:51.2447480Z  /// Node configuration from TOML file
2025-11-07T19:40:51.2448028Z  #[derive(Debug, Clone, Serialize, Deserialize)]
2025-11-07T19:40:51.2448922Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:61:
2025-11-07T19:40:51.2449718Z  impl NodeConfig {
2025-11-07T19:40:51.2450094Z      /// Load configuration from TOML file
2025-11-07T19:40:51.2450676Z      pub fn from_file<P: AsRef<Path>>(path: P) -> Result<Self> {
2025-11-07T19:40:51.2451387Z -        let contents = std::fs::read_to_string(path.as_ref())
2025-11-07T19:40:51.2452054Z -            .map_err(|e| CompositionError::IoError(e))?;
2025-11-07T19:40:51.2452547Z -        
2025-11-07T19:40:51.2453003Z -        let config: NodeConfig = toml::from_str(&contents)
2025-11-07T19:40:51.2453666Z -            .map_err(|e| CompositionError::InvalidConfiguration(
2025-11-07T19:40:51.2454244Z -                format!("Failed to parse TOML: {}", e)
2025-11-07T19:40:51.2455873Z -            ))?;
2025-11-07T19:40:51.2458232Z -        
2025-11-07T19:40:51.2458553Z +        let contents =
2025-11-07T19:40:51.2459205Z +            std::fs::read_to_string(path.as_ref()).map_err(|e| CompositionError::IoError(e))?;
2025-11-07T19:40:51.2459834Z +
2025-11-07T19:40:51.2460726Z +        let config: NodeConfig = toml::from_str(&contents).map_err(|e| {
2025-11-07T19:40:51.2461685Z +            CompositionError::InvalidConfiguration(format!("Failed to parse TOML: {}", e))
2025-11-07T19:40:51.2462414Z +        })?;
2025-11-07T19:40:51.2462700Z +
2025-11-07T19:40:51.2462983Z          Ok(config)
2025-11-07T19:40:51.2463281Z      }
2025-11-07T19:40:51.2463542Z -    
2025-11-07T19:40:51.2463796Z +
2025-11-07T19:40:51.2464123Z      /// Save configuration to TOML file
2025-11-07T19:40:51.2464923Z      pub fn to_file<P: AsRef<Path>>(&self, path: P) -> Result<()> {
2025-11-07T19:40:51.2467687Z -        let toml_string = toml::to_string_pretty(self)
2025-11-07T19:40:51.2468299Z -            .map_err(|e| CompositionError::SerializationError(
2025-11-07T19:40:51.2468889Z -                format!("Failed to serialize config: {}", e)
2025-11-07T19:40:51.2469349Z -            ))?;
2025-11-07T19:40:51.2469651Z -        
2025-11-07T19:40:51.2470008Z -        std::fs::write(path.as_ref(), toml_string)
2025-11-07T19:40:51.2470553Z -            .map_err(|e| CompositionError::IoError(e))?;
2025-11-07T19:40:51.2470993Z -        
2025-11-07T19:40:51.2471432Z +        let toml_string = toml::to_string_pretty(self).map_err(|e| {
2025-11-07T19:40:51.2472712Z +            CompositionError::SerializationError(format!("Failed to serialize config: {}", e))
2025-11-07T19:40:51.2473415Z +        })?;
2025-11-07T19:40:51.2473690Z +
2025-11-07T19:40:51.2474217Z +        std::fs::write(path.as_ref(), toml_string).map_err(|e| CompositionError::IoError(e))?;
2025-11-07T19:40:51.2475072Z +
2025-11-07T19:40:51.2475331Z          Ok(())
2025-11-07T19:40:51.2475615Z      }
2025-11-07T19:40:51.2475865Z -    
2025-11-07T19:40:51.2476125Z +
2025-11-07T19:40:51.2476403Z      /// Convert to NodeSpec
2025-11-07T19:40:51.2476847Z      pub fn to_spec(&self) -> Result<NodeSpec> {
2025-11-07T19:40:51.2477401Z          let network = match self.node.network.as_str() {
2025-11-07T19:40:51.2478448Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:91:
2025-11-07T19:40:51.2479269Z              "mainnet" => NetworkType::Mainnet,
2025-11-07T19:40:51.2479754Z              "testnet" => NetworkType::Testnet,
2025-11-07T19:40:51.2480235Z              "regtest" => NetworkType::Regtest,
2025-11-07T19:40:51.2480797Z -            _ => return Err(CompositionError::InvalidConfiguration(
2025-11-07T19:40:51.2481441Z -                format!("Unknown network type: {}", self.node.network)
2025-11-07T19:40:51.2481950Z -            )),
2025-11-07T19:40:51.2482253Z +            _ => {
2025-11-07T19:40:51.2482747Z +                return Err(CompositionError::InvalidConfiguration(format!(
2025-11-07T19:40:51.2483327Z +                    "Unknown network type: {}",
2025-11-07T19:40:51.2485678Z +                    self.node.network
2025-11-07T19:40:51.2486067Z +                )))
2025-11-07T19:40:51.2486372Z +            }
2025-11-07T19:40:51.2486646Z          };
2025-11-07T19:40:51.2486916Z -        
2025-11-07T19:40:51.2487351Z -        let modules: Result<Vec<ModuleSpec>> = self.modules.iter()
2025-11-07T19:40:51.2487871Z +
2025-11-07T19:40:51.2488229Z +        let modules: Result<Vec<ModuleSpec>> = self
2025-11-07T19:40:51.2488680Z +            .modules
2025-11-07T19:40:51.2489006Z +            .iter()
2025-11-07T19:40:51.2489371Z              .filter(|(_, cfg)| cfg.enabled)
2025-11-07T19:40:51.2489657Z              .map(|(name, cfg)| {
2025-11-07T19:40:51.2489950Z                  // Convert toml::Value to serde_json::Value
2025-11-07T19:40:51.2490448Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:103:
2025-11-07T19:40:51.2491003Z -                let config: HashMap<String, serde_json::Value> = cfg.config.iter()
2025-11-07T19:40:51.2491468Z +                let config: HashMap<String, serde_json::Value> = cfg
2025-11-07T19:40:51.2491776Z +                    .config
2025-11-07T19:40:51.2491997Z +                    .iter()
2025-11-07T19:40:51.2492229Z                      .map(|(k, v)| {
2025-11-07T19:40:51.2492502Z                          let json_value = toml_to_json_value(v);
2025-11-07T19:40:51.2492800Z                          (k.clone(), json_value)
2025-11-07T19:40:51.2493260Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:107:
2025-11-07T19:40:51.2493692Z                      })
2025-11-07T19:40:51.2493897Z                      .collect();
2025-11-07T19:40:51.2494119Z -                
2025-11-07T19:40:51.2494301Z +
2025-11-07T19:40:51.2495056Z                  Ok(ModuleSpec {
2025-11-07T19:40:51.2495331Z                      name: name.clone(),
2025-11-07T19:40:51.2495618Z                      version: cfg.version.clone(),
2025-11-07T19:40:51.2497709Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:115:
2025-11-07T19:40:51.2498138Z                  })
2025-11-07T19:40:51.2498325Z              })
2025-11-07T19:40:51.2498508Z              .collect();
2025-11-07T19:40:51.2498711Z -        
2025-11-07T19:40:51.2498870Z +
2025-11-07T19:40:51.2499042Z          Ok(NodeSpec {
2025-11-07T19:40:51.2499272Z              name: self.node.name.clone(),
2025-11-07T19:40:51.2499557Z              version: self.node.version.clone(),
2025-11-07T19:40:51.2500035Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:123:
2025-11-07T19:40:51.2500590Z              modules: modules?,
2025-11-07T19:40:51.2500882Z          })
2025-11-07T19:40:51.2501154Z      }
2025-11-07T19:40:51.2501356Z -    
2025-11-07T19:40:51.2501507Z +
2025-11-07T19:40:51.2501697Z      /// Generate template configuration
2025-11-07T19:40:51.2501975Z      pub fn template() -> Self {
2025-11-07T19:40:51.2502250Z          let mut modules = HashMap::new();
2025-11-07T19:40:51.2502732Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:130:
2025-11-07T19:40:51.2503148Z -        
2025-11-07T19:40:51.2503306Z +
2025-11-07T19:40:51.2503628Z          // Add example modules
2025-11-07T19:40:51.2503950Z -        modules.insert("lightning".to_string(), ModuleConfig {
2025-11-07T19:40:51.2514207Z -            enabled: false,
2025-11-07T19:40:51.2514720Z -            version: Some("0.1.0".to_string()),
2025-11-07T19:40:51.2516970Z -            config: HashMap::new(),
2025-11-07T19:40:51.2517368Z -        });
2025-11-07T19:40:51.2517746Z -        
2025-11-07T19:40:51.2518017Z -        modules.insert("privacy".to_string(), ModuleConfig {
2025-11-07T19:40:51.2518360Z -            enabled: false,
2025-11-07T19:40:51.2518624Z -            version: Some("0.2.0".to_string()),
2025-11-07T19:40:51.2518915Z -            config: HashMap::new(),
2025-11-07T19:40:51.2519154Z -        });
2025-11-07T19:40:51.2519321Z -        
2025-11-07T19:40:51.2519509Z +        modules.insert(
2025-11-07T19:40:51.2519759Z +            "lightning".to_string(),
2025-11-07T19:40:51.2520026Z +            ModuleConfig {
2025-11-07T19:40:51.2520276Z +                enabled: false,
2025-11-07T19:40:51.2520538Z +                version: Some("0.1.0".to_string()),
2025-11-07T19:40:51.2520836Z +                config: HashMap::new(),
2025-11-07T19:40:51.2521088Z +            },
2025-11-07T19:40:51.2521262Z +        );
2025-11-07T19:40:51.2521429Z +
2025-11-07T19:40:51.2521599Z +        modules.insert(
2025-11-07T19:40:51.2521868Z +            "privacy".to_string(),
2025-11-07T19:40:51.2522113Z +            ModuleConfig {
2025-11-07T19:40:51.2522335Z +                enabled: false,
2025-11-07T19:40:51.2522587Z +                version: Some("0.2.0".to_string()),
2025-11-07T19:40:51.2522870Z +                config: HashMap::new(),
2025-11-07T19:40:51.2523110Z +            },
2025-11-07T19:40:51.2523279Z +        );
2025-11-07T19:40:51.2523462Z +
2025-11-07T19:40:51.2523619Z          Self {
2025-11-07T19:40:51.2525670Z              node: NodeMetadata {
2025-11-07T19:40:51.2525994Z                  name: "my-custom-node".to_string(),
2025-11-07T19:40:51.2526498Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:157:
2025-11-07T19:40:51.2526947Z      match value {
2025-11-07T19:40:51.2527240Z          toml::Value::String(s) => serde_json::Value::String(s.clone()),
2025-11-07T19:40:51.2527659Z          toml::Value::Integer(i) => serde_json::Value::Number((*i).into()),
2025-11-07T19:40:51.2528344Z -        toml::Value::Float(f) => {
2025-11-07T19:40:51.2528623Z -            serde_json::Value::Number(
2025-11-07T19:40:51.2529040Z -                serde_json::Number::from_f64(*f).unwrap_or_else(|| serde_json::Number::from(0))
2025-11-07T19:40:51.2529666Z -            )
2025-11-07T19:40:51.2529861Z -        }
2025-11-07T19:40:51.2530101Z +        toml::Value::Float(f) => serde_json::Value::Number(
2025-11-07T19:40:51.2530541Z +            serde_json::Number::from_f64(*f).unwrap_or_else(|| serde_json::Number::from(0)),
2025-11-07T19:40:51.2530901Z +        ),
2025-11-07T19:40:51.2531152Z          toml::Value::Boolean(b) => serde_json::Value::Bool(*b),
2025-11-07T19:40:51.2531565Z          toml::Value::Datetime(dt) => serde_json::Value::String(dt.to_string()),
2025-11-07T19:40:51.2531924Z          toml::Value::Array(arr) => {
2025-11-07T19:40:51.2532400Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:168:
2025-11-07T19:40:51.2532955Z              serde_json::Value::Array(arr.iter().map(toml_to_json_value).collect())
2025-11-07T19:40:51.2533287Z          }
2025-11-07T19:40:51.2533483Z          toml::Value::Table(table) => {
2025-11-07T19:40:51.2533846Z -            let map: serde_json::Map<String, serde_json::Value> = table.iter()
2025-11-07T19:40:51.2534265Z +            let map: serde_json::Map<String, serde_json::Value> = table
2025-11-07T19:40:51.2534943Z +                .iter()
2025-11-07T19:40:51.2535223Z                  .map(|(k, v)| (k.clone(), toml_to_json_value(v)))
2025-11-07T19:40:51.2535509Z                  .collect();
2025-11-07T19:40:51.2535764Z              serde_json::Value::Object(map)
2025-11-07T19:40:51.2536388Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/config.rs:175:
2025-11-07T19:40:51.2536833Z          }
2025-11-07T19:40:51.2537002Z      }
2025-11-07T19:40:51.2537168Z  }
2025-11-07T19:40:51.2537316Z -
2025-11-07T19:40:51.2537474Z  
2025-11-07T19:40:51.2539611Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/conversion.rs:2:
2025-11-07T19:40:51.2540044Z  //!
2025-11-07T19:40:51.2540365Z  //! Conversions between bllvm-sdk composition types and bllvm-node module types.
2025-11-07T19:40:51.2540722Z  
2025-11-07T19:40:51.2540911Z -use std::collections::HashMap;
2025-11-07T19:40:51.2541182Z  use crate::composition::types::ModuleInfo;
2025-11-07T19:40:51.2541581Z  use bllvm_node::module::registry::DiscoveredModule as RefDiscoveredModule;
2025-11-07T19:40:51.2542051Z -use bllvm_node::module::traits::ModuleMetadata as RefModuleMetadata;
2025-11-07T19:40:51.2542477Z  use bllvm_node::module::traits::ModuleError as RefModuleError;
2025-11-07T19:40:51.2542910Z +use bllvm_node::module::traits::ModuleMetadata as RefModuleMetadata;
2025-11-07T19:40:51.2543253Z +use std::collections::HashMap;
2025-11-07T19:40:51.2543467Z  
2025-11-07T19:40:51.2543684Z  impl From<&RefDiscoveredModule> for ModuleInfo {
2025-11-07T19:40:51.2544020Z      fn from(discovered: &RefDiscoveredModule) -> Self {
2025-11-07T19:40:51.2546342Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/conversion.rs:84:
2025-11-07T19:40:51.2547011Z                  crate::composition::types::CompositionError::DependencyResolutionFailed(msg)
2025-11-07T19:40:51.2547395Z              }
2025-11-07T19:40:51.2547646Z              RefModuleError::PermissionDenied(msg) => {
2025-11-07T19:40:51.2548044Z -                crate::composition::types::CompositionError::InstallationFailed(
2025-11-07T19:40:51.2548426Z -                    format!("Permission denied: {}", msg)
2025-11-07T19:40:51.2548690Z -                )
2025-11-07T19:40:51.2549020Z +                crate::composition::types::CompositionError::InstallationFailed(format!(
2025-11-07T19:40:51.2549403Z +                    "Permission denied: {}",
2025-11-07T19:40:51.2549660Z +                    msg
2025-11-07T19:40:51.2549854Z +                ))
2025-11-07T19:40:51.2550027Z              }
2025-11-07T19:40:51.2550247Z              RefModuleError::IpcError(msg) => {
2025-11-07T19:40:51.2550615Z -                crate::composition::types::CompositionError::InstallationFailed(
2025-11-07T19:40:51.2550976Z -                    format!("IPC error: {}", msg)
2025-11-07T19:40:51.2551401Z -                )
2025-11-07T19:40:51.2551728Z +                crate::composition::types::CompositionError::InstallationFailed(format!(
2025-11-07T19:40:51.2552092Z +                    "IPC error: {}",
2025-11-07T19:40:51.2552330Z +                    msg
2025-11-07T19:40:51.2552525Z +                ))
2025-11-07T19:40:51.2552693Z              }
2025-11-07T19:40:51.2552911Z              RefModuleError::ProcessError(msg) => {
2025-11-07T19:40:51.2553283Z -                crate::composition::types::CompositionError::InstallationFailed(
2025-11-07T19:40:51.2555727Z -                    format!("Process error: {}", msg)
2025-11-07T19:40:51.2556385Z -                )
2025-11-07T19:40:51.2556728Z +                crate::composition::types::CompositionError::InstallationFailed(format!(
2025-11-07T19:40:51.2557112Z +                    "Process error: {}",
2025-11-07T19:40:51.2557354Z +                    msg
2025-11-07T19:40:51.2557543Z +                ))
2025-11-07T19:40:51.2557725Z              }
2025-11-07T19:40:51.2557897Z          }
2025-11-07T19:40:51.2558055Z      }
2025-11-07T19:40:51.2558466Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/conversion.rs:103:
2025-11-07T19:40:51.2558898Z  }
2025-11-07T19:40:51.2559051Z -
2025-11-07T19:40:51.2559200Z  
2025-11-07T19:40:51.2559583Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:2:
2025-11-07T19:40:51.2560777Z  //!
2025-11-07T19:40:51.2561132Z  //! Handles starting, stopping, restarting, and health checking of modules.
2025-11-07T19:40:51.2561486Z  
2025-11-07T19:40:51.2561653Z -use std::sync::Arc;
2025-11-07T19:40:51.2561879Z -use std::collections::HashMap;
2025-11-07T19:40:51.2562119Z -use tokio::sync::Mutex;
2025-11-07T19:40:51.2562352Z -use crate::composition::types::*;
2025-11-07T19:40:51.2562645Z -use crate::composition::registry::ModuleRegistry;
2025-11-07T19:40:51.2562967Z  use crate::composition::conversion::*;
2025-11-07T19:40:51.2563274Z +use crate::composition::registry::ModuleRegistry;
2025-11-07T19:40:51.2563577Z +use crate::composition::types::*;
2025-11-07T19:40:51.2564143Z  use bllvm_node::module::manager::ModuleManager;
2025-11-07T19:40:51.2578273Z  use bllvm_node::module::traits::ModuleMetadata as RefModuleMetadata;
2025-11-07T19:40:51.2578652Z +use std::collections::HashMap;
2025-11-07T19:40:51.2579054Z +use std::sync::Arc;
2025-11-07T19:40:51.2579372Z +use tokio::sync::Mutex;
2025-11-07T19:40:51.2579572Z  
2025-11-07T19:40:51.2579753Z  /// Module lifecycle manager
2025-11-07T19:40:51.2579989Z  pub struct ModuleLifecycle {
2025-11-07T19:40:51.2580455Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:30:
2025-11-07T19:40:51.2580971Z              status_cache: HashMap::new(),
2025-11-07T19:40:51.2581371Z          }
2025-11-07T19:40:51.2581630Z      }
2025-11-07T19:40:51.2581791Z -    
2025-11-07T19:40:51.2581949Z +
2025-11-07T19:40:51.2582169Z      /// Set the ModuleManager for actual module operations
2025-11-07T19:40:51.2582618Z      pub fn with_module_manager(mut self, manager: Arc<Mutex<ModuleManager>>) -> Self {
2025-11-07T19:40:51.2583016Z          self.module_manager = Some(manager);
2025-11-07T19:40:51.2592351Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:37:
2025-11-07T19:40:51.2592870Z          self
2025-11-07T19:40:51.2593055Z      }
2025-11-07T19:40:51.2593218Z -    
2025-11-07T19:40:51.2593385Z +
2025-11-07T19:40:51.2593557Z      /// Start a module
2025-11-07T19:40:51.2593862Z      pub async fn start_module(&mut self, name: &str) -> Result<()> {
2025-11-07T19:40:51.2594256Z          let info = self.registry.get_module(name, None)?;
2025-11-07T19:40:51.2594916Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:43:
2025-11-07T19:40:51.2597482Z -        
2025-11-07T19:40:51.2597837Z +
2025-11-07T19:40:51.2598073Z          if let Some(ref manager) = self.module_manager {
2025-11-07T19:40:51.2598669Z              // Convert ModuleInfo to ModuleMetadata
2025-11-07T19:40:51.2599011Z              let metadata: RefModuleMetadata = info.clone().into();
2025-11-07T19:40:51.2599533Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:47:
2025-11-07T19:40:51.2599960Z -            
2025-11-07T19:40:51.2600192Z -            let binary_path = info.binary_path.as_ref()
2025-11-07T19:40:51.2600553Z -                .ok_or_else(|| CompositionError::ModuleNotFound(
2025-11-07T19:40:51.2600900Z -                    format!("Module {} has no binary path", name)
2025-11-07T19:40:51.2601313Z -                ))?;
2025-11-07T19:40:51.2601512Z -            
2025-11-07T19:40:51.2601681Z +
2025-11-07T19:40:51.2601927Z +            let binary_path = info.binary_path.as_ref().ok_or_else(|| {
2025-11-07T19:40:51.2602418Z +                CompositionError::ModuleNotFound(format!("Module {} has no binary path", name))
2025-11-07T19:40:51.2602795Z +            })?;
2025-11-07T19:40:51.2602974Z +
2025-11-07T19:40:51.2603159Z              // Load module via ModuleManager
2025-11-07T19:40:51.2603440Z              let mut mgr = manager.lock().await;
2025-11-07T19:40:51.2603698Z              mgr.load_module(
2025-11-07T19:40:51.2604137Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:57:
2025-11-07T19:40:51.2604851Z                  binary_path,
2025-11-07T19:40:51.2605185Z                  metadata,
2025-11-07T19:40:51.2605643Z                  HashMap::new(), // TODO: Get config from ModuleSpec
2025-11-07T19:40:51.2605935Z -            ).await
2025-11-07T19:40:51.2606132Z +            )
2025-11-07T19:40:51.2606307Z +            .await
2025-11-07T19:40:51.2606613Z              .map_err(|e| CompositionError::from(e))?;
2025-11-07T19:40:51.2606872Z -            
2025-11-07T19:40:51.2607180Z -            self.status_cache.insert(name.to_string(), ModuleStatus::Running);
2025-11-07T19:40:51.2607530Z +
2025-11-07T19:40:51.2607709Z +            self.status_cache
2025-11-07T19:40:51.2608007Z +                .insert(name.to_string(), ModuleStatus::Running);
2025-11-07T19:40:51.2608291Z          } else {
2025-11-07T19:40:51.2608497Z              // Fallback: just cache status
2025-11-07T19:40:51.2608868Z -            self.status_cache.insert(name.to_string(), ModuleStatus::Running);
2025-11-07T19:40:51.2609206Z +            self.status_cache
2025-11-07T19:40:51.2609510Z +                .insert(name.to_string(), ModuleStatus::Running);
2025-11-07T19:40:51.2609784Z          }
2025-11-07T19:40:51.2609951Z -        
2025-11-07T19:40:51.2610114Z +
2025-11-07T19:40:51.2610267Z          Ok(())
2025-11-07T19:40:51.2610441Z      }
2025-11-07T19:40:51.2610593Z -    
2025-11-07T19:40:51.2610857Z +
2025-11-07T19:40:51.2611132Z      /// Stop a module
2025-11-07T19:40:51.2611466Z      pub async fn stop_module(&mut self, name: &str) -> Result<()> {
2025-11-07T19:40:51.2612568Z          let _info = self.registry.get_module(name, None)?;
2025-11-07T19:40:51.2613106Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:75:
2025-11-07T19:40:51.2613711Z -        
2025-11-07T19:40:51.2613880Z +
2025-11-07T19:40:51.2614104Z          if let Some(ref manager) = self.module_manager {
2025-11-07T19:40:51.2614678Z              let mut mgr = manager.lock().await;
2025-11-07T19:40:51.2615170Z -            mgr.unload_module(name).await
2025-11-07T19:40:51.2615440Z +            mgr.unload_module(name)
2025-11-07T19:40:51.2615687Z +                .await
2025-11-07T19:40:51.2615947Z                  .map_err(|e| CompositionError::from(e))?;
2025-11-07T19:40:51.2616211Z          }
2025-11-07T19:40:51.2616375Z -        
2025-11-07T19:40:51.2616754Z -        self.status_cache.insert(name.to_string(), ModuleStatus::Stopped);
2025-11-07T19:40:51.2617198Z +
2025-11-07T19:40:51.2617375Z +        self.status_cache
2025-11-07T19:40:51.2617840Z +            .insert(name.to_string(), ModuleStatus::Stopped);
2025-11-07T19:40:51.2618118Z          Ok(())
2025-11-07T19:40:51.2618519Z      }
2025-11-07T19:40:51.2618673Z -    
2025-11-07T19:40:51.2618835Z +
2025-11-07T19:40:51.2618996Z      /// Restart a module
2025-11-07T19:40:51.2619307Z      pub async fn restart_module(&mut self, name: &str) -> Result<()> {
2025-11-07T19:40:51.2619647Z          self.stop_module(name).await?;
2025-11-07T19:40:51.2620108Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:89:
2025-11-07T19:40:51.2620658Z          tokio::time::sleep(tokio::time::Duration::from_millis(100)).await;
2025-11-07T19:40:51.2620999Z          self.start_module(name).await
2025-11-07T19:40:51.2621232Z      }
2025-11-07T19:40:51.2621381Z -    
2025-11-07T19:40:51.2621537Z +
2025-11-07T19:40:51.2621700Z      /// Get module status
2025-11-07T19:40:51.2622033Z      pub async fn get_module_status(&self, name: &str) -> Result<ModuleStatus> {
2025-11-07T19:40:51.2622435Z          let _module = self.registry.get_module(name, None)?;
2025-11-07T19:40:51.2622945Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:96:
2025-11-07T19:40:51.2623379Z -        
2025-11-07T19:40:51.2623537Z +
2025-11-07T19:40:51.2623768Z          // TODO: Query actual ModuleManager state if available
2025-11-07T19:40:51.2624074Z -        Ok(self.status_cache.get(name)
2025-11-07T19:40:51.2626763Z +        Ok(self
2025-11-07T19:40:51.2626981Z +            .status_cache
2025-11-07T19:40:51.2627200Z +            .get(name)
2025-11-07T19:40:51.2627547Z              .cloned()
2025-11-07T19:40:51.2627812Z              .unwrap_or(ModuleStatus::NotInstalled))
2025-11-07T19:40:51.2628075Z      }
2025-11-07T19:40:51.2628476Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:102:
2025-11-07T19:40:51.2628906Z -    
2025-11-07T19:40:51.2629391Z +
2025-11-07T19:40:51.2629586Z      /// Perform health check on module
2025-11-07T19:40:51.2629946Z      pub async fn health_check(&self, name: &str) -> Result<ModuleHealth> {
2025-11-07T19:40:51.2630345Z          let status = self.get_module_status(name).await?;
2025-11-07T19:40:51.2630852Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:110:
2025-11-07T19:40:51.2631334Z              _ => Ok(ModuleHealth::Degraded),
2025-11-07T19:40:51.2631577Z          }
2025-11-07T19:40:51.2631741Z      }
2025-11-07T19:40:51.2631890Z -    
2025-11-07T19:40:51.2632044Z +
2025-11-07T19:40:51.2632227Z      /// Get the module registry
2025-11-07T19:40:51.2632498Z      pub fn registry(&self) -> &ModuleRegistry {
2025-11-07T19:40:51.2632776Z          &self.registry
2025-11-07T19:40:51.2633193Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:117:
2025-11-07T19:40:51.2633621Z      }
2025-11-07T19:40:51.2633774Z -    
2025-11-07T19:40:51.2633928Z +
2025-11-07T19:40:51.2634122Z      /// Get mutable access to the module registry
2025-11-07T19:40:51.2634616Z      pub fn registry_mut(&mut self) -> &mut ModuleRegistry {
2025-11-07T19:40:51.2634930Z          &mut self.registry
2025-11-07T19:40:51.2635687Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/lifecycle.rs:122:
2025-11-07T19:40:51.2636330Z      }
2025-11-07T19:40:51.2636489Z  }
2025-11-07T19:40:51.2638431Z -
2025-11-07T19:40:51.2638580Z  
2025-11-07T19:40:51.2639171Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/mod.rs:9:
2025-11-07T19:40:51.2639663Z  //! - Module lifecycle management (start/stop/restart)
2025-11-07T19:40:51.2640205Z  //! - Dependency resolution and validation
2025-11-07T19:40:51.2640846Z  
2025-11-07T19:40:51.2641153Z -pub mod types;
2025-11-07T19:40:51.2641509Z -pub mod registry;
2025-11-07T19:40:51.2641844Z -pub mod lifecycle;
2025-11-07T19:40:51.2642058Z +pub mod composer;
2025-11-07T19:40:51.2642243Z  pub mod config;
2025-11-07T19:40:51.2642434Z +pub mod conversion;
2025-11-07T19:40:51.2642628Z +pub mod lifecycle;
2025-11-07T19:40:51.2642820Z +pub mod registry;
2025-11-07T19:40:51.2643231Z  pub mod schema;
2025-11-07T19:40:51.2643424Z -pub mod composer;
2025-11-07T19:40:51.2643608Z +pub mod types;
2025-11-07T19:40:51.2643796Z  pub mod validation;
2025-11-07T19:40:51.2643994Z -pub mod conversion;
2025-11-07T19:40:51.2644177Z  
2025-11-07T19:40:51.2644534Z  // Re-export main types for convenience
2025-11-07T19:40:51.2644819Z -pub use types::*;
2025-11-07T19:40:51.2645205Z -pub use registry::ModuleRegistry;
2025-11-07T19:40:51.2645695Z -pub use lifecycle::ModuleLifecycle;
2025-11-07T19:40:51.2646018Z  pub use composer::NodeComposer;
2025-11-07T19:40:51.2646452Z  pub use config::NodeConfig;
2025-11-07T19:40:51.2646677Z -
2025-11-07T19:40:51.2646879Z +pub use lifecycle::ModuleLifecycle;
2025-11-07T19:40:51.2647153Z +pub use registry::ModuleRegistry;
2025-11-07T19:40:51.2647390Z +pub use types::*;
2025-11-07T19:40:51.2647570Z  
2025-11-07T19:40:51.2647955Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:3:
2025-11-07T19:40:51.2648518Z  //! High-level module registry API for discovering, installing, updating,
2025-11-07T19:40:51.2648991Z  //! and removing modules. Wraps bllvm-node module registry functionality.
2025-11-07T19:40:51.2649310Z  
2025-11-07T19:40:51.2649809Z -use std::collections::HashMap;
2025-11-07T19:40:51.2650072Z -use std::path::{Path, PathBuf};
2025-11-07T19:40:51.2650333Z -use crate::composition::types::*;
2025-11-07T19:40:51.2650618Z  use crate::composition::conversion::*;
2025-11-07T19:40:51.2651187Z +use crate::composition::types::*;
2025-11-07T19:40:51.2651464Z  use bllvm_node::module::registry::{
2025-11-07T19:40:51.2651744Z -    ModuleDiscovery as RefModuleDiscovery,
2025-11-07T19:40:51.2652063Z -    DiscoveredModule as RefDiscoveredModule,
2025-11-07T19:40:51.2652456Z -    ModuleDependencies as RefModuleDependencies,
2025-11-07T19:40:51.2653004Z -    ModuleManifest as RefModuleManifest,
2025-11-07T19:40:51.2653680Z +    DiscoveredModule as RefDiscoveredModule, ModuleDependencies as RefModuleDependencies,
2025-11-07T19:40:51.2654252Z +    ModuleDiscovery as RefModuleDiscovery, ModuleManifest as RefModuleManifest,
2025-11-07T19:40:51.2654763Z  };
2025-11-07T19:40:51.2655035Z  use bllvm_node::module::traits::ModuleError as RefModuleError;
2025-11-07T19:40:51.2657429Z +use std::collections::HashMap;
2025-11-07T19:40:51.2657695Z +use std::path::{Path, PathBuf};
2025-11-07T19:40:51.2657921Z  
2025-11-07T19:40:51.2658128Z  /// Module registry for managing module lifecycle
2025-11-07T19:40:51.2658429Z  pub struct ModuleRegistry {
2025-11-07T19:40:51.2659290Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:31:
2025-11-07T19:40:51.2659763Z              discovered: Vec::new(),
2025-11-07T19:40:51.2659990Z          }
2025-11-07T19:40:51.2660157Z      }
2025-11-07T19:40:51.2660309Z -    
2025-11-07T19:40:51.2660468Z +
2025-11-07T19:40:51.2660699Z      /// Discover available modules in the modules directory
2025-11-07T19:40:51.2661083Z      pub fn discover_modules(&mut self) -> Result<Vec<ModuleInfo>> {
2025-11-07T19:40:51.2661504Z          let discovery = RefModuleDiscovery::new(&self.modules_dir);
2025-11-07T19:40:51.2662027Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:38:
2025-11-07T19:40:51.2662522Z -        let discovered = discovery.discover_modules()
2025-11-07T19:40:51.2662817Z +        let discovered = discovery
2025-11-07T19:40:51.2663075Z +            .discover_modules()
2025-11-07T19:40:51.2663402Z              .map_err(|e: RefModuleError| CompositionError::from(e))?;
2025-11-07T19:40:51.2663698Z -        
2025-11-07T19:40:51.2665745Z -        self.discovered = discovered.iter()
2025-11-07T19:40:51.2666038Z -            .map(|d| ModuleInfo::from(d))
2025-11-07T19:40:51.2666294Z -            .collect();
2025-11-07T19:40:51.2666495Z -        
2025-11-07T19:40:51.2666731Z +
2025-11-07T19:40:51.2689904Z +        self.discovered = discovered.iter().map(|d| ModuleInfo::from(d)).collect();
2025-11-07T19:40:51.2690356Z +
2025-11-07T19:40:51.2690787Z          Ok(self.discovered.clone())
2025-11-07T19:40:51.2691046Z      }
2025-11-07T19:40:51.2691253Z -    
2025-11-07T19:40:51.2691414Z +
2025-11-07T19:40:51.2691623Z      /// Get module by name and optional version
2025-11-07T19:40:51.2692031Z      pub fn get_module(&self, name: &str, version: Option<&str>) -> Result<ModuleInfo> {
2025-11-07T19:40:51.2692439Z -        let module = self.discovered.iter()
2025-11-07T19:40:51.2692711Z -            .find(|m| {
2025-11-07T19:40:51.2692943Z -                m.name == name && 
2025-11-07T19:40:51.2693223Z -                version.map_or(true, |v| m.version == v)
2025-11-07T19:40:51.2693496Z -            })
2025-11-07T19:40:51.2693694Z +        let module = self
2025-11-07T19:40:51.2693902Z +            .discovered
2025-11-07T19:40:51.2694100Z +            .iter()
2025-11-07T19:40:51.2694638Z +            .find(|m| m.name == name && version.map_or(true, |v| m.version == v))
2025-11-07T19:40:51.2695033Z              .ok_or_else(|| {
2025-11-07T19:40:51.2695297Z                  let msg = if let Some(v) = version {
2025-11-07T19:40:51.2695616Z                      format!("Module {} version {} not found", name, v)
2025-11-07T19:40:51.2698030Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:60:
2025-11-07T19:40:51.2698465Z                  };
2025-11-07T19:40:51.2698717Z                  CompositionError::ModuleNotFound(msg)
2025-11-07T19:40:51.2698972Z              })?;
2025-11-07T19:40:51.2699302Z -        
2025-11-07T19:40:51.2699471Z +
2025-11-07T19:40:51.2699648Z          Ok(module.clone())
2025-11-07T19:40:51.2699848Z      }
2025-11-07T19:40:51.2700007Z -    
2025-11-07T19:40:51.2700156Z +
2025-11-07T19:40:51.2700333Z      /// Install module from source
2025-11-07T19:40:51.2700707Z      pub fn install_module(&mut self, source: ModuleSource) -> Result<ModuleInfo> {
2025-11-07T19:40:51.2701074Z          match source {
2025-11-07T19:40:51.2701660Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:70:
2025-11-07T19:40:51.2702170Z              ModuleSource::Path(path) => {
2025-11-07T19:40:51.2702444Z                  // Validate path exists
2025-11-07T19:40:51.2702698Z                  if !path.exists() {
2025-11-07T19:40:51.2703021Z -                    return Err(CompositionError::InstallationFailed(
2025-11-07T19:40:51.2703413Z -                        format!("Module path does not exist: {:?}", path)
2025-11-07T19:40:51.2703715Z -                    ));
2025-11-07T19:40:51.2704019Z +                    return Err(CompositionError::InstallationFailed(format!(
2025-11-07T19:40:51.2726133Z +                        "Module path does not exist: {:?}",
2025-11-07T19:40:51.2726747Z +                        path
2025-11-07T19:40:51.2727170Z +                    )));
2025-11-07T19:40:51.2727529Z                  }
2025-11-07T19:40:51.2727866Z -                
2025-11-07T19:40:51.2729643Z +
2025-11-07T19:40:51.2730024Z                  // For now, we'll just discover from the path
2025-11-07T19:40:51.2730710Z                  // In a full implementation, this would copy/install the module
2025-11-07T19:40:51.2731449Z                  let discovery = RefModuleDiscovery::new(&path);
2025-11-07T19:40:51.2732379Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:81:
2025-11-07T19:40:51.2733291Z -                let discovered = discovery.discover_modules()
2025-11-07T19:40:51.2733851Z +                let discovered = discovery
2025-11-07T19:40:51.2734490Z +                    .discover_modules()
2025-11-07T19:40:51.2735059Z                      .map_err(|e| CompositionError::from(e))?;
2025-11-07T19:40:51.2735537Z -                
2025-11-07T19:40:51.2735851Z +
2025-11-07T19:40:51.2737880Z                  if discovered.is_empty() {
2025-11-07T19:40:51.2738504Z                      return Err(CompositionError::InstallationFailed(
2025-11-07T19:40:51.2739250Z -                        "No module found at path".to_string()
2025-11-07T19:40:51.2740098Z +                        "No module found at path".to_string(),
2025-11-07T19:40:51.2740585Z                      ));
2025-11-07T19:40:51.2740910Z                  }
2025-11-07T19:40:51.2741223Z -                
2025-11-07T19:40:51.2741524Z +
2025-11-07T19:40:51.2741861Z                  // Refresh discovered modules
2025-11-07T19:40:51.2742356Z                  self.discover_modules()?;
2025-11-07T19:40:51.2742776Z -                
2025-11-07T19:40:51.2743064Z +
2025-11-07T19:40:51.2743451Z                  Ok(ModuleInfo::from(&discovered[0]))
2025-11-07T19:40:51.2743901Z              }
2025-11-07T19:40:51.2744464Z              ModuleSource::Registry(_url) => {
2025-11-07T19:40:51.2745349Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:96:
2025-11-07T19:40:51.2746215Z                  // TODO: Implement registry download
2025-11-07T19:40:51.2746817Z                  Err(CompositionError::InstallationFailed(
2025-11-07T19:40:51.2747470Z -                    "Registry installation not yet implemented".to_string()
2025-11-07T19:40:51.2748201Z +                    "Registry installation not yet implemented".to_string(),
2025-11-07T19:40:51.2748854Z                  ))
2025-11-07T19:40:51.2749175Z              }
2025-11-07T19:40:51.2749584Z              ModuleSource::Git { url: _, tag: _ } => {
2025-11-07T19:40:51.2750978Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:102:
2025-11-07T19:40:51.2752713Z                  // TODO: Implement git clone
2025-11-07T19:40:51.2753294Z                  Err(CompositionError::InstallationFailed(
2025-11-07T19:40:51.2753905Z -                    "Git installation not yet implemented".to_string()
2025-11-07T19:40:51.2754988Z +                    "Git installation not yet implemented".to_string(),
2025-11-07T19:40:51.2755494Z                  ))
2025-11-07T19:40:51.2755801Z              }
2025-11-07T19:40:51.2756075Z          }
2025-11-07T19:40:51.2756762Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:108:
2025-11-07T19:40:51.2757532Z      }
2025-11-07T19:40:51.2759752Z -    
2025-11-07T19:40:51.2760016Z +
2025-11-07T19:40:51.2760325Z      /// Update module to new version
2025-11-07T19:40:51.2761008Z      pub fn update_module(&mut self, name: &str, new_version: &str) -> Result<ModuleInfo> {
2025-11-07T19:40:51.2761677Z          // Check if module exists
2025-11-07T19:40:51.2762467Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:113:
2025-11-07T19:40:51.2770269Z          let _current = self.get_module(name, None)?;
2025-11-07T19:40:51.2770777Z -        
2025-11-07T19:40:51.2771062Z +
2025-11-07T19:40:51.2771414Z          // For now, this is a placeholder
2025-11-07T19:40:51.2771931Z          // In a full implementation, this would:
2025-11-07T19:40:51.2772441Z          // 1. Download new version
2025-11-07T19:40:51.2773288Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:118:
2025-11-07T19:40:51.2774130Z          // 2. Verify compatibility
2025-11-07T19:40:51.2774759Z          // 3. Replace old version
2025-11-07T19:40:51.2775212Z          // 4. Restart module if running
2025-11-07T19:40:51.2775646Z -        
2025-11-07T19:40:51.2775921Z +
2025-11-07T19:40:51.2776324Z          Err(CompositionError::InstallationFailed(
2025-11-07T19:40:51.2776921Z -            "Module update not yet implemented".to_string()
2025-11-07T19:40:51.2777537Z +            "Module update not yet implemented".to_string(),
2025-11-07T19:40:51.2778027Z          ))
2025-11-07T19:40:51.2778303Z      }
2025-11-07T19:40:51.2778577Z -    
2025-11-07T19:40:51.2778848Z +
2025-11-07T19:40:51.2779139Z      /// Remove module
2025-11-07T19:40:51.2779637Z      pub fn remove_module(&mut self, name: &str) -> Result<()> {
2025-11-07T19:40:51.2780258Z          let module = self.get_module(name, None)?;
2025-11-07T19:40:51.2781156Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:130:
2025-11-07T19:40:51.2782244Z -        
2025-11-07T19:40:51.2782518Z +
2025-11-07T19:40:51.2782836Z          if let Some(dir) = &module.directory {
2025-11-07T19:40:51.2783406Z              // TODO: Check if module is running and stop it first
2025-11-07T19:40:51.2783957Z              // For now, this is a placeholder
2025-11-07T19:40:51.2785072Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:134:
2025-11-07T19:40:51.2787806Z -            std::fs::remove_dir_all(dir)
2025-11-07T19:40:51.2788372Z -                .map_err(|e| CompositionError::IoError(e))?;
2025-11-07T19:40:51.2789087Z +            std::fs::remove_dir_all(dir).map_err(|e| CompositionError::IoError(e))?;
2025-11-07T19:40:51.2789681Z          }
2025-11-07T19:40:51.2789984Z -        
2025-11-07T19:40:51.2790264Z +
2025-11-07T19:40:51.2790586Z          // Refresh discovered modules
2025-11-07T19:40:51.2791071Z          self.discover_modules()?;
2025-11-07T19:40:51.2791497Z -        
2025-11-07T19:40:51.2791776Z +
2025-11-07T19:40:51.2792043Z          Ok(())
2025-11-07T19:40:51.2792347Z      }
2025-11-07T19:40:51.2792613Z -    
2025-11-07T19:40:51.2792882Z +
2025-11-07T19:40:51.2793181Z      /// List all installed modules
2025-11-07T19:40:51.2793696Z      pub fn list_modules(&self) -> Vec<ModuleInfo> {
2025-11-07T19:40:51.2794214Z          self.discovered.clone()
2025-11-07T19:40:51.2795517Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:147:
2025-11-07T19:40:51.2797908Z      }
2025-11-07T19:40:51.2798185Z -    
2025-11-07T19:40:51.2798443Z +
2025-11-07T19:40:51.2798795Z      /// Resolve dependencies for a set of modules
2025-11-07T19:40:51.2799596Z      pub fn resolve_dependencies(&self, module_names: &[String]) -> Result<Vec<ModuleInfo>> {
2025-11-07T19:40:51.2800483Z          // First, we need to get the actual RefDiscoveredModule objects
2025-11-07T19:40:51.2801464Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:152:
2025-11-07T19:40:51.2802437Z          // We'll need to re-discover or cache them. For now, let's re-discover.
2025-11-07T19:40:51.2803211Z          let discovery = RefModuleDiscovery::new(&self.modules_dir);
2025-11-07T19:40:51.2803859Z -        let all_discovered = discovery.discover_modules()
2025-11-07T19:40:51.2804760Z +        let all_discovered = discovery
2025-11-07T19:40:51.2805230Z +            .discover_modules()
2025-11-07T19:40:51.2805735Z              .map_err(|e| CompositionError::from(e))?;
2025-11-07T19:40:51.2806207Z -        
2025-11-07T19:40:51.2806484Z +
2025-11-07T19:40:51.2806821Z          // Filter to only requested modules
2025-11-07T19:40:51.2807353Z -        let requested: Vec<_> = all_discovered.iter()
2025-11-07T19:40:51.2807900Z +        let requested: Vec<_> = all_discovered
2025-11-07T19:40:51.2808347Z +            .iter()
2025-11-07T19:40:51.2808809Z              .filter(|d| module_names.contains(&d.manifest.name))
2025-11-07T19:40:51.2809359Z              .collect();
2025-11-07T19:40:51.2809691Z -        
2025-11-07T19:40:51.2810187Z -        let resolution = RefModuleDependencies::resolve(&requested)
2025-11-07T19:40:51.2810849Z -            .map_err(|e| CompositionError::from(e))?;
2025-11-07T19:40:51.2811331Z -        
2025-11-07T19:40:51.2811608Z +
2025-11-07T19:40:51.2811906Z +        let resolution =
2025-11-07T19:40:51.2812629Z +            RefModuleDependencies::resolve(&requested).map_err(|e| CompositionError::from(e))?;
2025-11-07T19:40:51.2813358Z +
2025-11-07T19:40:51.2813688Z          // Build result with resolved modules
2025-11-07T19:40:51.2814191Z          let mut resolved = Vec::new();
2025-11-07T19:40:51.2814865Z          for name in &resolution.load_order {
2025-11-07T19:40:51.2815723Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:168:
2025-11-07T19:40:51.2818746Z              let module = self.get_module(name, None)?;
2025-11-07T19:40:51.2819228Z              resolved.push(module);
2025-11-07T19:40:51.2819862Z          }
2025-11-07T19:40:51.2820131Z -        
2025-11-07T19:40:51.2820418Z +
2025-11-07T19:40:51.2820684Z          Ok(resolved)
2025-11-07T19:40:51.2820992Z      }
2025-11-07T19:40:51.2821249Z  }
2025-11-07T19:40:51.2821920Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/registry.rs:175:
2025-11-07T19:40:51.2822704Z -
2025-11-07T19:40:51.2822964Z  
2025-11-07T19:40:51.2823626Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/schema.rs:9:
2025-11-07T19:40:51.2824808Z  pub fn validate_config_schema(config: &NodeConfig) -> Result<ValidationResult> {
2025-11-07T19:40:51.2825534Z      let mut errors = Vec::new();
2025-11-07T19:40:51.2827882Z      let mut warnings = Vec::new();
2025-11-07T19:40:51.2828300Z -    
2025-11-07T19:40:51.2828573Z +
2025-11-07T19:40:51.2828871Z      // Validate node metadata
2025-11-07T19:40:51.2829304Z      if config.node.name.is_empty() {
2025-11-07T19:40:51.2829878Z          errors.push("Node name cannot be empty".to_string());
2025-11-07T19:40:51.2830807Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/schema.rs:16:
2025-11-07T19:40:51.2831570Z      }
2025-11-07T19:40:51.2831853Z -    
2025-11-07T19:40:51.2832124Z +
2025-11-07T19:40:51.2832645Z      if !["mainnet", "testnet", "regtest"].contains(&config.node.network.as_str()) {
2025-11-07T19:40:51.2833305Z          errors.push(format!(
2025-11-07T19:40:51.2834178Z              "Invalid network type: {}. Must be one of: mainnet, testnet, regtest",
2025-11-07T19:40:51.2835559Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/schema.rs:21:
2025-11-07T19:40:51.2836385Z              config.node.network
2025-11-07T19:40:51.2836796Z          ));
2025-11-07T19:40:51.2837092Z      }
2025-11-07T19:40:51.2837374Z -    
2025-11-07T19:40:51.2837640Z +
2025-11-07T19:40:51.2837935Z      // Validate modules
2025-11-07T19:40:51.2838371Z      for (name, module_cfg) in &config.modules {
2025-11-07T19:40:51.2838888Z          if module_cfg.enabled {
2025-11-07T19:40:51.2839702Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/schema.rs:28:
2025-11-07T19:40:51.2840629Z              if name.is_empty() {
2025-11-07T19:40:51.2841187Z                  errors.push("Module name cannot be empty".to_string());
2025-11-07T19:40:51.2841700Z              }
2025-11-07T19:40:51.2842010Z -            
2025-11-07T19:40:51.2842322Z +
2025-11-07T19:40:51.2842649Z              // Warn if version not specified
2025-11-07T19:40:51.2843136Z              if module_cfg.version.is_none() {
2025-11-07T19:40:51.2843628Z                  warnings.push(format!(
2025-11-07T19:40:51.2844613Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/schema.rs:38:
2025-11-07T19:40:51.2845385Z              }
2025-11-07T19:40:51.2845681Z          }
2025-11-07T19:40:51.2845956Z      }
2025-11-07T19:40:51.2846209Z -    
2025-11-07T19:40:51.2846492Z +
2025-11-07T19:40:51.2846798Z      let valid = errors.is_empty();
2025-11-07T19:40:51.2847258Z      Ok(ValidationResult {
2025-11-07T19:40:51.2847637Z          valid,
2025-11-07T19:40:51.2848341Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/schema.rs:47:
2025-11-07T19:40:51.2849351Z          dependencies: Vec::new(), // Will be populated during dependency resolution
2025-11-07T19:40:51.2849951Z      })
2025-11-07T19:40:51.2850219Z  }
2025-11-07T19:40:51.2850479Z -
2025-11-07T19:40:51.2850741Z  
2025-11-07T19:40:51.2851365Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/types.rs:166:
2025-11-07T19:40:51.2852175Z  pub enum CompositionError {
2025-11-07T19:40:51.2852613Z      #[error("Module not found: {0}")]
2025-11-07T19:40:51.2853042Z      ModuleNotFound(String),
2025-11-07T19:40:51.2853413Z -    
2025-11-07T19:40:51.2853685Z +
2025-11-07T19:40:51.2854019Z      #[error("Module version not found: {0} {1}")]
2025-11-07T19:40:51.2855081Z      ModuleVersionNotFound(String, String),
2025-11-07T19:40:51.2855532Z -    
2025-11-07T19:40:51.2855795Z +
2025-11-07T19:40:51.2856162Z      #[error("Dependency resolution failed: {0}")]
2025-11-07T19:40:51.2856715Z      DependencyResolutionFailed(String),
2025-11-07T19:40:51.2857160Z -    
2025-11-07T19:40:51.2857412Z +
2025-11-07T19:40:51.2857756Z      #[error("Module installation failed: {0}")]
2025-11-07T19:40:51.2858246Z      InstallationFailed(String),
2025-11-07T19:40:51.2858636Z -    
2025-11-07T19:40:51.2858882Z +
2025-11-07T19:40:51.2859182Z      #[error("Invalid configuration: {0}")]
2025-11-07T19:40:51.2859639Z      InvalidConfiguration(String),
2025-11-07T19:40:51.2860054Z -    
2025-11-07T19:40:51.2860441Z +
2025-11-07T19:40:51.2860878Z      #[error("Composition validation failed: {0}")]
2025-11-07T19:40:51.2861474Z      ValidationFailed(String),
2025-11-07T19:40:51.2861852Z -    
2025-11-07T19:40:51.2862126Z +
2025-11-07T19:40:51.2862395Z      #[error("IO error: {0}")]
2025-11-07T19:40:51.2862839Z      IoError(#[from] std::io::Error),
2025-11-07T19:40:51.2863224Z -    
2025-11-07T19:40:51.2863492Z +
2025-11-07T19:40:51.2863819Z      #[error("Serialization error: {0}")]
2025-11-07T19:40:51.2864514Z      SerializationError(String),
2025-11-07T19:40:51.2864894Z  }
2025-11-07T19:40:51.2865563Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/types.rs:191:
2025-11-07T19:40:51.2866280Z  
2025-11-07T19:40:51.2866960Z  pub type Result<T> = std::result::Result<T, CompositionError>;
2025-11-07T19:40:51.2867509Z -
2025-11-07T19:40:51.2869420Z  
2025-11-07T19:40:51.2870661Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/validation.rs:2:
2025-11-07T19:40:51.2871487Z  //!
2025-11-07T19:40:51.2872080Z  //! Validates module compositions for conflicts, dependencies, and capabilities.
2025-11-07T19:40:51.2872740Z  
2025-11-07T19:40:51.2873092Z -use crate::composition::types::*;
2025-11-07T19:40:51.2873629Z  use crate::composition::registry::ModuleRegistry;
2025-11-07T19:40:51.2874153Z +use crate::composition::types::*;
2025-11-07T19:40:51.2874765Z  
2025-11-07T19:40:51.2875089Z  /// Validate a node composition specification
2025-11-07T19:40:51.2875569Z  pub fn validate_composition(
2025-11-07T19:40:51.2876353Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/validation.rs:13:
2025-11-07T19:40:51.2877192Z      let mut errors = Vec::new();
2025-11-07T19:40:51.2877641Z      let mut warnings = Vec::new();
2025-11-07T19:40:51.2878095Z      let mut dependencies = Vec::new();
2025-11-07T19:40:51.2878502Z -    
2025-11-07T19:40:51.2878771Z +
2025-11-07T19:40:51.2879067Z      // Resolve all module names
2025-11-07T19:40:51.2879557Z -    let module_names: Vec<String> = spec.modules.iter()
2025-11-07T19:40:51.2880100Z +    let module_names: Vec<String> = spec
2025-11-07T19:40:51.2880509Z +        .modules
2025-11-07T19:40:51.2880806Z +        .iter()
2025-11-07T19:40:51.2881129Z          .filter(|m| m.enabled)
2025-11-07T19:40:51.2881527Z          .map(|m| m.name.clone())
2025-11-07T19:40:51.2881895Z          .collect();
2025-11-07T19:40:51.2882621Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/validation.rs:22:
2025-11-07T19:40:51.2883401Z -    
2025-11-07T19:40:51.2883662Z +
2025-11-07T19:40:51.2883968Z      // Check all modules exist
2025-11-07T19:40:51.2884582Z      for module_spec in &spec.modules {
2025-11-07T19:40:51.2885105Z          if !module_spec.enabled {
2025-11-07T19:40:51.2885928Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/validation.rs:26:
2025-11-07T19:40:51.2888306Z              continue;
2025-11-07T19:40:51.2888625Z          }
2025-11-07T19:40:51.2888936Z -        
2025-11-07T19:40:51.2889207Z +
2025-11-07T19:40:51.2889746Z          match registry.get_module(&module_spec.name, module_spec.version.as_deref()) {
2025-11-07T19:40:51.2890399Z              Ok(info) => {
2025-11-07T19:40:51.2890840Z                  // Check capabilities compatibility
2025-11-07T19:40:51.2892058Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/validation.rs:32:
2025-11-07T19:40:51.2892964Z                  // TODO: Add capability validation logic
2025-11-07T19:40:51.2893414Z -                
2025-11-07T19:40:51.2893727Z +
2025-11-07T19:40:51.2894041Z                  // Add to dependencies
2025-11-07T19:40:51.2894754Z                  dependencies.push(info);
2025-11-07T19:40:51.2895283Z              }
2025-11-07T19:40:51.2896015Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/validation.rs:37:
2025-11-07T19:40:51.2896849Z              Err(e) => {
2025-11-07T19:40:51.2897250Z -                errors.push(format!(
2025-11-07T19:40:51.2897734Z -                    "Module '{}' not found: {}",
2025-11-07T19:40:51.2898221Z -                    module_spec.name, e
2025-11-07T19:40:51.2898650Z -                ));
2025-11-07T19:40:51.2899209Z +                errors.push(format!("Module '{}' not found: {}", module_spec.name, e));
2025-11-07T19:40:51.2899814Z              }
2025-11-07T19:40:51.2900115Z          }
2025-11-07T19:40:51.2900392Z      }
2025-11-07T19:40:51.2901100Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/validation.rs:45:
2025-11-07T19:40:51.2901877Z -    
2025-11-07T19:40:51.2902149Z +
2025-11-07T19:40:51.2902441Z      // Resolve dependencies
2025-11-07T19:40:51.2903199Z      match registry.resolve_dependencies(&module_names) {
2025-11-07T19:40:51.2903785Z          Ok(resolved) => {
2025-11-07T19:40:51.2904834Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/validation.rs:57:
2025-11-07T19:40:51.2905850Z              errors.push(format!("Dependency resolution failed: {}", e));
2025-11-07T19:40:51.2906412Z          }
2025-11-07T19:40:51.2906680Z      }
2025-11-07T19:40:51.2906926Z -    
2025-11-07T19:40:51.2907181Z +
2025-11-07T19:40:51.2907484Z      // Check for module conflicts
2025-11-07T19:40:51.2908149Z      // TODO: Add conflict detection (e.g., two modules providing same capability)
2025-11-07T19:40:51.2909187Z -    
2025-11-07T19:40:51.2909477Z +
2025-11-07T19:40:51.2909791Z      // Check for circular dependencies
2025-11-07T19:40:51.2910432Z      // (Already handled by dependency resolution, but double-check here)
2025-11-07T19:40:51.2911902Z -    
2025-11-07T19:40:51.2912184Z +
2025-11-07T19:40:51.2912502Z      let valid = errors.is_empty();
2025-11-07T19:40:51.2912955Z      Ok(ValidationResult {
2025-11-07T19:40:51.2913341Z          valid,
2025-11-07T19:40:51.2914092Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/composition/validation.rs:72:
2025-11-07T19:40:51.2915192Z          dependencies,
2025-11-07T19:40:51.2915532Z      })
2025-11-07T19:40:51.2915808Z  }
2025-11-07T19:40:51.2916070Z -
2025-11-07T19:40:51.2916340Z  
2025-11-07T19:40:51.2916984Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:7:
2025-11-07T19:40:51.2918206Z  //! Key derivation path format: m/purpose'/coin_type'/account'/change/address_index
2025-11-07T19:40:51.2919135Z  //! Example: m/44'/0'/0'/0/0 (BIP44 standard path for Bitcoin mainnet first address)
2025-11-07T19:40:51.2919728Z  
2025-11-07T19:40:51.2920238Z +use crate::governance::error::{GovernanceError, GovernanceResult};
2025-11-07T19:40:51.2920861Z  use hmac::{Hmac, Mac};
2025-11-07T19:40:51.2921382Z +use secp256k1::{PublicKey, Scalar, Secp256k1, SecretKey};
2025-11-07T19:40:51.2921938Z  use sha2::Sha512;
2025-11-07T19:40:51.2922406Z -use secp256k1::{Secp256k1, SecretKey, PublicKey, Scalar};
2025-11-07T19:40:51.2923119Z -use crate::governance::error::{GovernanceError, GovernanceResult};
2025-11-07T19:40:51.2923673Z  
2025-11-07T19:40:51.2923994Z  type HmacSha512 = Hmac<Sha512>;
2025-11-07T19:40:51.2924547Z  
2025-11-07T19:40:51.2925209Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:52:
2025-11-07T19:40:51.2926315Z  pub fn derive_master_key(seed: &[u8]) -> GovernanceResult<(ExtendedPrivateKey, ExtendedPublicKey)> {
2025-11-07T19:40:51.2927433Z      if seed.len() < 16 || seed.len() > 64 {
2025-11-07T19:40:51.2927978Z          return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.2928486Z -            "Seed must be 16-64 bytes".to_string()
2025-11-07T19:40:51.2928983Z +            "Seed must be 16-64 bytes".to_string(),
2025-11-07T19:40:51.2929390Z          ));
2025-11-07T19:40:51.2929647Z      }
2025-11-07T19:40:51.2929889Z  
2025-11-07T19:40:51.2930517Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:65:
2025-11-07T19:40:51.2931348Z      // Split into private key (IL) and chain code (IR)
2025-11-07T19:40:51.2931816Z      let mut private_key_bytes = [0u8; 32];
2025-11-07T19:40:51.2932125Z      private_key_bytes.copy_from_slice(&bytes[..32]);
2025-11-07T19:40:51.2932416Z -    
2025-11-07T19:40:51.2932581Z +
2025-11-07T19:40:51.2932757Z      let mut chain_code = [0u8; 32];
2025-11-07T19:40:51.2933034Z      chain_code.copy_from_slice(&bytes[32..]);
2025-11-07T19:40:51.2933280Z  
2025-11-07T19:40:51.2933839Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:73:
2025-11-07T19:40:51.2934798Z      let secp = Secp256k1::new();
2025-11-07T19:40:51.2935373Z      let private_key = SecretKey::from_slice(&private_key_bytes)
2025-11-07T19:40:51.2936324Z          .map_err(|e| GovernanceError::InvalidKey(format!("Invalid master private key: {}", e)))?;
2025-11-07T19:40:51.2937289Z -    
2025-11-07T19:40:51.2937583Z +
2025-11-07T19:40:51.2937968Z      let public_key = private_key.public_key(&secp);
2025-11-07T19:40:51.2938459Z  
2025-11-07T19:40:51.2938777Z      let xprv = ExtendedPrivateKey {
2025-11-07T19:40:51.2939585Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:108:
2025-11-07T19:40:51.2940333Z  
2025-11-07T19:40:51.2940642Z      // Prepare data for HMAC
2025-11-07T19:40:51.2941105Z      let mut data = Vec::with_capacity(37);
2025-11-07T19:40:51.2941548Z -    
2025-11-07T19:40:51.2941815Z +
2025-11-07T19:40:51.2942132Z      if is_hardened {
2025-11-07T19:40:51.2942727Z          // Hardened: 0x00 || parent_private_key || child_number (4 bytes, big-endian)
2025-11-07T19:40:51.2943382Z          data.push(0x00);
2025-11-07T19:40:51.2944100Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:118:
2025-11-07T19:40:51.2945234Z          let parent_pubkey = parent.private_key.public_key(&secp);
2025-11-07T19:40:51.2945925Z          data.extend_from_slice(&parent_pubkey.serialize());
2025-11-07T19:40:51.2946425Z      }
2025-11-07T19:40:51.2946701Z -    
2025-11-07T19:40:51.2946963Z +
2025-11-07T19:40:51.2947369Z      data.extend_from_slice(&child_number.to_be_bytes());
2025-11-07T19:40:51.2947874Z  
2025-11-07T19:40:51.2948451Z      // Calculate parent fingerprint (first 4 bytes of RIPEMD160(SHA256(parent_pubkey)))
2025-11-07T19:40:51.2949549Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:136:
2025-11-07T19:40:51.2950403Z      //                IR (right 32 bytes) = child chain code
2025-11-07T19:40:51.2950894Z      let mut il = [0u8; 32];
2025-11-07T19:40:51.2951307Z      il.copy_from_slice(&bytes[..32]);
2025-11-07T19:40:51.2951730Z -    
2025-11-07T19:40:51.2952006Z +
2025-11-07T19:40:51.2952332Z      let mut child_chain_code = [0u8; 32];
2025-11-07T19:40:51.2952876Z      child_chain_code.copy_from_slice(&bytes[32..]);
2025-11-07T19:40:51.2967400Z  
2025-11-07T19:40:51.2968119Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:146:
2025-11-07T19:40:51.2969139Z      // Convert IL to Scalar (this handles modulo curve order automatically)
2025-11-07T19:40:51.2969867Z      let il_scalar = Scalar::from_be_bytes(il)
2025-11-07T19:40:51.2970702Z          .map_err(|_| GovernanceError::InvalidKey("IL cannot be converted to scalar".to_string()))?;
2025-11-07T19:40:51.2971426Z -    
2025-11-07T19:40:51.2971706Z +
2025-11-07T19:40:51.2972098Z      // Add IL scalar to parent private key using add_tweak
2025-11-07T19:40:51.2973076Z -    let child_private = parent.private_key.add_tweak(&il_scalar)
2025-11-07T19:40:51.2973891Z -        .map_err(|_| GovernanceError::InvalidKey("Key addition resulted in zero or invalid key".to_string()))?;
2025-11-07T19:40:51.2975422Z -    
2025-11-07T19:40:51.2975972Z +    let child_private = parent.private_key.add_tweak(&il_scalar).map_err(|_| {
2025-11-07T19:40:51.2976989Z +        GovernanceError::InvalidKey("Key addition resulted in zero or invalid key".to_string())
2025-11-07T19:40:51.2977713Z +    })?;
2025-11-07T19:40:51.2977991Z +
2025-11-07T19:40:51.2978503Z      let child_public = child_private.public_key(&secp);
2025-11-07T19:40:51.2979095Z  
2025-11-07T19:40:51.2979450Z      let child_xprv = ExtendedPrivateKey {
2025-11-07T19:40:51.2980483Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:181:
2025-11-07T19:40:51.2981348Z  ) -> GovernanceResult<ExtendedPublicKey> {
2025-11-07T19:40:51.2981862Z      if child_number >= 0x80000000 {
2025-11-07T19:40:51.2982399Z          return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.2983042Z -            "Hardened derivation requires private key".to_string()
2025-11-07T19:40:51.2983735Z +            "Hardened derivation requires private key".to_string(),
2025-11-07T19:40:51.2984447Z          ));
2025-11-07T19:40:51.2984768Z      }
2025-11-07T19:40:51.2986919Z  
2025-11-07T19:40:51.2987822Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:192:
2025-11-07T19:40:51.2988615Z  
2025-11-07T19:40:51.2988937Z      // Calculate parent fingerprint
2025-11-07T19:40:51.2989674Z      let parent_fingerprint = calculate_fingerprint(&parent.public_key.serialize());
2025-11-07T19:40:51.2990345Z -    
2025-11-07T19:40:51.2990623Z +
2025-11-07T19:40:51.2990944Z      // HMAC-SHA512(chain_code, data)
2025-11-07T19:40:51.2991554Z      let mut hmac = HmacSha512::new_from_slice(&parent.chain_code)
2025-11-07T19:40:51.2992391Z          .map_err(|e| GovernanceError::InvalidInput(format!("HMAC error: {}", e)))?;
2025-11-07T19:40:51.2993371Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:203:
2025-11-07T19:40:51.2994123Z      // Split result
2025-11-07T19:40:51.2994639Z      let mut il = [0u8; 32];
2025-11-07T19:40:51.2995079Z      il.copy_from_slice(&bytes[..32]);
2025-11-07T19:40:51.2995485Z -    
2025-11-07T19:40:51.2995740Z +
2025-11-07T19:40:51.2996080Z      let mut child_chain_code = [0u8; 32];
2025-11-07T19:40:51.2996612Z      child_chain_code.copy_from_slice(&bytes[32..]);
2025-11-07T19:40:51.2997093Z  
2025-11-07T19:40:51.2997752Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:212:
2025-11-07T19:40:51.2998379Z      // Convert IL to scalar
2025-11-07T19:40:51.2998665Z      let il_scalar = Scalar::from_be_bytes(il)
2025-11-07T19:40:51.2999077Z          .map_err(|_| GovernanceError::InvalidKey("Invalid scalar".to_string()))?;
2025-11-07T19:40:51.2999435Z -    
2025-11-07T19:40:51.2999960Z +
2025-11-07T19:40:51.3000227Z      // Add il_scalar * G to parent public key using add_exp_tweak
2025-11-07T19:40:51.3000670Z      // This computes: parent_pubkey + (il_scalar * G)
2025-11-07T19:40:51.3001212Z      let secp = Secp256k1::new();
2025-11-07T19:40:51.3002018Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:219:
2025-11-07T19:40:51.3003048Z -    let child_public = parent.public_key.add_exp_tweak(&secp, &il_scalar)
2025-11-07T19:40:51.3003706Z +    let child_public = parent
2025-11-07T19:40:51.3004130Z +        .public_key
2025-11-07T19:40:51.3004784Z +        .add_exp_tweak(&secp, &il_scalar)
2025-11-07T19:40:51.3005538Z          .map_err(|_| GovernanceError::InvalidKey("Point addition failed".to_string()))?;
2025-11-07T19:40:51.3006216Z -    
2025-11-07T19:40:51.3006488Z +
2025-11-07T19:40:51.3007069Z      let parent_fingerprint = calculate_fingerprint(&parent.public_key.serialize());
2025-11-07T19:40:51.3008035Z -    
2025-11-07T19:40:51.3008310Z +
2025-11-07T19:40:51.3008613Z      Ok(ExtendedPublicKey {
2025-11-07T19:40:51.3009047Z          depth: parent.depth + 1,
2025-11-07T19:40:51.3009491Z          parent_fingerprint,
2025-11-07T19:40:51.3010266Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:232:
2025-11-07T19:40:51.3011015Z  
2025-11-07T19:40:51.3011529Z  /// Calculate key fingerprint (first 4 bytes of RIPEMD160(SHA256(pubkey)))
2025-11-07T19:40:51.3012290Z  fn calculate_fingerprint(pubkey: &[u8]) -> [u8; 4] {
2025-11-07T19:40:51.3012838Z -    use sha2::{Sha256, Digest};
2025-11-07T19:40:51.3013352Z -    use ripemd::{Ripemd160, Digest as RipemdDigest};
2025-11-07T19:40:51.3016024Z -    
2025-11-07T19:40:51.3016459Z +    use ripemd::{Digest as RipemdDigest, Ripemd160};
2025-11-07T19:40:51.3016987Z +    use sha2::{Digest, Sha256};
2025-11-07T19:40:51.3017374Z +
2025-11-07T19:40:51.3017988Z      // SHA256(pubkey)
2025-11-07T19:40:51.3018373Z      let mut sha256 = Sha256::new();
2025-11-07T19:40:51.3018822Z      sha256.update(pubkey);
2025-11-07T19:40:51.3019574Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:241:
2025-11-07T19:40:51.3020413Z      let sha256_hash = sha256.finalize();
2025-11-07T19:40:51.3020833Z -    
2025-11-07T19:40:51.3021108Z +
2025-11-07T19:40:51.3021410Z      // RIPEMD160(SHA256(pubkey))
2025-11-07T19:40:51.3021889Z      let mut ripemd = Ripemd160::new();
2025-11-07T19:40:51.3022604Z      ripemd.update(&sha256_hash);
2025-11-07T19:40:51.3023447Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:246:
2025-11-07T19:40:51.3024286Z      let ripemd_hash = ripemd.finalize();
2025-11-07T19:40:51.3024902Z -    
2025-11-07T19:40:51.3027018Z +
2025-11-07T19:40:51.3027163Z      // First 4 bytes
2025-11-07T19:40:51.3027333Z      let mut fingerprint = [0u8; 4];
2025-11-07T19:40:51.3027572Z      fingerprint.copy_from_slice(&ripemd_hash[..4]);
2025-11-07T19:40:51.3028107Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:265:
2025-11-07T19:40:51.3028230Z      }
2025-11-07T19:40:51.3028350Z  
2025-11-07T19:40:51.3028508Z      /// Derive a child key
2025-11-07T19:40:51.3029088Z -    pub fn derive_child(&self, child_number: u32) -> GovernanceResult<(ExtendedPrivateKey, ExtendedPublicKey)> {
2025-11-07T19:40:51.3029251Z +    pub fn derive_child(
2025-11-07T19:40:51.3029393Z +        &self,
2025-11-07T19:40:51.3029553Z +        child_number: u32,
2025-11-07T19:40:51.3029891Z +    ) -> GovernanceResult<(ExtendedPrivateKey, ExtendedPublicKey)> {
2025-11-07T19:40:51.3030093Z          derive_child_private(self, child_number)
2025-11-07T19:40:51.3030220Z      }
2025-11-07T19:40:51.3030333Z  
2025-11-07T19:40:51.3030837Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:296:
2025-11-07T19:40:51.3031008Z          // Test with a known seed
2025-11-07T19:40:51.3031199Z          let seed = b"Hello, Bitcoin Commons!";
2025-11-07T19:40:51.3031448Z          let (xprv, xpub) = derive_master_key(seed).unwrap();
2025-11-07T19:40:51.3031566Z -        
2025-11-07T19:40:51.3031679Z +
2025-11-07T19:40:51.3031833Z          assert_eq!(xprv.depth, 0);
2025-11-07T19:40:51.3031985Z          assert_eq!(xpub.depth, 0);
2025-11-07T19:40:51.3032161Z          assert_eq!(xprv.child_number, 0);
2025-11-07T19:40:51.3032659Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:307:
2025-11-07T19:40:51.3032821Z      fn test_child_derivation() {
2025-11-07T19:40:51.3032994Z          let seed = b"test seed for BIP32";
2025-11-07T19:40:51.3033316Z          let (master_xprv, master_xpub) = derive_master_key(seed).unwrap();
2025-11-07T19:40:51.3033442Z -        
2025-11-07T19:40:51.3033554Z +
2025-11-07T19:40:51.3033714Z          // Derive first child
2025-11-07T19:40:51.3034034Z          let (child_xprv, child_xpub) = master_xprv.derive_child(0).unwrap();
2025-11-07T19:40:51.3034164Z -        
2025-11-07T19:40:51.3034692Z +
2025-11-07T19:40:51.3034892Z          assert_eq!(child_xprv.depth, 1);
2025-11-07T19:40:51.3035071Z          assert_eq!(child_xpub.depth, 1);
2025-11-07T19:40:51.3035275Z          assert_eq!(child_xprv.child_number, 0);
2025-11-07T19:40:51.3035714Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:317:
2025-11-07T19:40:51.3035790Z -        
2025-11-07T19:40:51.3035857Z +
2025-11-07T19:40:51.3035974Z          // Verify public key matches
2025-11-07T19:40:51.3036126Z          let derived_xpub = child_xprv.to_extended_public();
2025-11-07T19:40:51.3036350Z -        assert_eq!(derived_xpub.public_key_bytes(), child_xpub.public_key_bytes());
2025-11-07T19:40:51.3036429Z +        assert_eq!(
2025-11-07T19:40:51.3036544Z +            derived_xpub.public_key_bytes(),
2025-11-07T19:40:51.3036647Z +            child_xpub.public_key_bytes()
2025-11-07T19:40:51.3036718Z +        );
2025-11-07T19:40:51.3036792Z      }
2025-11-07T19:40:51.3036856Z  
2025-11-07T19:40:51.3036933Z      #[test]
2025-11-07T19:40:51.3037223Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:324:
2025-11-07T19:40:51.3037329Z      fn test_hardened_derivation() {
2025-11-07T19:40:51.3037463Z          let seed = b"test seed for hardened derivation";
2025-11-07T19:40:51.3037615Z          let (master_xprv, _) = derive_master_key(seed).unwrap();
2025-11-07T19:40:51.3037691Z -        
2025-11-07T19:40:51.3037757Z +
2025-11-07T19:40:51.3038020Z          // Hardened child (0x80000000 = 2147483648)
2025-11-07T19:40:51.3038131Z          let hardened_index = 0x80000000;
2025-11-07T19:40:51.3039840Z          let (hardened_xprv, _) = master_xprv.derive_child(hardened_index).unwrap();
2025-11-07T19:40:51.3040124Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:331:
2025-11-07T19:40:51.3040195Z -        
2025-11-07T19:40:51.3040266Z +
2025-11-07T19:40:51.3040416Z          assert_eq!(hardened_xprv.child_number, hardened_index);
2025-11-07T19:40:51.3040632Z          assert!(hardened_xprv.child_number >= 0x80000000);
2025-11-07T19:40:51.3040765Z      }
2025-11-07T19:40:51.3041264Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip32.rs:335:
2025-11-07T19:40:51.3041383Z  }
2025-11-07T19:40:51.3041503Z -
2025-11-07T19:40:51.3041622Z  
2025-11-07T19:40:51.3042991Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:8:
2025-11-07T19:40:51.3043176Z  //! - SHA256 checksum validation
2025-11-07T19:40:51.3043372Z  //! - PBKDF2-SHA512 seed derivation
2025-11-07T19:40:51.3043488Z  
2025-11-07T19:40:51.3043669Z -use sha2::{Sha256, Sha512, Digest};
2025-11-07T19:40:51.3043841Z -use pbkdf2::pbkdf2_hmac;
2025-11-07T19:40:51.3044209Z  use crate::governance::error::{GovernanceError, GovernanceResult};
2025-11-07T19:40:51.3044633Z +use pbkdf2::pbkdf2_hmac;
2025-11-07T19:40:51.3044831Z +use sha2::{Digest, Sha256, Sha512};
2025-11-07T19:40:51.3044954Z  
2025-11-07T19:40:51.3045179Z  // Complete BIP39 English word list (2048 words)
2025-11-07T19:40:51.3045343Z  const BIP39_WORD_LIST: &[&str] = &[
2025-11-07T19:40:51.3045860Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:17:
2025-11-07T19:40:51.3046237Z -    "abandon", "ability", "able", "about", "above", "absent", "absorb", "abstract",
2025-11-07T19:40:51.3046597Z -    "absurd", "abuse", "access", "accident", "account", "accuse", "achieve", "acid",
2025-11-07T19:40:51.3048350Z -    "acoustic", "acquire", "across", "act", "action", "actor", "actress", "actual",
2025-11-07T19:40:51.3048685Z -    "adapt", "add", "addict", "address", "adjust", "admit", "adult", "advance",
2025-11-07T19:40:51.3049020Z -    "advice", "aerobic", "affair", "afford", "afraid", "again", "age", "agent",
2025-11-07T19:40:51.3049315Z -    "agree", "ahead", "aim", "air", "airport", "aisle", "alarm", "album",
2025-11-07T19:40:51.3049640Z -    "alcohol", "alert", "alien", "all", "alley", "allow", "almost", "alone",
2025-11-07T19:40:51.3050282Z -    "alpha", "already", "also", "alter", "always", "amateur", "amazing", "among",
2025-11-07T19:40:51.3050639Z -    "amount", "amused", "analyst", "anchor", "ancient", "anger", "angle", "angry",
2025-11-07T19:40:51.3051025Z -    "animal", "ankle", "announce", "annual", "another", "answer", "antenna", "antique",
2025-11-07T19:40:51.3051368Z -    "anxiety", "any", "apart", "apology", "appear", "apple", "approve", "april",
2025-11-07T19:40:51.3051670Z -    "arch", "arctic", "area", "arena", "argue", "arm", "armed", "armor",
2025-11-07T19:40:51.3052012Z -    "army", "around", "arrange", "arrest", "arrive", "arrow", "art", "artefact",
2025-11-07T19:40:51.3052349Z -    "artist", "artwork", "ask", "aspect", "assault", "asset", "assist", "assume",
2025-11-07T19:40:51.3052716Z -    "asthma", "athlete", "atom", "attack", "attend", "attitude", "attract", "auction",
2025-11-07T19:40:51.3053038Z -    "audit", "august", "aunt", "author", "auto", "autumn", "average", "avocado",
2025-11-07T19:40:51.3053364Z -    "avoid", "awake", "aware", "away", "awesome", "awful", "awkward", "axis",
2025-11-07T19:40:51.3053688Z -    "baby", "bachelor", "bacon", "badge", "bag", "balance", "balcony", "ball",
2025-11-07T19:40:51.3054008Z -    "bamboo", "banana", "banner", "bar", "barely", "bargain", "barrel", "base",
2025-11-07T19:40:51.3054505Z -    "basic", "basket", "battle", "beach", "bean", "beauty", "because", "become",
2025-11-07T19:40:51.3055049Z -    "beef", "before", "begin", "behave", "behind", "believe", "below", "belt",
2025-11-07T19:40:51.3055419Z -    "bench", "benefit", "best", "betray", "better", "between", "beyond", "bicycle",
2025-11-07T19:40:51.3055721Z -    "bid", "bike", "bind", "biology", "bird", "birth", "bitter", "black",
2025-11-07T19:40:51.3056040Z -    "blade", "blame", "blanket", "blast", "bleak", "bless", "blind", "blood",
2025-11-07T19:40:51.3056346Z -    "blossom", "blouse", "blue", "blur", "blush", "board", "boat", "body",
2025-11-07T19:40:51.3056629Z -    "boil", "bomb", "bone", "bonus", "book", "boost", "border", "boring",
2025-11-07T19:40:51.3056935Z -    "borrow", "boss", "bottom", "bounce", "box", "boy", "bracket", "brain",
2025-11-07T19:40:51.3057244Z -    "brand", "brass", "brave", "bread", "breeze", "brick", "bridge", "brief",
2025-11-07T19:40:51.3057603Z -    "bright", "bring", "brisk", "broccoli", "broken", "bronze", "broom", "brother",
2025-11-07T19:40:51.3057922Z -    "brown", "brush", "bubble", "buddy", "budget", "buffalo", "build", "bulb",
2025-11-07T19:40:51.3058240Z -    "bulk", "bullet", "bundle", "bunker", "burden", "burger", "burst", "bus",
2025-11-07T19:40:51.3058568Z -    "business", "busy", "butter", "buyer", "buzz", "cabbage", "cabin", "cable",
2025-11-07T19:40:51.3058853Z -    "cactus", "cage", "cake", "call", "calm", "camera", "camp", "can",
2025-11-07T19:40:51.3059171Z -    "canal", "cancel", "candy", "cannon", "canoe", "canvas", "canyon", "capable",
2025-11-07T19:40:51.3059474Z -    "capital", "captain", "car", "carbon", "card", "cargo", "carpet", "carry",
2025-11-07T19:40:51.3059761Z -    "cart", "case", "cash", "casino", "castle", "casual", "cat", "catalog",
2025-11-07T19:40:51.3060112Z -    "catch", "category", "cattle", "caught", "cause", "caution", "cave", "ceiling",
2025-11-07T19:40:51.3060439Z -    "celery", "cement", "census", "century", "cereal", "certain", "chair", "chalk",
2025-11-07T19:40:51.3060771Z -    "champion", "change", "chaos", "chapter", "charge", "chase", "chat", "cheap",
2025-11-07T19:40:51.3061069Z -    "check", "cheese", "chef", "cherry", "chest", "chicken", "chief", "child",
2025-11-07T19:40:51.3061415Z -    "chimney", "choice", "choose", "chronic", "chuckle", "chunk", "churn", "cigar",
2025-11-07T19:40:51.3061761Z -    "cinnamon", "circle", "citizen", "city", "civil", "claim", "clap", "clarify",
2025-11-07T19:40:51.3062058Z -    "claw", "clay", "clean", "clerk", "clever", "click", "client", "cliff",
2025-11-07T19:40:51.3062350Z -    "climb", "clinic", "clip", "clock", "clog", "close", "cloth", "cloud",
2025-11-07T19:40:51.3062662Z -    "clown", "club", "clump", "cluster", "clutch", "coach", "coast", "coconut",
2025-11-07T19:40:51.3063176Z -    "code", "coffee", "coil", "coin", "collect", "color", "column", "combine",
2025-11-07T19:40:51.3063526Z -    "come", "comfort", "comic", "common", "company", "concert", "conduct", "confirm",
2025-11-07T19:40:51.3063916Z -    "congress", "connect", "consider", "control", "convince", "cook", "cool", "copper",
2025-11-07T19:40:51.3064226Z -    "copy", "coral", "core", "corn", "correct", "cost", "cotton", "couch",
2025-11-07T19:40:51.3064759Z -    "country", "couple", "course", "cousin", "cover", "coyote", "crack", "cradle",
2025-11-07T19:40:51.3065061Z -    "craft", "cram", "crane", "crash", "crater", "crawl", "crazy", "cream",
2025-11-07T19:40:51.3065386Z -    "credit", "creek", "crew", "cricket", "crime", "crisp", "critic", "crop",
2025-11-07T19:40:51.3065721Z -    "cross", "crouch", "crowd", "crucial", "cruel", "cruise", "crumble", "crunch",
2025-11-07T19:40:51.3067688Z -    "crush", "cry", "crystal", "cube", "culture", "cup", "cupboard", "curious",
2025-11-07T19:40:51.3068033Z -    "current", "curtain", "curve", "cushion", "custom", "cute", "cycle", "dad",
2025-11-07T19:40:51.3068304Z -    "damage", "damp", "dance", "danger", "daring", "dash", "daughter", "dawn",
2025-11-07T19:40:51.3068484Z -    "day", "deal", "debate", "debris", "decade", "december", "decide", "decline",
2025-11-07T19:40:51.3068868Z -    "decorate", "decrease", "deer", "defense", "define", "defy", "degree", "delay",
2025-11-07T19:40:51.3069067Z -    "deliver", "demand", "demise", "denial", "dentist", "deny", "depart", "depend",
2025-11-07T19:40:51.3069255Z -    "deposit", "depth", "deputy", "derive", "describe", "desert", "design", "desk",
2025-11-07T19:40:51.3069457Z -    "despair", "destroy", "detail", "detect", "develop", "device", "devote", "diagram",
2025-11-07T19:40:51.3069641Z -    "dial", "diamond", "diary", "dice", "diesel", "diet", "differ", "digital",
2025-11-07T19:40:51.3069974Z -    "dignity", "dilemma", "dinner", "dinosaur", "direct", "dirt", "disagree", "discover",
2025-11-07T19:40:51.3070371Z -    "disease", "dish", "dismiss", "disorder", "display", "distance", "divert", "divide",
2025-11-07T19:40:51.3070732Z -    "divorce", "dizzy", "doctor", "document", "dog", "doll", "dolphin", "domain",
2025-11-07T19:40:51.3071044Z -    "donate", "donkey", "donor", "door", "dose", "double", "dove", "draft",
2025-11-07T19:40:51.3071368Z -    "dragon", "drama", "drastic", "draw", "dream", "dress", "drift", "drill",
2025-11-07T19:40:51.3071661Z -    "drink", "drip", "drive", "drop", "drum", "dry", "duck", "dumb",
2025-11-07T19:40:51.3071959Z -    "dune", "during", "dust", "dutch", "duty", "dwarf", "dynamic", "eager",
2025-11-07T19:40:51.3072253Z -    "eagle", "early", "earn", "earth", "easily", "east", "easy", "echo",
2025-11-07T19:40:51.3072606Z -    "ecology", "economy", "edge", "edit", "educate", "effort", "egg", "eight",
2025-11-07T19:40:51.3073003Z -    "either", "elbow", "elder", "electric", "elegant", "element", "elephant", "elevator",
2025-11-07T19:40:51.3073360Z -    "elite", "else", "embark", "embody", "embrace", "emerge", "emotion", "employ",
2025-11-07T19:40:51.3073710Z -    "empower", "empty", "enable", "enact", "end", "endless", "endorse", "enemy",
2025-11-07T19:40:51.3074078Z -    "energy", "enforce", "engage", "engine", "enhance", "enjoy", "enlist", "enough",
2025-11-07T19:40:51.3074692Z -    "enrich", "enroll", "ensure", "enter", "entire", "entry", "envelope", "episode",
2025-11-07T19:40:51.3075018Z -    "equal", "equip", "era", "erase", "erode", "erosion", "error", "erupt",
2025-11-07T19:40:51.3075396Z -    "escape", "essay", "essence", "estate", "eternal", "ethics", "evidence", "evil",
2025-11-07T19:40:51.3077581Z -    "evoke", "evolve", "exact", "example", "excess", "exchange", "excite", "exclude",
2025-11-07T19:40:51.3077949Z -    "excuse", "execute", "exercise", "exhaust", "exhibit", "exile", "exist", "exit",
2025-11-07T19:40:51.3078317Z -    "exotic", "expand", "expect", "expire", "explain", "expose", "express", "extend",
2025-11-07T19:40:51.3078878Z -    "extra", "eye", "eyebrow", "fabric", "face", "faculty", "fade", "faint",
2025-11-07T19:40:51.3079171Z -    "faith", "fall", "false", "fame", "family", "famous", "fan", "fancy",
2025-11-07T19:40:51.3079504Z -    "fantasy", "farm", "fashion", "fat", "fatal", "father", "fatigue", "fault",
2025-11-07T19:40:51.3079867Z -    "favorite", "feature", "february", "federal", "fee", "feed", "feel", "female",
2025-11-07T19:40:51.3080189Z -    "fence", "festival", "fetch", "fever", "few", "fiber", "fiction", "field",
2025-11-07T19:40:51.3080492Z -    "figure", "file", "film", "filter", "final", "find", "fine", "finger",
2025-11-07T19:40:51.3080782Z -    "finish", "fire", "firm", "first", "fiscal", "fish", "fit", "fitness",
2025-11-07T19:40:51.3081064Z -    "fix", "flag", "flame", "flash", "flat", "flavor", "flee", "flight",
2025-11-07T19:40:51.3081351Z -    "flip", "float", "flock", "floor", "flower", "fluid", "flush", "fly",
2025-11-07T19:40:51.3081631Z -    "foam", "focus", "fog", "foil", "fold", "follow", "food", "foot",
2025-11-07T19:40:51.3081981Z -    "force", "forest", "forget", "fork", "fortune", "forum", "forward", "fossil",
2025-11-07T19:40:51.3082314Z -    "foster", "found", "fox", "fragile", "frame", "frequent", "fresh", "friend",
2025-11-07T19:40:51.3082631Z -    "fringe", "frog", "front", "frost", "frown", "frozen", "fruit", "fuel",
2025-11-07T19:40:51.3082946Z -    "fun", "funny", "furnace", "fury", "future", "gadget", "gain", "galaxy",
2025-11-07T19:40:51.3083503Z -    "gallery", "game", "gap", "garage", "garbage", "garden", "garlic", "garment",
2025-11-07T19:40:51.3083831Z -    "gas", "gasp", "gate", "gather", "gauge", "gaze", "general", "genius",
2025-11-07T19:40:51.3084188Z -    "genre", "gentle", "genuine", "gesture", "ghost", "giant", "gift", "giggle",
2025-11-07T19:40:51.3084686Z -    "ginger", "giraffe", "girl", "give", "glad", "glance", "glare", "glass",
2025-11-07T19:40:51.3084990Z -    "glide", "glimpse", "globe", "gloom", "glory", "glove", "glow", "glue",
2025-11-07T19:40:51.3085306Z -    "goat", "goddess", "gold", "good", "goose", "gorilla", "gospel", "gossip",
2025-11-07T19:40:51.3085590Z -    "govern", "gown", "grab", "grace", "grain", "grant", "grape", "grass",
2025-11-07T19:40:51.3085900Z -    "gravity", "great", "green", "grid", "grief", "grit", "grocery", "group",
2025-11-07T19:40:51.3086194Z -    "grow", "grunt", "guard", "guess", "guide", "guilt", "guitar", "gun",
2025-11-07T19:40:51.3086484Z -    "gym", "habit", "hair", "half", "hammer", "hamster", "hand", "happy",
2025-11-07T19:40:51.3086776Z -    "harbor", "hard", "harsh", "harvest", "hat", "have", "hawk", "hazard",
2025-11-07T19:40:51.3087098Z -    "head", "health", "heart", "heavy", "hedgehog", "height", "hello", "helmet",
2025-11-07T19:40:51.3087377Z -    "help", "hen", "hero", "hidden", "high", "hill", "hint", "hip",
2025-11-07T19:40:51.3087698Z -    "hire", "history", "hobby", "hockey", "hold", "hole", "holiday", "hollow",
2025-11-07T19:40:51.3087993Z -    "home", "honey", "hood", "hope", "horn", "horror", "horse", "hospital",
2025-11-07T19:40:51.3088297Z -    "host", "hotel", "hour", "hover", "hub", "huge", "human", "humble",
2025-11-07T19:40:51.3088633Z -    "humor", "hundred", "hungry", "hunt", "hurdle", "hurry", "hurt", "husband",
2025-11-07T19:40:51.3088880Z -    "hybrid", "ice", "icon", "idea", "identify", "idle", "ignore", "ill",
2025-11-07T19:40:51.3089089Z -    "illegal", "illness", "image", "imitate", "immense", "immune", "impact", "impose",
2025-11-07T19:40:51.3089306Z -    "improve", "impulse", "inch", "include", "income", "increase", "index", "indicate",
2025-11-07T19:40:51.3089513Z -    "indoor", "industry", "infant", "inflict", "inform", "inhale", "inherit", "initial",
2025-11-07T19:40:51.3089702Z -    "inject", "injury", "inmate", "inner", "innocent", "input", "inquiry", "insane",
2025-11-07T19:40:51.3089901Z -    "insect", "inside", "inspire", "install", "intact", "interest", "into", "invest",
2025-11-07T19:40:51.3090079Z -    "invite", "involve", "iron", "island", "isolate", "issue", "item", "ivory",
2025-11-07T19:40:51.3090568Z -    "jacket", "jaguar", "jar", "jazz", "jealous", "jeans", "jelly", "jewel",
2025-11-07T19:40:51.3090833Z -    "job", "join", "joke", "journey", "joy", "judge", "juice", "jump",
2025-11-07T19:40:51.3091163Z -    "jungle", "junior", "junk", "just", "kangaroo", "keen", "keep", "ketchup",
2025-11-07T19:40:51.3091428Z -    "key", "kick", "kid", "kidney", "kind", "kingdom", "kiss", "kit",
2025-11-07T19:40:51.3091742Z -    "kitchen", "kite", "kitten", "kiwi", "knee", "knife", "knock", "know",
2025-11-07T19:40:51.3092034Z -    "lab", "label", "labor", "ladder", "lady", "lake", "lamp", "language",
2025-11-07T19:40:51.3092349Z -    "laptop", "large", "later", "latin", "laugh", "laundry", "lava", "law",
2025-11-07T19:40:51.3092656Z -    "lawn", "lawsuit", "layer", "lazy", "leader", "leaf", "learn", "leave",
2025-11-07T19:40:51.3092973Z -    "lecture", "left", "leg", "legal", "legend", "leisure", "lemon", "lend",
2025-11-07T19:40:51.3093316Z -    "length", "lens", "leopard", "lesson", "letter", "level", "liar", "liberty",
2025-11-07T19:40:51.3093645Z -    "library", "license", "life", "lift", "light", "like", "limb", "limit",
2025-11-07T19:40:51.3093946Z -    "link", "lion", "liquid", "list", "little", "live", "lizard", "load",
2025-11-07T19:40:51.3094245Z -    "loan", "lobster", "local", "lock", "logic", "lonely", "long", "loop",
2025-11-07T19:40:51.3094746Z -    "lottery", "loud", "lounge", "love", "loyal", "lucky", "luggage", "lumber",
2025-11-07T19:40:51.3095355Z -    "lunar", "lunch", "luxury", "lyrics", "machine", "mad", "magic", "magnet",
2025-11-07T19:40:51.3095644Z -    "maid", "mail", "main", "major", "make", "mammal", "man", "manage",
2025-11-07T19:40:51.3096003Z -    "mandate", "mango", "mansion", "manual", "maple", "marble", "march", "margin",
2025-11-07T19:40:51.3096359Z -    "marine", "market", "marriage", "mask", "mass", "master", "match", "material",
2025-11-07T19:40:51.3096683Z -    "math", "matrix", "matter", "maximum", "maze", "meadow", "mean", "measure",
2025-11-07T19:40:51.3097012Z -    "meat", "mechanic", "medal", "media", "melody", "melt", "member", "memory",
2025-11-07T19:40:51.3097335Z -    "mention", "menu", "mercy", "merge", "merit", "merry", "mesh", "message",
2025-11-07T19:40:51.3097675Z -    "metal", "method", "middle", "midnight", "milk", "million", "mimic", "mind",
2025-11-07T19:40:51.3098018Z -    "minimum", "minor", "minute", "miracle", "mirror", "misery", "miss", "mistake",
2025-11-07T19:40:51.3098321Z -    "mix", "mixed", "mixture", "mobile", "model", "modify", "mom", "moment",
2025-11-07T19:40:51.3098657Z -    "monitor", "monkey", "monster", "month", "moon", "moral", "more", "morning",
2025-11-07T19:40:51.3098978Z -    "mosquito", "mother", "motion", "motor", "mountain", "mouse", "move", "movie",
2025-11-07T19:40:51.3099306Z -    "much", "muffin", "mule", "multiply", "muscle", "museum", "mushroom", "music",
2025-11-07T19:40:51.3100075Z -    "must", "mutual", "myself", "mystery", "myth", "naive", "name", "napkin",
2025-11-07T19:40:51.3100426Z -    "narrow", "nasty", "nation", "nature", "near", "neck", "need", "negative",
2025-11-07T19:40:51.3101134Z -    "neglect", "neither", "nephew", "nerve", "nest", "net", "network", "neutral",
2025-11-07T19:40:51.3101442Z -    "never", "news", "next", "nice", "night", "noble", "noise", "nominee",
2025-11-07T19:40:51.3101771Z -    "noodle", "normal", "north", "nose", "notable", "note", "nothing", "notice",
2025-11-07T19:40:51.3102063Z -    "novel", "now", "nuclear", "number", "nurse", "nut", "oak", "obey",
2025-11-07T19:40:51.3102425Z -    "object", "oblige", "obscure", "observe", "obtain", "obvious", "occur", "ocean",
2025-11-07T19:40:51.3102720Z -    "october", "odor", "off", "offer", "office", "often", "oil", "okay",
2025-11-07T19:40:51.3103533Z -    "old", "olive", "olympic", "omit", "once", "one", "onion", "online",
2025-11-07T19:40:51.3103862Z -    "only", "open", "opera", "opinion", "oppose", "option", "orange", "orbit",
2025-11-07T19:40:51.3104244Z -    "orchard", "order", "ordinary", "organ", "orient", "original", "orphan", "ostrich",
2025-11-07T19:40:51.3105070Z -    "other", "outdoor", "outer", "output", "outside", "oval", "oven", "over",
2025-11-07T19:40:51.3105397Z -    "own", "owner", "oxygen", "oyster", "ozone", "pact", "paddle", "page",
2025-11-07T19:40:51.3105731Z -    "pair", "palace", "palm", "panda", "panel", "panic", "panther", "paper",
2025-11-07T19:40:51.3106057Z -    "parade", "parent", "park", "parrot", "party", "pass", "patch", "path",
2025-11-07T19:40:51.3106437Z -    "patient", "patrol", "pattern", "pause", "pave", "payment", "peace", "peanut",
2025-11-07T19:40:51.3106793Z -    "pear", "peasant", "pelican", "pen", "penalty", "pencil", "people", "pepper",
2025-11-07T19:40:51.3107145Z -    "perfect", "permit", "person", "pet", "phone", "photo", "phrase", "physical",
2025-11-07T19:40:51.3107465Z -    "piano", "picnic", "picture", "piece", "pig", "pigeon", "pill", "pilot",
2025-11-07T19:40:51.3107795Z -    "pink", "pioneer", "pipe", "pistol", "pitch", "pizza", "place", "planet",
2025-11-07T19:40:51.3108125Z -    "plastic", "plate", "play", "please", "pledge", "pluck", "plug", "plunge",
2025-11-07T19:40:51.3108393Z -    "poem", "poet", "point", "polar", "pole", "police", "pond", "pony",
2025-11-07T19:40:51.3108762Z -    "pool", "popular", "portion", "position", "possible", "post", "potato", "pottery",
2025-11-07T19:40:51.3109140Z -    "poverty", "powder", "power", "practice", "praise", "predict", "prefer", "prepare",
2025-11-07T19:40:51.3109707Z -    "present", "pretty", "prevent", "price", "pride", "primary", "print", "priority",
2025-11-07T19:40:51.3110095Z -    "prison", "private", "prize", "problem", "process", "produce", "profit", "program",
2025-11-07T19:40:51.3110501Z -    "project", "promote", "proof", "property", "prosper", "protect", "proud", "provide",
2025-11-07T19:40:51.3110834Z -    "public", "pudding", "pull", "pulp", "pulse", "pumpkin", "punch", "pupil",
2025-11-07T19:40:51.3111178Z -    "puppy", "purchase", "purity", "purpose", "purse", "push", "put", "puzzle",
2025-11-07T19:40:51.3111577Z -    "pyramid", "quality", "quantum", "quarter", "question", "quick", "quit", "quiz",
2025-11-07T19:40:51.3111891Z -    "quote", "rabbit", "raccoon", "race", "rack", "radar", "radio", "rail",
2025-11-07T19:40:51.3112062Z -    "rain", "raise", "rally", "ramp", "ranch", "random", "range", "rapid",
2025-11-07T19:40:51.3112223Z -    "rare", "rate", "rather", "raven", "raw", "razor", "ready", "real",
2025-11-07T19:40:51.3112430Z -    "reason", "rebel", "rebuild", "recall", "receive", "recipe", "record", "recycle",
2025-11-07T19:40:51.3112624Z -    "reduce", "reflect", "reform", "refuse", "region", "regret", "regular", "reject",
2025-11-07T19:40:51.3112817Z -    "relax", "release", "relief", "rely", "remain", "remember", "remind", "remove",
2025-11-07T19:40:51.3113004Z -    "render", "renew", "rent", "reopen", "repair", "repeat", "replace", "report",
2025-11-07T19:40:51.3113225Z -    "require", "rescue", "resemble", "resist", "resource", "response", "result", "retire",
2025-11-07T19:40:51.3113530Z -    "retreat", "return", "reunion", "reveal", "review", "reward", "rhythm", "rib",
2025-11-07T19:40:51.3113820Z -    "ribbon", "rice", "rich", "ride", "ridge", "rifle", "right", "rigid",
2025-11-07T19:40:51.3114108Z -    "ring", "riot", "ripple", "risk", "ritual", "rival", "river", "road",
2025-11-07T19:40:51.3114580Z -    "roast", "robot", "robust", "rocket", "romance", "roof", "rookie", "room",
2025-11-07T19:40:51.3114902Z -    "rose", "rotate", "rough", "round", "route", "royal", "rubber", "rude",
2025-11-07T19:40:51.3116835Z -    "rug", "rule", "run", "runway", "rural", "sad", "saddle", "sadness",
2025-11-07T19:40:51.3117122Z -    "safe", "sail", "salad", "salmon", "salon", "salt", "salute", "same",
2025-11-07T19:40:51.3117644Z -    "sample", "sand", "satisfy", "satoshi", "sauce", "sausage", "save", "say",
2025-11-07T19:40:51.3117975Z -    "scale", "scan", "scare", "scatter", "scene", "scheme", "school", "science",
2025-11-07T19:40:51.3118344Z -    "scissors", "scorpion", "scout", "scrap", "screen", "script", "scrub", "sea",
2025-11-07T19:40:51.3118980Z -    "search", "season", "seat", "second", "secret", "section", "security", "seed",
2025-11-07T19:40:51.3119319Z -    "seek", "segment", "select", "sell", "seminar", "senior", "sense", "sentence",
2025-11-07T19:40:51.3119669Z -    "series", "service", "session", "settle", "setup", "seven", "shadow", "shaft",
2025-11-07T19:40:51.3120008Z -    "shallow", "share", "shed", "shell", "sheriff", "shield", "shift", "shine",
2025-11-07T19:40:51.3120333Z -    "ship", "shiver", "shock", "shoe", "shoot", "shop", "short", "shoulder",
2025-11-07T19:40:51.3120661Z -    "shove", "shrimp", "shrug", "shuffle", "shy", "sibling", "sick", "side",
2025-11-07T19:40:51.3121003Z -    "siege", "sight", "sign", "silent", "silk", "silly", "silver", "similar",
2025-11-07T19:40:51.3121323Z -    "simple", "since", "sing", "siren", "sister", "situate", "six", "size",
2025-11-07T19:40:51.3121613Z -    "skate", "sketch", "ski", "skill", "skin", "skirt", "skull", "slab",
2025-11-07T19:40:51.3121932Z -    "slam", "sleep", "slender", "slice", "slide", "slight", "slim", "slogan",
2025-11-07T19:40:51.3122245Z -    "slot", "slow", "slush", "small", "smart", "smile", "smoke", "smooth",
2025-11-07T19:40:51.3122539Z -    "snack", "snake", "snap", "sniff", "snow", "soap", "soccer", "social",
2025-11-07T19:40:51.3122840Z -    "sock", "soda", "soft", "solar", "soldier", "solid", "solution", "solve",
2025-11-07T19:40:51.3123370Z -    "someone", "song", "soon", "sorry", "sort", "soul", "sound", "soup",
2025-11-07T19:40:51.3123739Z -    "source", "south", "space", "spare", "spatial", "spawn", "speak", "special",
2025-11-07T19:40:51.3124057Z -    "speed", "spell", "spend", "sphere", "spice", "spider", "spike", "spin",
2025-11-07T19:40:51.3124651Z -    "spirit", "split", "spoil", "sponsor", "spoon", "sport", "spot", "spray",
2025-11-07T19:40:51.3125014Z -    "spread", "spring", "spy", "square", "squeeze", "squirrel", "stable", "stadium",
2025-11-07T19:40:51.3125324Z -    "staff", "stage", "stairs", "stamp", "stand", "start", "state", "stay",
2025-11-07T19:40:51.3125632Z -    "steak", "steel", "stem", "step", "stereo", "stick", "still", "sting",
2025-11-07T19:40:51.3125974Z -    "stock", "stomach", "stone", "stool", "story", "stove", "strategy", "street",
2025-11-07T19:40:51.3126350Z -    "strike", "strong", "struggle", "student", "stuff", "stumble", "style", "subject",
2025-11-07T19:40:51.3126699Z -    "submit", "subway", "success", "such", "sudden", "suffer", "sugar", "suggest",
2025-11-07T19:40:51.3127025Z -    "suit", "summer", "sun", "sunny", "sunset", "super", "supply", "supreme",
2025-11-07T19:40:51.3127397Z -    "sure", "surface", "surge", "surprise", "surround", "survey", "suspect", "sustain",
2025-11-07T19:40:51.3127708Z -    "swallow", "swamp", "swap", "swarm", "swear", "sweet", "swift", "swim",
2025-11-07T19:40:51.3128045Z -    "swing", "switch", "sword", "symbol", "symptom", "syrup", "system", "table",
2025-11-07T19:40:51.3128327Z -    "tackle", "tag", "tail", "talent", "talk", "tank", "tape", "target",
2025-11-07T19:40:51.3128624Z -    "task", "taste", "tattoo", "taxi", "teach", "team", "tell", "ten",
2025-11-07T19:40:51.3128923Z -    "tenant", "tennis", "tent", "term", "test", "text", "thank", "that",
2025-11-07T19:40:51.3129226Z -    "theme", "then", "theory", "there", "they", "thing", "this", "thought",
2025-11-07T19:40:51.3129547Z -    "three", "thrive", "throw", "thumb", "thunder", "ticket", "tide", "tiger",
2025-11-07T19:40:51.3129850Z -    "tilt", "timber", "time", "tiny", "tip", "tired", "tissue", "title",
2025-11-07T19:40:51.3130194Z -    "toast", "tobacco", "today", "toddler", "toe", "together", "toilet", "token",
2025-11-07T19:40:51.3130526Z -    "tomato", "tomorrow", "tone", "tongue", "tonight", "tool", "tooth", "top",
2025-11-07T19:40:51.3130874Z -    "topic", "topple", "torch", "tornado", "tortoise", "toss", "total", "tourist",
2025-11-07T19:40:51.3131192Z -    "toward", "tower", "town", "toy", "track", "trade", "traffic", "tragic",
2025-11-07T19:40:51.3131506Z -    "train", "transfer", "trap", "trash", "travel", "tray", "treat", "tree",
2025-11-07T19:40:51.3132049Z -    "trend", "trial", "tribe", "trick", "trigger", "trim", "trip", "trophy",
2025-11-07T19:40:51.3132369Z -    "trouble", "truck", "true", "truly", "trumpet", "trust", "truth", "try",
2025-11-07T19:40:51.3132679Z -    "tube", "tuition", "tumble", "tuna", "tunnel", "turkey", "turn", "turtle",
2025-11-07T19:40:51.3132966Z -    "twelve", "twenty", "twice", "twin", "twist", "two", "type", "typical",
2025-11-07T19:40:51.3133336Z -    "ugly", "umbrella", "unable", "unaware", "uncle", "uncover", "under", "undo",
2025-11-07T19:40:51.3133711Z -    "unfair", "unfold", "unhappy", "uniform", "unique", "unit", "universe", "unknown",
2025-11-07T19:40:51.3134064Z -    "unlock", "until", "unusual", "unveil", "update", "upgrade", "uphold", "upon",
2025-11-07T19:40:51.3134515Z -    "upper", "upset", "urban", "urge", "usage", "use", "used", "useful",
2025-11-07T19:40:51.3134871Z -    "useless", "usual", "utility", "vacant", "vacuum", "vague", "valid", "valley",
2025-11-07T19:40:51.3135180Z -    "valve", "van", "vanish", "vapor", "various", "vast", "vault", "vehicle",
2025-11-07T19:40:51.3135510Z -    "velvet", "vendor", "venture", "venue", "verb", "verify", "version", "very",
2025-11-07T19:40:51.3135874Z -    "vessel", "veteran", "viable", "vibrant", "vicious", "victory", "video", "view",
2025-11-07T19:40:51.3136227Z -    "village", "vintage", "violin", "virtual", "virus", "visa", "visit", "visual",
2025-11-07T19:40:51.3138257Z -    "vital", "vivid", "vocal", "voice", "void", "volcano", "volume", "vote",
2025-11-07T19:40:51.3138571Z -    "voyage", "wage", "wagon", "wait", "walk", "wall", "walnut", "want",
2025-11-07T19:40:51.3138881Z -    "warfare", "warm", "warrior", "wash", "wasp", "waste", "water", "wave",
2025-11-07T19:40:51.3139193Z -    "way", "wealth", "weapon", "wear", "weasel", "weather", "web", "wedding",
2025-11-07T19:40:51.3139509Z -    "weekend", "weird", "welcome", "west", "wet", "whale", "what", "wheat",
2025-11-07T19:40:51.3139793Z -    "wheel", "when", "where", "whip", "whisper", "wide", "width", "wife",
2025-11-07T19:40:51.3140066Z -    "wild", "will", "win", "window", "wine", "wing", "wink", "winner",
2025-11-07T19:40:51.3140371Z -    "winter", "wire", "wisdom", "wise", "wish", "witness", "wolf", "woman",
2025-11-07T19:40:51.3140657Z -    "wonder", "wood", "wool", "word", "work", "world", "worry", "worth",
2025-11-07T19:40:51.3140959Z -    "wrap", "wreck", "wrestle", "wrist", "write", "wrong", "yard", "year",
2025-11-07T19:40:51.3141258Z -    "yellow", "you", "young", "youth", "zebra", "zero", "zone", "zoo",
2025-11-07T19:40:51.3141655Z +    "abandon", "ability", "able", "about", "above", "absent", "absorb", "abstract", "absurd",
2025-11-07T19:40:51.3142079Z +    "abuse", "access", "accident", "account", "accuse", "achieve", "acid", "acoustic", "acquire",
2025-11-07T19:40:51.3142489Z +    "across", "act", "action", "actor", "actress", "actual", "adapt", "add", "addict", "address",
2025-11-07T19:40:51.3142897Z +    "adjust", "admit", "adult", "advance", "advice", "aerobic", "affair", "afford", "afraid",
2025-11-07T19:40:51.3143296Z +    "again", "age", "agent", "agree", "ahead", "aim", "air", "airport", "aisle", "alarm", "album",
2025-11-07T19:40:51.3143683Z +    "alcohol", "alert", "alien", "all", "alley", "allow", "almost", "alone", "alpha", "already",
2025-11-07T19:40:51.3144074Z +    "also", "alter", "always", "amateur", "amazing", "among", "amount", "amused", "analyst",
2025-11-07T19:40:51.3144643Z +    "anchor", "ancient", "anger", "angle", "angry", "animal", "ankle", "announce", "annual",
2025-11-07T19:40:51.3145069Z +    "another", "answer", "antenna", "antique", "anxiety", "any", "apart", "apology", "appear",
2025-11-07T19:40:51.3145454Z +    "apple", "approve", "april", "arch", "arctic", "area", "arena", "argue", "arm", "armed",
2025-11-07T19:40:51.3145874Z +    "armor", "army", "around", "arrange", "arrest", "arrive", "arrow", "art", "artefact", "artist",
2025-11-07T19:40:51.3146257Z +    "artwork", "ask", "aspect", "assault", "asset", "assist", "assume", "asthma", "athlete",
2025-11-07T19:40:51.3146906Z +    "atom", "attack", "attend", "attitude", "attract", "auction", "audit", "august", "aunt",
2025-11-07T19:40:51.3147329Z +    "author", "auto", "autumn", "average", "avocado", "avoid", "awake", "aware", "away", "awesome",
2025-11-07T19:40:51.3147742Z +    "awful", "awkward", "axis", "baby", "bachelor", "bacon", "badge", "bag", "balance", "balcony",
2025-11-07T19:40:51.3148155Z +    "ball", "bamboo", "banana", "banner", "bar", "barely", "bargain", "barrel", "base", "basic",
2025-11-07T19:40:51.3148562Z +    "basket", "battle", "beach", "bean", "beauty", "because", "become", "beef", "before", "begin",
2025-11-07T19:40:51.3148979Z +    "behave", "behind", "believe", "below", "belt", "bench", "benefit", "best", "betray", "better",
2025-11-07T19:40:51.3149391Z +    "between", "beyond", "bicycle", "bid", "bike", "bind", "biology", "bird", "birth", "bitter",
2025-11-07T19:40:51.3149795Z +    "black", "blade", "blame", "blanket", "blast", "bleak", "bless", "blind", "blood", "blossom",
2025-11-07T19:40:51.3150189Z +    "blouse", "blue", "blur", "blush", "board", "boat", "body", "boil", "bomb", "bone", "bonus",
2025-11-07T19:40:51.3150561Z +    "book", "boost", "border", "boring", "borrow", "boss", "bottom", "bounce", "box", "boy",
2025-11-07T19:40:51.3150940Z +    "bracket", "brain", "brand", "brass", "brave", "bread", "breeze", "brick", "bridge", "brief",
2025-11-07T19:40:51.3151535Z +    "bright", "bring", "brisk", "broccoli", "broken", "bronze", "broom", "brother", "brown",
2025-11-07T19:40:51.3151940Z +    "brush", "bubble", "buddy", "budget", "buffalo", "build", "bulb", "bulk", "bullet", "bundle",
2025-11-07T19:40:51.3152340Z +    "bunker", "burden", "burger", "burst", "bus", "business", "busy", "butter", "buyer", "buzz",
2025-11-07T19:40:51.3152730Z +    "cabbage", "cabin", "cable", "cactus", "cage", "cake", "call", "calm", "camera", "camp", "can",
2025-11-07T19:40:51.3153088Z +    "canal", "cancel", "candy", "cannon", "canoe", "canvas", "canyon", "capable", "capital",
2025-11-07T19:40:51.3153447Z +    "captain", "car", "carbon", "card", "cargo", "carpet", "carry", "cart", "case", "cash",
2025-11-07T19:40:51.3153803Z +    "casino", "castle", "casual", "cat", "catalog", "catch", "category", "cattle", "caught",
2025-11-07T19:40:51.3154177Z +    "cause", "caution", "cave", "ceiling", "celery", "cement", "census", "century", "cereal",
2025-11-07T19:40:51.3154763Z +    "certain", "chair", "chalk", "champion", "change", "chaos", "chapter", "charge", "chase",
2025-11-07T19:40:51.3155157Z +    "chat", "cheap", "check", "cheese", "chef", "cherry", "chest", "chicken", "chief", "child",
2025-11-07T19:40:51.3155559Z +    "chimney", "choice", "choose", "chronic", "chuckle", "chunk", "churn", "cigar", "cinnamon",
2025-11-07T19:40:51.3155945Z +    "circle", "citizen", "city", "civil", "claim", "clap", "clarify", "claw", "clay", "clean",
2025-11-07T19:40:51.3156316Z +    "clerk", "clever", "click", "client", "cliff", "climb", "clinic", "clip", "clock", "clog",
2025-11-07T19:40:51.3156693Z +    "close", "cloth", "cloud", "clown", "club", "clump", "cluster", "clutch", "coach", "coast",
2025-11-07T19:40:51.3157092Z +    "coconut", "code", "coffee", "coil", "coin", "collect", "color", "column", "combine", "come",
2025-11-07T19:40:51.3157465Z +    "comfort", "comic", "common", "company", "concert", "conduct", "confirm", "congress",
2025-11-07T19:40:51.3157852Z +    "connect", "consider", "control", "convince", "cook", "cool", "copper", "copy", "coral",
2025-11-07T19:40:51.3158256Z +    "core", "corn", "correct", "cost", "cotton", "couch", "country", "couple", "course", "cousin",
2025-11-07T19:40:51.3158635Z +    "cover", "coyote", "crack", "cradle", "craft", "cram", "crane", "crash", "crater", "crawl",
2025-11-07T19:40:51.3159017Z +    "crazy", "cream", "credit", "creek", "crew", "cricket", "crime", "crisp", "critic", "crop",
2025-11-07T19:40:51.3159439Z +    "cross", "crouch", "crowd", "crucial", "cruel", "cruise", "crumble", "crunch", "crush", "cry",
2025-11-07T19:40:51.3159829Z +    "crystal", "cube", "culture", "cup", "cupboard", "curious", "current", "curtain", "curve",
2025-11-07T19:40:51.3160465Z +    "cushion", "custom", "cute", "cycle", "dad", "damage", "damp", "dance", "danger", "daring",
2025-11-07T19:40:51.3160863Z +    "dash", "daughter", "dawn", "day", "deal", "debate", "debris", "decade", "december", "decide",
2025-11-07T19:40:51.3161252Z +    "decline", "decorate", "decrease", "deer", "defense", "define", "defy", "degree", "delay",
2025-11-07T19:40:51.3161643Z +    "deliver", "demand", "demise", "denial", "dentist", "deny", "depart", "depend", "deposit",
2025-11-07T19:40:51.3162032Z +    "depth", "deputy", "derive", "describe", "desert", "design", "desk", "despair", "destroy",
2025-11-07T19:40:51.3162368Z +    "detail", "detect", "develop", "device", "devote", "diagram", "dial", "diamond", "diary",
2025-11-07T19:40:51.3162759Z +    "dice", "diesel", "diet", "differ", "digital", "dignity", "dilemma", "dinner", "dinosaur",
2025-11-07T19:40:51.3163184Z +    "direct", "dirt", "disagree", "discover", "disease", "dish", "dismiss", "disorder", "display",
2025-11-07T19:40:51.3163596Z +    "distance", "divert", "divide", "divorce", "dizzy", "doctor", "document", "dog", "doll",
2025-11-07T19:40:51.3163989Z +    "dolphin", "domain", "donate", "donkey", "donor", "door", "dose", "double", "dove", "draft",
2025-11-07T19:40:51.3164555Z +    "dragon", "drama", "drastic", "draw", "dream", "dress", "drift", "drill", "drink", "drip",
2025-11-07T19:40:51.3165162Z +    "drive", "drop", "drum", "dry", "duck", "dumb", "dune", "during", "dust", "dutch", "duty",
2025-11-07T19:40:51.3165557Z +    "dwarf", "dynamic", "eager", "eagle", "early", "earn", "earth", "easily", "east", "easy",
2025-11-07T19:40:51.3165958Z +    "echo", "ecology", "economy", "edge", "edit", "educate", "effort", "egg", "eight", "either",
2025-11-07T19:40:51.3166380Z +    "elbow", "elder", "electric", "elegant", "element", "elephant", "elevator", "elite", "else",
2025-11-07T19:40:51.3166796Z +    "embark", "embody", "embrace", "emerge", "emotion", "employ", "empower", "empty", "enable",
2025-11-07T19:40:51.3167184Z +    "enact", "end", "endless", "endorse", "enemy", "energy", "enforce", "engage", "engine",
2025-11-07T19:40:51.3169407Z +    "enhance", "enjoy", "enlist", "enough", "enrich", "enroll", "ensure", "enter", "entire",
2025-11-07T19:40:51.3170254Z +    "entry", "envelope", "episode", "equal", "equip", "era", "erase", "erode", "erosion", "error",
2025-11-07T19:40:51.3170698Z +    "erupt", "escape", "essay", "essence", "estate", "eternal", "ethics", "evidence", "evil",
2025-11-07T19:40:51.3171128Z +    "evoke", "evolve", "exact", "example", "excess", "exchange", "excite", "exclude", "excuse",
2025-11-07T19:40:51.3171544Z +    "execute", "exercise", "exhaust", "exhibit", "exile", "exist", "exit", "exotic", "expand",
2025-11-07T19:40:51.3171936Z +    "expect", "expire", "explain", "expose", "express", "extend", "extra", "eye", "eyebrow",
2025-11-07T19:40:51.3172328Z +    "fabric", "face", "faculty", "fade", "faint", "faith", "fall", "false", "fame", "family",
2025-11-07T19:40:51.3172737Z +    "famous", "fan", "fancy", "fantasy", "farm", "fashion", "fat", "fatal", "father", "fatigue",
2025-11-07T19:40:51.3173135Z +    "fault", "favorite", "feature", "february", "federal", "fee", "feed", "feel", "female",
2025-11-07T19:40:51.3173533Z +    "fence", "festival", "fetch", "fever", "few", "fiber", "fiction", "field", "figure", "file",
2025-11-07T19:40:51.3173901Z +    "film", "filter", "final", "find", "fine", "finger", "finish", "fire", "firm", "first",
2025-11-07T19:40:51.3174483Z +    "fiscal", "fish", "fit", "fitness", "fix", "flag", "flame", "flash", "flat", "flavor", "flee",
2025-11-07T19:40:51.3174870Z +    "flight", "flip", "float", "flock", "floor", "flower", "fluid", "flush", "fly", "foam",
2025-11-07T19:40:51.3175267Z +    "focus", "fog", "foil", "fold", "follow", "food", "foot", "force", "forest", "forget", "fork",
2025-11-07T19:40:51.3175654Z +    "fortune", "forum", "forward", "fossil", "foster", "found", "fox", "fragile", "frame",
2025-11-07T19:40:51.3176333Z +    "frequent", "fresh", "friend", "fringe", "frog", "front", "frost", "frown", "frozen", "fruit",
2025-11-07T19:40:51.3176737Z +    "fuel", "fun", "funny", "furnace", "fury", "future", "gadget", "gain", "galaxy", "gallery",
2025-11-07T19:40:51.3178826Z +    "game", "gap", "garage", "garbage", "garden", "garlic", "garment", "gas", "gasp", "gate",
2025-11-07T19:40:51.3179223Z +    "gather", "gauge", "gaze", "general", "genius", "genre", "gentle", "genuine", "gesture",
2025-11-07T19:40:51.3179622Z +    "ghost", "giant", "gift", "giggle", "ginger", "giraffe", "girl", "give", "glad", "glance",
2025-11-07T19:40:51.3180001Z +    "glare", "glass", "glide", "glimpse", "globe", "gloom", "glory", "glove", "glow", "glue",
2025-11-07T19:40:51.3180392Z +    "goat", "goddess", "gold", "good", "goose", "gorilla", "gospel", "gossip", "govern", "gown",
2025-11-07T19:40:51.3180762Z +    "grab", "grace", "grain", "grant", "grape", "grass", "gravity", "great", "green", "grid",
2025-11-07T19:40:51.3181136Z +    "grief", "grit", "grocery", "group", "grow", "grunt", "guard", "guess", "guide", "guilt",
2025-11-07T19:40:51.3181884Z +    "guitar", "gun", "gym", "habit", "hair", "half", "hammer", "hamster", "hand", "happy",
2025-11-07T19:40:51.3182278Z +    "harbor", "hard", "harsh", "harvest", "hat", "have", "hawk", "hazard", "head", "health",
2025-11-07T19:40:51.3182683Z +    "heart", "heavy", "hedgehog", "height", "hello", "helmet", "help", "hen", "hero", "hidden",
2025-11-07T19:40:51.3183312Z +    "high", "hill", "hint", "hip", "hire", "history", "hobby", "hockey", "hold", "hole", "holiday",
2025-11-07T19:40:51.3183712Z +    "hollow", "home", "honey", "hood", "hope", "horn", "horror", "horse", "hospital", "host",
2025-11-07T19:40:51.3184073Z +    "hotel", "hour", "hover", "hub", "huge", "human", "humble", "humor", "hundred", "hungry",
2025-11-07T19:40:51.3184635Z +    "hunt", "hurdle", "hurry", "hurt", "husband", "hybrid", "ice", "icon", "idea", "identify",
2025-11-07T19:40:51.3185012Z +    "idle", "ignore", "ill", "illegal", "illness", "image", "imitate", "immense", "immune",
2025-11-07T19:40:51.3185440Z +    "impact", "impose", "improve", "impulse", "inch", "include", "income", "increase", "index",
2025-11-07T19:40:51.3185825Z +    "indicate", "indoor", "industry", "infant", "inflict", "inform", "inhale", "inherit",
2025-11-07T19:40:51.3186225Z +    "initial", "inject", "injury", "inmate", "inner", "innocent", "input", "inquiry", "insane",
2025-11-07T19:40:51.3186644Z +    "insect", "inside", "inspire", "install", "intact", "interest", "into", "invest", "invite",
2025-11-07T19:40:51.3187053Z +    "involve", "iron", "island", "isolate", "issue", "item", "ivory", "jacket", "jaguar", "jar",
2025-11-07T19:40:51.3187461Z +    "jazz", "jealous", "jeans", "jelly", "jewel", "job", "join", "joke", "journey", "joy", "judge",
2025-11-07T19:40:51.3187849Z +    "juice", "jump", "jungle", "junior", "junk", "just", "kangaroo", "keen", "keep", "ketchup",
2025-11-07T19:40:51.3188231Z +    "key", "kick", "kid", "kidney", "kind", "kingdom", "kiss", "kit", "kitchen", "kite", "kitten",
2025-11-07T19:40:51.3188611Z +    "kiwi", "knee", "knife", "knock", "know", "lab", "label", "labor", "ladder", "lady", "lake",
2025-11-07T19:40:51.3189016Z +    "lamp", "language", "laptop", "large", "later", "latin", "laugh", "laundry", "lava", "law",
2025-11-07T19:40:51.3189393Z +    "lawn", "lawsuit", "layer", "lazy", "leader", "leaf", "learn", "leave", "lecture", "left",
2025-11-07T19:40:51.3189788Z +    "leg", "legal", "legend", "leisure", "lemon", "lend", "length", "lens", "leopard", "lesson",
2025-11-07T19:40:51.3190185Z +    "letter", "level", "liar", "liberty", "library", "license", "life", "lift", "light", "like",
2025-11-07T19:40:51.3190564Z +    "limb", "limit", "link", "lion", "liquid", "list", "little", "live", "lizard", "load", "loan",
2025-11-07T19:40:51.3190948Z +    "lobster", "local", "lock", "logic", "lonely", "long", "loop", "lottery", "loud", "lounge",
2025-11-07T19:40:51.3191369Z +    "love", "loyal", "lucky", "luggage", "lumber", "lunar", "lunch", "luxury", "lyrics", "machine",
2025-11-07T19:40:51.3191981Z +    "mad", "magic", "magnet", "maid", "mail", "main", "major", "make", "mammal", "man", "manage",
2025-11-07T19:40:51.3192373Z +    "mandate", "mango", "mansion", "manual", "maple", "marble", "march", "margin", "marine",
2025-11-07T19:40:51.3192753Z +    "market", "marriage", "mask", "mass", "master", "match", "material", "math", "matrix",
2025-11-07T19:40:51.3193172Z +    "matter", "maximum", "maze", "meadow", "mean", "measure", "meat", "mechanic", "medal", "media",
2025-11-07T19:40:51.3193561Z +    "melody", "melt", "member", "memory", "mention", "menu", "mercy", "merge", "merit", "merry",
2025-11-07T19:40:51.3193974Z +    "mesh", "message", "metal", "method", "middle", "midnight", "milk", "million", "mimic", "mind",
2025-11-07T19:40:51.3194642Z +    "minimum", "minor", "minute", "miracle", "mirror", "misery", "miss", "mistake", "mix", "mixed",
2025-11-07T19:40:51.3195038Z +    "mixture", "mobile", "model", "modify", "mom", "moment", "monitor", "monkey", "monster",
2025-11-07T19:40:51.3195410Z +    "month", "moon", "moral", "more", "morning", "mosquito", "mother", "motion", "motor",
2025-11-07T19:40:51.3195832Z +    "mountain", "mouse", "move", "movie", "much", "muffin", "mule", "multiply", "muscle", "museum",
2025-11-07T19:40:51.3196248Z +    "mushroom", "music", "must", "mutual", "myself", "mystery", "myth", "naive", "name", "napkin",
2025-11-07T19:40:51.3196829Z +    "narrow", "nasty", "nation", "nature", "near", "neck", "need", "negative", "neglect",
2025-11-07T19:40:51.3197252Z +    "neither", "nephew", "nerve", "nest", "net", "network", "neutral", "never", "news", "next",
2025-11-07T19:40:51.3197666Z +    "nice", "night", "noble", "noise", "nominee", "noodle", "normal", "north", "nose", "notable",
2025-11-07T19:40:51.3198032Z +    "note", "nothing", "notice", "novel", "now", "nuclear", "number", "nurse", "nut", "oak",
2025-11-07T19:40:51.3198417Z +    "obey", "object", "oblige", "obscure", "observe", "obtain", "obvious", "occur", "ocean",
2025-11-07T19:40:51.3198824Z +    "october", "odor", "off", "offer", "office", "often", "oil", "okay", "old", "olive", "olympic",
2025-11-07T19:40:51.3199176Z +    "omit", "once", "one", "onion", "online", "only", "open", "opera", "opinion", "oppose",
2025-11-07T19:40:51.3199589Z +    "option", "orange", "orbit", "orchard", "order", "ordinary", "organ", "orient", "original",
2025-11-07T19:40:51.3200006Z +    "orphan", "ostrich", "other", "outdoor", "outer", "output", "outside", "oval", "oven", "over",
2025-11-07T19:40:51.3200388Z +    "own", "owner", "oxygen", "oyster", "ozone", "pact", "paddle", "page", "pair", "palace",
2025-11-07T19:40:51.3200816Z +    "palm", "panda", "panel", "panic", "panther", "paper", "parade", "parent", "park", "parrot",
2025-11-07T19:40:51.3201231Z +    "party", "pass", "patch", "path", "patient", "patrol", "pattern", "pause", "pave", "payment",
2025-11-07T19:40:51.3202552Z +    "peace", "peanut", "pear", "peasant", "pelican", "pen", "penalty", "pencil", "people",
2025-11-07T19:40:51.3202979Z +    "pepper", "perfect", "permit", "person", "pet", "phone", "photo", "phrase", "physical",
2025-11-07T19:40:51.3203389Z +    "piano", "picnic", "picture", "piece", "pig", "pigeon", "pill", "pilot", "pink", "pioneer",
2025-11-07T19:40:51.3203797Z +    "pipe", "pistol", "pitch", "pizza", "place", "planet", "plastic", "plate", "play", "please",
2025-11-07T19:40:51.3204187Z +    "pledge", "pluck", "plug", "plunge", "poem", "poet", "point", "polar", "pole", "police",
2025-11-07T19:40:51.3204729Z +    "pond", "pony", "pool", "popular", "portion", "position", "possible", "post", "potato",
2025-11-07T19:40:51.3205171Z +    "pottery", "poverty", "powder", "power", "practice", "praise", "predict", "prefer", "prepare",
2025-11-07T19:40:51.3205570Z +    "present", "pretty", "prevent", "price", "pride", "primary", "print", "priority", "prison",
2025-11-07T19:40:51.3205996Z +    "private", "prize", "problem", "process", "produce", "profit", "program", "project", "promote",
2025-11-07T19:40:51.3206661Z +    "proof", "property", "prosper", "protect", "proud", "provide", "public", "pudding", "pull",
2025-11-07T19:40:51.3207047Z +    "pulp", "pulse", "pumpkin", "punch", "pupil", "puppy", "purchase", "purity", "purpose",
2025-11-07T19:40:51.3207418Z +    "purse", "push", "put", "puzzle", "pyramid", "quality", "quantum", "quarter", "question",
2025-11-07T19:40:51.3207773Z +    "quick", "quit", "quiz", "quote", "rabbit", "raccoon", "race", "rack", "radar", "radio",
2025-11-07T19:40:51.3208161Z +    "rail", "rain", "raise", "rally", "ramp", "ranch", "random", "range", "rapid", "rare", "rate",
2025-11-07T19:40:51.3208546Z +    "rather", "raven", "raw", "razor", "ready", "real", "reason", "rebel", "rebuild", "recall",
2025-11-07T19:40:51.3208962Z +    "receive", "recipe", "record", "recycle", "reduce", "reflect", "reform", "refuse", "region",
2025-11-07T19:40:51.3209358Z +    "regret", "regular", "reject", "relax", "release", "relief", "rely", "remain", "remember",
2025-11-07T19:40:51.3209756Z +    "remind", "remove", "render", "renew", "rent", "reopen", "repair", "repeat", "replace",
2025-11-07T19:40:51.3210158Z +    "report", "require", "rescue", "resemble", "resist", "resource", "response", "result",
2025-11-07T19:40:51.3210532Z +    "retire", "retreat", "return", "reunion", "reveal", "review", "reward", "rhythm", "rib",
2025-11-07T19:40:51.3210847Z +    "ribbon", "rice", "rich", "ride", "ridge", "rifle", "right", "rigid", "ring", "riot", "ripple",
2025-11-07T19:40:51.3211307Z +    "risk", "ritual", "rival", "river", "road", "roast", "robot", "robust", "rocket", "romance",
2025-11-07T19:40:51.3211675Z +    "roof", "rookie", "room", "rose", "rotate", "rough", "round", "route", "royal", "rubber",
2025-11-07T19:40:51.3212055Z +    "rude", "rug", "rule", "run", "runway", "rural", "sad", "saddle", "sadness", "safe", "sail",
2025-11-07T19:40:51.3212460Z +    "salad", "salmon", "salon", "salt", "salute", "same", "sample", "sand", "satisfy", "satoshi",
2025-11-07T19:40:51.3212845Z +    "sauce", "sausage", "save", "say", "scale", "scan", "scare", "scatter", "scene", "scheme",
2025-11-07T19:40:51.3213283Z +    "school", "science", "scissors", "scorpion", "scout", "scrap", "screen", "script", "scrub",
2025-11-07T19:40:51.3213681Z +    "sea", "search", "season", "seat", "second", "secret", "section", "security", "seed", "seek",
2025-11-07T19:40:51.3214630Z +    "segment", "select", "sell", "seminar", "senior", "sense", "sentence", "series", "service",
2025-11-07T19:40:51.3215116Z +    "session", "settle", "setup", "seven", "shadow", "shaft", "shallow", "share", "shed", "shell",
2025-11-07T19:40:51.3215537Z +    "sheriff", "shield", "shift", "shine", "ship", "shiver", "shock", "shoe", "shoot", "shop",
2025-11-07T19:40:51.3217954Z +    "short", "shoulder", "shove", "shrimp", "shrug", "shuffle", "shy", "sibling", "sick", "side",
2025-11-07T19:40:51.3218370Z +    "siege", "sight", "sign", "silent", "silk", "silly", "silver", "similar", "simple", "since",
2025-11-07T19:40:51.3218801Z +    "sing", "siren", "sister", "situate", "six", "size", "skate", "sketch", "ski", "skill", "skin",
2025-11-07T19:40:51.3219574Z +    "skirt", "skull", "slab", "slam", "sleep", "slender", "slice", "slide", "slight", "slim",
2025-11-07T19:40:51.3219963Z +    "slogan", "slot", "slow", "slush", "small", "smart", "smile", "smoke", "smooth", "snack",
2025-11-07T19:40:51.3220368Z +    "snake", "snap", "sniff", "snow", "soap", "soccer", "social", "sock", "soda", "soft", "solar",
2025-11-07T19:40:51.3220792Z +    "soldier", "solid", "solution", "solve", "someone", "song", "soon", "sorry", "sort", "soul",
2025-11-07T19:40:51.3221188Z +    "sound", "soup", "source", "south", "space", "spare", "spatial", "spawn", "speak", "special",
2025-11-07T19:40:51.3221592Z +    "speed", "spell", "spend", "sphere", "spice", "spider", "spike", "spin", "spirit", "split",
2025-11-07T19:40:51.3221980Z +    "spoil", "sponsor", "spoon", "sport", "spot", "spray", "spread", "spring", "spy", "square",
2025-11-07T19:40:51.3222382Z +    "squeeze", "squirrel", "stable", "stadium", "staff", "stage", "stairs", "stamp", "stand",
2025-11-07T19:40:51.3222994Z +    "start", "state", "stay", "steak", "steel", "stem", "step", "stereo", "stick", "still",
2025-11-07T19:40:51.3223843Z +    "sting", "stock", "stomach", "stone", "stool", "story", "stove", "strategy", "street",
2025-11-07T19:40:51.3224275Z +    "strike", "strong", "struggle", "student", "stuff", "stumble", "style", "subject", "submit",
2025-11-07T19:40:51.3224854Z +    "subway", "success", "such", "sudden", "suffer", "sugar", "suggest", "suit", "summer", "sun",
2025-11-07T19:40:51.3225241Z +    "sunny", "sunset", "super", "supply", "supreme", "sure", "surface", "surge", "surprise",
2025-11-07T19:40:51.3225642Z +    "surround", "survey", "suspect", "sustain", "swallow", "swamp", "swap", "swarm", "swear",
2025-11-07T19:40:51.3227847Z +    "sweet", "swift", "swim", "swing", "switch", "sword", "symbol", "symptom", "syrup", "system",
2025-11-07T19:40:51.3228230Z +    "table", "tackle", "tag", "tail", "talent", "talk", "tank", "tape", "target", "task", "taste",
2025-11-07T19:40:51.3228619Z +    "tattoo", "taxi", "teach", "team", "tell", "ten", "tenant", "tennis", "tent", "term", "test",
2025-11-07T19:40:51.3228965Z +    "text", "thank", "that", "theme", "then", "theory", "there", "they", "thing", "this",
2025-11-07T19:40:51.3229369Z +    "thought", "three", "thrive", "throw", "thumb", "thunder", "ticket", "tide", "tiger", "tilt",
2025-11-07T19:40:51.3229943Z +    "timber", "time", "tiny", "tip", "tired", "tissue", "title", "toast", "tobacco", "today",
2025-11-07T19:40:51.3230340Z +    "toddler", "toe", "together", "toilet", "token", "tomato", "tomorrow", "tone", "tongue",
2025-11-07T19:40:51.3230742Z +    "tonight", "tool", "tooth", "top", "topic", "topple", "torch", "tornado", "tortoise", "toss",
2025-11-07T19:40:51.3231143Z +    "total", "tourist", "toward", "tower", "town", "toy", "track", "trade", "traffic", "tragic",
2025-11-07T19:40:51.3231525Z +    "train", "transfer", "trap", "trash", "travel", "tray", "treat", "tree", "trend", "trial",
2025-11-07T19:40:51.3231934Z +    "tribe", "trick", "trigger", "trim", "trip", "trophy", "trouble", "truck", "true", "truly",
2025-11-07T19:40:51.3232338Z +    "trumpet", "trust", "truth", "try", "tube", "tuition", "tumble", "tuna", "tunnel", "turkey",
2025-11-07T19:40:51.3232721Z +    "turn", "turtle", "twelve", "twenty", "twice", "twin", "twist", "two", "type", "typical",
2025-11-07T19:40:51.3233129Z +    "ugly", "umbrella", "unable", "unaware", "uncle", "uncover", "under", "undo", "unfair",
2025-11-07T19:40:51.3233537Z +    "unfold", "unhappy", "uniform", "unique", "unit", "universe", "unknown", "unlock", "until",
2025-11-07T19:40:51.3233964Z +    "unusual", "unveil", "update", "upgrade", "uphold", "upon", "upper", "upset", "urban", "urge",
2025-11-07T19:40:51.3234510Z +    "usage", "use", "used", "useful", "useless", "usual", "utility", "vacant", "vacuum", "vague",
2025-11-07T19:40:51.3234890Z +    "valid", "valley", "valve", "van", "vanish", "vapor", "various", "vast", "vault", "vehicle",
2025-11-07T19:40:51.3235267Z +    "velvet", "vendor", "venture", "venue", "verb", "verify", "version", "very", "vessel",
2025-11-07T19:40:51.3235679Z +    "veteran", "viable", "vibrant", "vicious", "victory", "video", "view", "village", "vintage",
2025-11-07T19:40:51.3236061Z +    "violin", "virtual", "virus", "visa", "visit", "visual", "vital", "vivid", "vocal", "voice",
2025-11-07T19:40:51.3236430Z +    "void", "volcano", "volume", "vote", "voyage", "wage", "wagon", "wait", "walk", "wall",
2025-11-07T19:40:51.3236821Z +    "walnut", "want", "warfare", "warm", "warrior", "wash", "wasp", "waste", "water", "wave",
2025-11-07T19:40:51.3237211Z +    "way", "wealth", "weapon", "wear", "weasel", "weather", "web", "wedding", "weekend", "weird",
2025-11-07T19:40:51.3237544Z +    "welcome", "west", "wet", "whale", "what", "wheat", "wheel", "when", "where", "whip",
2025-11-07T19:40:51.3237910Z +    "whisper", "wide", "width", "wife", "wild", "will", "win", "window", "wine", "wing", "wink",
2025-11-07T19:40:51.3238259Z +    "winner", "winter", "wire", "wisdom", "wise", "wish", "witness", "wolf", "woman", "wonder",
2025-11-07T19:40:51.3238845Z +    "wood", "wool", "word", "work", "world", "worry", "worth", "wrap", "wreck", "wrestle", "wrist",
2025-11-07T19:40:51.3239203Z +    "write", "wrong", "yard", "year", "yellow", "you", "young", "youth", "zebra", "zero", "zone",
2025-11-07T19:40:51.3239330Z +    "zoo",
2025-11-07T19:40:51.3239437Z  ];
2025-11-07T19:40:51.3240027Z  
2025-11-07T19:40:51.3240222Z  // Rest of implementation...
2025-11-07T19:40:51.3240719Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:329:
2025-11-07T19:40:51.3240917Z      let mut entropy = vec![0u8; entropy_bytes];
2025-11-07T19:40:51.3241079Z      use rand::RngCore;
2025-11-07T19:40:51.3241291Z      rand::thread_rng().fill_bytes(&mut entropy);
2025-11-07T19:40:51.3241406Z -    
2025-11-07T19:40:51.3241515Z +
2025-11-07T19:40:51.3241679Z      mnemonic_from_entropy(&entropy)
2025-11-07T19:40:51.3241782Z  }
2025-11-07T19:40:51.3241891Z  
2025-11-07T19:40:51.3242362Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:336:
2025-11-07T19:40:51.3242552Z  /// Convert entropy bytes to mnemonic phrase
2025-11-07T19:40:51.3242655Z -/// 
2025-11-07T19:40:51.3242756Z +///
2025-11-07T19:40:51.3242890Z  /// BIP39 algorithm:
2025-11-07T19:40:51.3243042Z  /// 1. Generate entropy (128-256 bits)
2025-11-07T19:40:51.3243575Z  /// 2. Compute SHA256(entropy) and take first (entropy_bits/32) bits as checksum
2025-11-07T19:40:51.3244082Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:345:
2025-11-07T19:40:51.3258413Z      // Validate entropy length
2025-11-07T19:40:51.3258649Z      let entropy_bits = entropy.len() * 8;
2025-11-07T19:40:51.3258952Z      if entropy_bits % 32 != 0 || entropy_bits < 128 || entropy_bits > 256 {
2025-11-07T19:40:51.3259181Z -        return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3259562Z -            format!("Entropy must be 128-256 bits and multiple of 32, got {} bits", entropy_bits)
2025-11-07T19:40:51.3259693Z -        ));
2025-11-07T19:40:51.3259936Z +        return Err(GovernanceError::InvalidInput(format!(
2025-11-07T19:40:51.3260213Z +            "Entropy must be 128-256 bits and multiple of 32, got {} bits",
2025-11-07T19:40:51.3260352Z +            entropy_bits
2025-11-07T19:40:51.3260468Z +        )));
2025-11-07T19:40:51.3260582Z      }
2025-11-07T19:40:51.3260692Z -    
2025-11-07T19:40:51.3260803Z +
2025-11-07T19:40:51.3261117Z      // Compute checksum: SHA256(entropy), take first (entropy_bits/32) bits
2025-11-07T19:40:51.3261288Z      let checksum_bits = entropy_bits / 32;
2025-11-07T19:40:51.3261455Z      let mut hasher = Sha256::new();
2025-11-07T19:40:51.3261929Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:356:
2025-11-07T19:40:51.3262078Z      hasher.update(entropy);
2025-11-07T19:40:51.3262252Z      let hash = hasher.finalize();
2025-11-07T19:40:51.3262452Z      let checksum = hash[0] >> (8 - checksum_bits);
2025-11-07T19:40:51.3262568Z -    
2025-11-07T19:40:51.3262685Z +
2025-11-07T19:40:51.3262834Z      // Combine entropy + checksum
2025-11-07T19:40:51.3263027Z      let total_bits = entropy_bits + checksum_bits;
2025-11-07T19:40:51.3263194Z      let total_bytes = (total_bits + 7) / 8;
2025-11-07T19:40:51.3264141Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:363:
2025-11-07T19:40:51.3264485Z      let mut combined = vec![0u8; total_bytes];
2025-11-07T19:40:51.3264718Z      combined[..entropy.len()].copy_from_slice(entropy);
2025-11-07T19:40:51.3264836Z -    
2025-11-07T19:40:51.3264941Z +
2025-11-07T19:40:51.3265120Z      // Append checksum bits to the last byte
2025-11-07T19:40:51.3265284Z      let last_byte_idx = entropy.len();
2025-11-07T19:40:51.3265453Z      if last_byte_idx < total_bytes {
2025-11-07T19:40:51.3265937Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:369:
2025-11-07T19:40:51.3266435Z          combined[last_byte_idx] = checksum << (8 - checksum_bits);
2025-11-07T19:40:51.3266554Z      }
2025-11-07T19:40:51.3266662Z -    
2025-11-07T19:40:51.3266767Z +
2025-11-07T19:40:51.3266952Z      // Split into 11-bit chunks and map to words
2025-11-07T19:40:51.3267124Z      let word_count = total_bits / 11;
2025-11-07T19:40:51.3267364Z      let mut mnemonic = Vec::with_capacity(word_count);
2025-11-07T19:40:51.3269859Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:375:
2025-11-07T19:40:51.3269979Z -    
2025-11-07T19:40:51.3270083Z +
2025-11-07T19:40:51.3270224Z      for i in 0..word_count {
2025-11-07T19:40:51.3270373Z          let bit_offset = i * 11;
2025-11-07T19:40:51.3270720Z          let byte_offset = bit_offset / 8;
2025-11-07T19:40:51.3271153Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:379:
2025-11-07T19:40:51.3271321Z          let bit_in_byte = bit_offset % 8;
2025-11-07T19:40:51.3271455Z -        
2025-11-07T19:40:51.3271564Z +
2025-11-07T19:40:51.3271709Z          // Extract 11-bit value
2025-11-07T19:40:51.3271851Z          let mut word_index = 0u16;
2025-11-07T19:40:51.3271992Z          for bit in 0..11 {
2025-11-07T19:40:51.3272480Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:384:
2025-11-07T19:40:51.3272655Z              let bit_pos = bit_offset + bit;
2025-11-07T19:40:51.3273008Z              let byte_idx = bit_pos / 8;
2025-11-07T19:40:51.3273188Z              let bit_idx = 7 - (bit_pos % 8);
2025-11-07T19:40:51.3273310Z -            
2025-11-07T19:40:51.3273428Z +
2025-11-07T19:40:51.3273581Z              if byte_idx < combined.len() {
2025-11-07T19:40:51.3273805Z                  let bit_value = (combined[byte_idx] >> bit_idx) & 1;
2025-11-07T19:40:51.3274017Z                  word_index = (word_index << 1) | bit_value as u16;
2025-11-07T19:40:51.3274663Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:391:
2025-11-07T19:40:51.3274794Z              }
2025-11-07T19:40:51.3274911Z          }
2025-11-07T19:40:51.3275031Z -        
2025-11-07T19:40:51.3275143Z +
2025-11-07T19:40:51.3275306Z          // Map to word (11 bits = 0-2047)
2025-11-07T19:40:51.3275501Z -        let word = get_word(word_index as usize)
2025-11-07T19:40:51.3275721Z -            .ok_or_else(|| GovernanceError::InvalidInput(
2025-11-07T19:40:51.3277356Z -                format!("Invalid word index: {}", word_index)
2025-11-07T19:40:51.3277475Z -            ))?;
2025-11-07T19:40:51.3277727Z +        let word = get_word(word_index as usize).ok_or_else(|| {
2025-11-07T19:40:51.3278113Z +            GovernanceError::InvalidInput(format!("Invalid word index: {}", word_index))
2025-11-07T19:40:51.3278233Z +        })?;
2025-11-07T19:40:51.3278417Z          mnemonic.push(word.to_string());
2025-11-07T19:40:51.3278529Z      }
2025-11-07T19:40:51.3278642Z -    
2025-11-07T19:40:51.3278751Z +
2025-11-07T19:40:51.3278882Z      Ok(mnemonic)
2025-11-07T19:40:51.3278999Z  }
2025-11-07T19:40:51.3279098Z  
2025-11-07T19:40:51.3279603Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:407:
2025-11-07T19:40:51.3279753Z      // Validate word count
2025-11-07T19:40:51.3279918Z      let word_count = mnemonic.len();
2025-11-07T19:40:51.3280164Z      if word_count < 12 || word_count > 24 || word_count % 3 != 0 {
2025-11-07T19:40:51.3280386Z -        return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3280711Z -            format!("Mnemonic must be 12, 15, 18, 21, or 24 words, got {}", word_count)
2025-11-07T19:40:51.3280831Z -        ));
2025-11-07T19:40:51.3281072Z +        return Err(GovernanceError::InvalidInput(format!(
2025-11-07T19:40:51.3281308Z +            "Mnemonic must be 12, 15, 18, 21, or 24 words, got {}",
2025-11-07T19:40:51.3281435Z +            word_count
2025-11-07T19:40:51.3281545Z +        )));
2025-11-07T19:40:51.3281660Z      }
2025-11-07T19:40:51.3281764Z -    
2025-11-07T19:40:51.3282075Z +
2025-11-07T19:40:51.3282254Z      // Calculate entropy/checksum bits
2025-11-07T19:40:51.3282410Z      let total_bits = word_count * 11;
2025-11-07T19:40:51.3282570Z      let checksum_bits = total_bits / 33;
2025-11-07T19:40:51.3283041Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:418:
2025-11-07T19:40:51.3283250Z      let entropy_bits = total_bits - checksum_bits;
2025-11-07T19:40:51.3283421Z      let entropy_bytes = entropy_bits / 8;
2025-11-07T19:40:51.3283529Z -    
2025-11-07T19:40:51.3283640Z +
2025-11-07T19:40:51.3283791Z      // Convert words to indices
2025-11-07T19:40:51.3284033Z      let mut word_indices = Vec::with_capacity(word_count);
2025-11-07T19:40:51.3284180Z      for word in mnemonic {
2025-11-07T19:40:51.3284804Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:424:
2025-11-07T19:40:51.3285001Z -        let index = find_word_index(word)
2025-11-07T19:40:51.3285246Z -            .ok_or_else(|| GovernanceError::InvalidInput(
2025-11-07T19:40:51.3285459Z -                format!("Invalid mnemonic word: {}", word)
2025-11-07T19:40:51.3285575Z -            ))?;
2025-11-07T19:40:51.3285781Z +        let index = find_word_index(word).ok_or_else(|| {
2025-11-07T19:40:51.3286161Z +            GovernanceError::InvalidInput(format!("Invalid mnemonic word: {}", word))
2025-11-07T19:40:51.3286291Z +        })?;
2025-11-07T19:40:51.3286459Z          word_indices.push(index);
2025-11-07T19:40:51.3286766Z      }
2025-11-07T19:40:51.3286897Z -    
2025-11-07T19:40:51.3287012Z +
2025-11-07T19:40:51.3287204Z      // Reconstruct combined entropy+checksum
2025-11-07T19:40:51.3287391Z      let total_bytes = (total_bits + 7) / 8;
2025-11-07T19:40:51.3287574Z      let mut combined = vec![0u8; total_bytes];
2025-11-07T19:40:51.3288021Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:434:
2025-11-07T19:40:51.3288103Z -    
2025-11-07T19:40:51.3288170Z +
2025-11-07T19:40:51.3288321Z      for (i, &word_idx) in word_indices.iter().enumerate() {
2025-11-07T19:40:51.3288416Z          let bit_offset = i * 11;
2025-11-07T19:40:51.3288884Z          let byte_offset = bit_offset / 8;
2025-11-07T19:40:51.3289162Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:438:
2025-11-07T19:40:51.3289262Z          let bit_in_byte = bit_offset % 8;
2025-11-07T19:40:51.3289342Z -        
2025-11-07T19:40:51.3289409Z +
2025-11-07T19:40:51.3289507Z          // Write 11-bit word index
2025-11-07T19:40:51.3289594Z          for bit in 0..11 {
2025-11-07T19:40:51.3289705Z              let bit_pos = bit_offset + bit;
2025-11-07T19:40:51.3289979Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:443:
2025-11-07T19:40:51.3290079Z              let byte_idx = bit_pos / 8;
2025-11-07T19:40:51.3290188Z              let bit_idx = 7 - (bit_pos % 8);
2025-11-07T19:40:51.3290261Z -            
2025-11-07T19:40:51.3290332Z +
2025-11-07T19:40:51.3290437Z              if byte_idx < combined.len() {
2025-11-07T19:40:51.3290586Z                  let bit_value = ((word_idx >> (10 - bit)) & 1) as u8;
2025-11-07T19:40:51.3290710Z                  combined[byte_idx] |= bit_value << bit_idx;
2025-11-07T19:40:51.3290976Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:449:
2025-11-07T19:40:51.3291053Z              }
2025-11-07T19:40:51.3291123Z          }
2025-11-07T19:40:51.3291196Z      }
2025-11-07T19:40:51.3291264Z -    
2025-11-07T19:40:51.3291337Z +
2025-11-07T19:40:51.3291442Z      // Extract entropy (first entropy_bits)
2025-11-07T19:40:51.3291559Z      let mut entropy = vec![0u8; entropy_bytes];
2025-11-07T19:40:51.3291754Z      entropy.copy_from_slice(&combined[..entropy_bytes]);
2025-11-07T19:40:51.3292249Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:456:
2025-11-07T19:40:51.3292378Z -    
2025-11-07T19:40:51.3292501Z +
2025-11-07T19:40:51.3292643Z      // Validate checksum
2025-11-07T19:40:51.3293000Z      let mut hasher = Sha256::new();
2025-11-07T19:40:51.3293162Z      hasher.update(&entropy);
2025-11-07T19:40:51.3293660Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:460:
2025-11-07T19:40:51.3293822Z      let hash = hasher.finalize();
2025-11-07T19:40:51.3294082Z      let expected_checksum = hash[0] >> (8 - checksum_bits);
2025-11-07T19:40:51.3294180Z -    
2025-11-07T19:40:51.3294259Z +
2025-11-07T19:40:51.3294703Z      let actual_checksum = if entropy_bytes < combined.len() {
2025-11-07T19:40:51.3294844Z          combined[entropy_bytes] >> (8 - checksum_bits)
2025-11-07T19:40:51.3294933Z      } else {
2025-11-07T19:40:51.3295230Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:466:
2025-11-07T19:40:51.3295305Z          0
2025-11-07T19:40:51.3295381Z      };
2025-11-07T19:40:51.3295449Z -    
2025-11-07T19:40:51.3295516Z +
2025-11-07T19:40:51.3295636Z      if actual_checksum != expected_checksum {
2025-11-07T19:40:51.3295786Z          return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3295928Z -            "Mnemonic checksum validation failed".to_string()
2025-11-07T19:40:51.3296070Z +            "Mnemonic checksum validation failed".to_string(),
2025-11-07T19:40:51.3296145Z          ));
2025-11-07T19:40:51.3296216Z      }
2025-11-07T19:40:51.3296284Z -    
2025-11-07T19:40:51.3296351Z +
2025-11-07T19:40:51.3296434Z      Ok(entropy)
2025-11-07T19:40:51.3296668Z  }
2025-11-07T19:40:51.3296742Z  
2025-11-07T19:40:51.3297023Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:478:
2025-11-07T19:40:51.3297174Z  /// Convert mnemonic phrase to seed (PBKDF2-SHA512)
2025-11-07T19:40:51.3297244Z -/// 
2025-11-07T19:40:51.3297311Z +///
2025-11-07T19:40:51.3297553Z  /// BIP39: seed = PBKDF2(mnemonic, "mnemonic" + passphrase, 2048 iterations, 64 bytes)
2025-11-07T19:40:51.3297768Z  pub fn mnemonic_to_seed(mnemonic: &[String], passphrase: &str) -> [u8; 64] {
2025-11-07T19:40:51.3297889Z      let mnemonic_str = mnemonic.join(" ");
2025-11-07T19:40:51.3298185Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:483:
2025-11-07T19:40:51.3298316Z      let salt = format!("mnemonic{}", passphrase);
2025-11-07T19:40:51.3298386Z -    
2025-11-07T19:40:51.3298452Z +
2025-11-07T19:40:51.3298601Z      // PBKDF2-SHA512 with 2048 iterations, 64-byte output
2025-11-07T19:40:51.3298696Z      let mut seed = [0u8; 64];
2025-11-07T19:40:51.3298937Z      pbkdf2_hmac::<Sha512>(mnemonic_str.as_bytes(), salt.as_bytes(), 2048, &mut seed);
2025-11-07T19:40:51.3299230Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip39.rs:488:
2025-11-07T19:40:51.3299299Z -    
2025-11-07T19:40:51.3299365Z +
2025-11-07T19:40:51.3299443Z      seed
2025-11-07T19:40:51.3299509Z  }
2025-11-07T19:40:51.3299574Z  
2025-11-07T19:40:51.3299848Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:7:
2025-11-07T19:40:51.3299924Z  //!
2025-11-07T19:40:51.3300074Z  //! Example: m/44'/0'/0'/0/0 (Bitcoin mainnet first address)
2025-11-07T19:40:51.3300142Z  
2025-11-07T19:40:51.3300496Z -use crate::governance::bip32::{ExtendedPrivateKey, ExtendedPublicKey, derive_master_key, derive_child_private};
2025-11-07T19:40:51.3300600Z +use crate::governance::bip32::{
2025-11-07T19:40:51.3300839Z +    derive_child_private, derive_master_key, ExtendedPrivateKey, ExtendedPublicKey,
2025-11-07T19:40:51.3300908Z +};
2025-11-07T19:40:51.3301104Z  use crate::governance::error::{GovernanceError, GovernanceResult};
2025-11-07T19:40:51.3301172Z  
2025-11-07T19:40:51.3301326Z  /// BIP44 purpose (always 44 for multi-account hierarchy)
2025-11-07T19:40:51.3301608Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:42:
2025-11-07T19:40:51.3301718Z              2 => Ok(CoinType::Litecoin),
2025-11-07T19:40:51.3301819Z              3 => Ok(CoinType::Dogecoin),
2025-11-07T19:40:51.3302513Z              60 => Ok(CoinType::Ethereum),
2025-11-07T19:40:51.3302649Z -            _ => Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3302778Z -                format!("Unsupported coin type: {}", value)
2025-11-07T19:40:51.3302854Z -            )),
2025-11-07T19:40:51.3302995Z +            _ => Err(GovernanceError::InvalidInput(format!(
2025-11-07T19:40:51.3303105Z +                "Unsupported coin type: {}",
2025-11-07T19:40:51.3303187Z +                value
2025-11-07T19:40:51.3303263Z +            ))),
2025-11-07T19:40:51.3303333Z          }
2025-11-07T19:40:51.3303403Z      }
2025-11-07T19:40:51.3303470Z  }
2025-11-07T19:40:51.3303757Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:81:
2025-11-07T19:40:51.3303825Z  
2025-11-07T19:40:51.3303905Z  impl Bip44Path {
2025-11-07T19:40:51.3304009Z      /// Create a new BIP44 path
2025-11-07T19:40:51.3304088Z -    pub fn new(
2025-11-07T19:40:51.3304180Z -        coin_type: CoinType,
2025-11-07T19:40:51.3304264Z -        account: u32,
2025-11-07T19:40:51.3304583Z -        change: ChangeChain,
2025-11-07T19:40:51.3304679Z -        address_index: u32,
2025-11-07T19:40:51.3304754Z -    ) -> Self {
2025-11-07T19:40:51.3305035Z +    pub fn new(coin_type: CoinType, account: u32, change: ChangeChain, address_index: u32) -> Self {
2025-11-07T19:40:51.3305121Z          Bip44Path {
2025-11-07T19:40:51.3305219Z              purpose: BIP44_PURPOSE,
2025-11-07T19:40:51.3305449Z              coin_type,
2025-11-07T19:40:51.3305744Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:110:
2025-11-07T19:40:51.3305915Z      pub fn from_string(path_str: &str) -> GovernanceResult<Self> {
2025-11-07T19:40:51.3306020Z          // Remove "m/" prefix if present
2025-11-07T19:40:51.3306200Z          let path_str = path_str.strip_prefix("m/").unwrap_or(path_str);
2025-11-07T19:40:51.3306273Z -        
2025-11-07T19:40:51.3306341Z +
2025-11-07T19:40:51.3306486Z          let parts: Vec<&str> = path_str.split('/').collect();
2025-11-07T19:40:51.3306586Z          if parts.len() != 5 {
2025-11-07T19:40:51.3306723Z              return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3306998Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:120:
2025-11-07T19:40:51.3307072Z  
2025-11-07T19:40:51.3307178Z          // Parse purpose (should be 44')
2025-11-07T19:40:51.3307318Z          let purpose_str = parts[0].trim_end_matches('\'');
2025-11-07T19:40:51.3307442Z -        let purpose: u32 = purpose_str.parse()
2025-11-07T19:40:51.3307543Z +        let purpose: u32 = purpose_str
2025-11-07T19:40:51.3307621Z +            .parse()
2025-11-07T19:40:51.3307850Z              .map_err(|_| GovernanceError::InvalidInput("Invalid purpose".to_string()))?;
2025-11-07T19:40:51.3307928Z -        
2025-11-07T19:40:51.3307994Z +
2025-11-07T19:40:51.3308094Z          if purpose != BIP44_PURPOSE {
2025-11-07T19:40:51.3308236Z -            return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3308397Z -                format!("Purpose must be {} for BIP44", BIP44_PURPOSE)
2025-11-07T19:40:51.3308472Z -            ));
2025-11-07T19:40:51.3308626Z +            return Err(GovernanceError::InvalidInput(format!(
2025-11-07T19:40:51.3308735Z +                "Purpose must be {} for BIP44",
2025-11-07T19:40:51.3308820Z +                BIP44_PURPOSE
2025-11-07T19:40:51.3308891Z +            )));
2025-11-07T19:40:51.3308966Z          }
2025-11-07T19:40:51.3309035Z  
2025-11-07T19:40:51.3309144Z          // Parse coin_type (should be hardened)
2025-11-07T19:40:51.3309440Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:133:
2025-11-07T19:40:51.3309582Z          let coin_type_str = parts[1].trim_end_matches('\'');
2025-11-07T19:40:51.3309708Z -        let coin_type_val: u32 = coin_type_str.parse()
2025-11-07T19:40:51.3309814Z +        let coin_type_val: u32 = coin_type_str
2025-11-07T19:40:51.3309899Z +            .parse()
2025-11-07T19:40:51.3310268Z              .map_err(|_| GovernanceError::InvalidInput("Invalid coin type".to_string()))?;
2025-11-07T19:40:51.3310412Z          let coin_type = CoinType::from_value(coin_type_val)?;
2025-11-07T19:40:51.3310485Z  
2025-11-07T19:40:51.3310768Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:138:
2025-11-07T19:40:51.3310896Z          // Parse account (should be hardened)
2025-11-07T19:40:51.3311141Z          let account_str = parts[2].trim_end_matches('\'');
2025-11-07T19:40:51.3311290Z -        let account: u32 = account_str.parse()
2025-11-07T19:40:51.3311393Z +        let account: u32 = account_str
2025-11-07T19:40:51.3311471Z +            .parse()
2025-11-07T19:40:51.3311698Z              .map_err(|_| GovernanceError::InvalidInput("Invalid account".to_string()))?;
2025-11-07T19:40:51.3311765Z  
2025-11-07T19:40:51.3311862Z          // Parse change (not hardened)
2025-11-07T19:40:51.3312139Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:144:
2025-11-07T19:40:51.3312251Z -        let change_val: u32 = parts[3].parse()
2025-11-07T19:40:51.3312346Z +        let change_val: u32 = parts[3]
2025-11-07T19:40:51.3312431Z +            .parse()
2025-11-07T19:40:51.3312642Z              .map_err(|_| GovernanceError::InvalidInput("Invalid change".to_string()))?;
2025-11-07T19:40:51.3312742Z          let change = match change_val {
2025-11-07T19:40:51.3312981Z              0 => ChangeChain::External,
2025-11-07T19:40:51.3313262Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:148:
2025-11-07T19:40:51.3313365Z              1 => ChangeChain::Internal,
2025-11-07T19:40:51.3313506Z -            _ => return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3313676Z -                "Change must be 0 (external) or 1 (internal)".to_string()
2025-11-07T19:40:51.3313749Z -            )),
2025-11-07T19:40:51.3313823Z +            _ => {
2025-11-07T19:40:51.3313965Z +                return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3314132Z +                    "Change must be 0 (external) or 1 (internal)".to_string(),
2025-11-07T19:40:51.3314203Z +                ))
2025-11-07T19:40:51.3314436Z +            }
2025-11-07T19:40:51.3314554Z          };
2025-11-07T19:40:51.3314625Z  
2025-11-07T19:40:51.3314740Z          // Parse address_index (not hardened)
2025-11-07T19:40:51.3315046Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:155:
2025-11-07T19:40:51.3315166Z -        let address_index: u32 = parts[4].parse()
2025-11-07T19:40:51.3315270Z +        let address_index: u32 = parts[4]
2025-11-07T19:40:51.3315348Z +            .parse()
2025-11-07T19:40:51.3315592Z              .map_err(|_| GovernanceError::InvalidInput("Invalid address index".to_string()))?;
2025-11-07T19:40:51.3315660Z  
2025-11-07T19:40:51.3315748Z          Ok(Bip44Path {
2025-11-07T19:40:51.3316027Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:183:
2025-11-07T19:40:51.3316217Z      ) -> GovernanceResult<(ExtendedPrivateKey, ExtendedPublicKey)> {
2025-11-07T19:40:51.3316439Z          // Build derivation path indices (all hardened for purpose, coin_type, account)
2025-11-07T19:40:51.3316531Z          let indices = vec![
2025-11-07T19:40:51.3316681Z -            0x80000000 | self.purpose,      // purpose' (hardened)
2025-11-07T19:40:51.3316850Z +            0x80000000 | self.purpose,           // purpose' (hardened)
2025-11-07T19:40:51.3317014Z              0x80000000 | self.coin_type.value(), // coin_type' (hardened)
2025-11-07T19:40:51.3317161Z -            0x80000000 | self.account,     // account' (hardened)
2025-11-07T19:40:51.3317310Z -            self.change.value(),            // change (not hardened)
2025-11-07T19:40:51.3317674Z -            self.address_index,             // address_index (not hardened)
2025-11-07T19:40:51.3317835Z +            0x80000000 | self.account,           // account' (hardened)
2025-11-07T19:40:51.3318158Z +            self.change.value(),                 // change (not hardened)
2025-11-07T19:40:51.3318332Z +            self.address_index,                  // address_index (not hardened)
2025-11-07T19:40:51.3318409Z          ];
2025-11-07T19:40:51.3318477Z  
2025-11-07T19:40:51.3318572Z          // Derive through path
2025-11-07T19:40:51.3318851Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:206:
2025-11-07T19:40:51.3319031Z      /// Get derivation path as vector of indices (for use with BIP32)
2025-11-07T19:40:51.3319139Z      pub fn to_indices(&self) -> Vec<u32> {
2025-11-07T19:40:51.3319211Z          vec![
2025-11-07T19:40:51.3319362Z -            0x80000000 | self.purpose,      // purpose' (hardened)
2025-11-07T19:40:51.3319516Z +            0x80000000 | self.purpose,           // purpose' (hardened)
2025-11-07T19:40:51.3319673Z              0x80000000 | self.coin_type.value(), // coin_type' (hardened)
2025-11-07T19:40:51.3319816Z -            0x80000000 | self.account,     // account' (hardened)
2025-11-07T19:40:51.3319967Z -            self.change.value(),            // change (not hardened)
2025-11-07T19:40:51.3320131Z -            self.address_index,             // address_index (not hardened)
2025-11-07T19:40:51.3320287Z +            0x80000000 | self.account,           // account' (hardened)
2025-11-07T19:40:51.3320446Z +            self.change.value(),                 // change (not hardened)
2025-11-07T19:40:51.3320742Z +            self.address_index,                  // address_index (not hardened)
2025-11-07T19:40:51.3320823Z          ]
2025-11-07T19:40:51.3320898Z      }
2025-11-07T19:40:51.3320966Z  }
2025-11-07T19:40:51.3321244Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:297:
2025-11-07T19:40:51.3321345Z      fn test_bip44_path_string() {
2025-11-07T19:40:51.3321675Z          let path = Bip44Path::bitcoin_mainnet(0, ChangeChain::External, 0);
2025-11-07T19:40:51.3321810Z          assert_eq!(path.to_string(), "m/44/0'/0'/0/0");
2025-11-07T19:40:51.3321889Z -        
2025-11-07T19:40:51.3321962Z +
2025-11-07T19:40:51.3322141Z          let parsed = Bip44Path::from_string("m/44'/0'/0'/0/0").unwrap();
2025-11-07T19:40:51.3322246Z          assert_eq!(parsed.purpose, 44);
2025-11-07T19:40:51.3322393Z          assert_eq!(parsed.coin_type, CoinType::Bitcoin);
2025-11-07T19:40:51.3322675Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:310:
2025-11-07T19:40:51.3322777Z      fn test_bip44_path_derivation() {
2025-11-07T19:40:51.3322908Z          let seed = b"test seed for BIP44 derivation";
2025-11-07T19:40:51.3323055Z          let (master_priv, _) = derive_master_key(seed).unwrap();
2025-11-07T19:40:51.3323126Z -        
2025-11-07T19:40:51.3323194Z +
2025-11-07T19:40:51.3323384Z          let path = Bip44Path::bitcoin_mainnet(0, ChangeChain::External, 0);
2025-11-07T19:40:51.3323573Z          let (derived_priv, derived_pub) = path.derive(&master_priv).unwrap();
2025-11-07T19:40:51.3323649Z -        
2025-11-07T19:40:51.3323723Z +
2025-11-07T19:40:51.3323956Z          assert_eq!(derived_priv.depth, 5); // 5 levels: purpose, coin, account, change, address
2025-11-07T19:40:51.3324061Z          assert_eq!(derived_pub.depth, 5);
2025-11-07T19:40:51.3324141Z      }
2025-11-07T19:40:51.3324623Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:322:
2025-11-07T19:40:51.3324729Z      fn test_bip44_wallet() {
2025-11-07T19:40:51.3324842Z          let seed = b"test seed for BIP44 wallet";
2025-11-07T19:40:51.3325052Z          let wallet = Bip44Wallet::from_seed(seed, CoinType::Bitcoin).unwrap();
2025-11-07T19:40:51.3325122Z -        
2025-11-07T19:40:51.3325189Z +
2025-11-07T19:40:51.3325410Z          let (receiving_priv, receiving_pub) = wallet.receiving_address(0, 0).unwrap();
2025-11-07T19:40:51.3325589Z          let (change_priv, change_pub) = wallet.change_address(0, 0).unwrap();
2025-11-07T19:40:51.3325658Z -        
2025-11-07T19:40:51.3325896Z +
2025-11-07T19:40:51.3326044Z          // Receiving and change addresses should be different
2025-11-07T19:40:51.3326281Z -        assert_ne!(receiving_priv.private_key_bytes(), change_priv.private_key_bytes());
2025-11-07T19:40:51.3326491Z -        assert_ne!(receiving_pub.public_key_bytes(), change_pub.public_key_bytes());
2025-11-07T19:40:51.3326569Z +        assert_ne!(
2025-11-07T19:40:51.3326685Z +            receiving_priv.private_key_bytes(),
2025-11-07T19:40:51.3326800Z +            change_priv.private_key_bytes()
2025-11-07T19:40:51.3326870Z +        );
2025-11-07T19:40:51.3326948Z +        assert_ne!(
2025-11-07T19:40:51.3327061Z +            receiving_pub.public_key_bytes(),
2025-11-07T19:40:51.3327161Z +            change_pub.public_key_bytes()
2025-11-07T19:40:51.3327232Z +        );
2025-11-07T19:40:51.3327301Z      }
2025-11-07T19:40:51.3327374Z  
2025-11-07T19:40:51.3327447Z      #[test]
2025-11-07T19:40:51.3327730Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:335:
2025-11-07T19:40:51.3327833Z      fn test_coin_types() {
2025-11-07T19:40:51.3327958Z          assert_eq!(CoinType::Bitcoin.value(), 0);
2025-11-07T19:40:51.3328100Z          assert_eq!(CoinType::BitcoinTestnet.value(), 1);
2025-11-07T19:40:51.3328176Z -        
2025-11-07T19:40:51.3328244Z +
2025-11-07T19:40:51.3328368Z          let coin = CoinType::from_value(0).unwrap();
2025-11-07T19:40:51.3328603Z          assert_eq!(coin, CoinType::Bitcoin);
2025-11-07T19:40:51.3328683Z      }
2025-11-07T19:40:51.3328960Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/bip44.rs:342:
2025-11-07T19:40:51.3329027Z  }
2025-11-07T19:40:51.3329099Z -
2025-11-07T19:40:51.3329167Z  
2025-11-07T19:40:51.3329444Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/error.rs:54:
2025-11-07T19:40:51.3329546Z      #[error("Not implemented: {0}")]
2025-11-07T19:40:51.3329644Z      NotImplemented(String),
2025-11-07T19:40:51.3329718Z  }
2025-11-07T19:40:51.3329786Z -
2025-11-07T19:40:51.3329856Z -
2025-11-07T19:40:51.3329926Z -
2025-11-07T19:40:51.3329990Z -
2025-11-07T19:40:51.3330056Z  
2025-11-07T19:40:51.3330326Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/mod.rs:8:
2025-11-07T19:40:51.3330424Z  //! - Multisig threshold logic
2025-11-07T19:40:51.3330543Z  //! - Message formats for governance decisions
2025-11-07T19:40:51.3330617Z  
2025-11-07T19:40:51.3330702Z +pub mod bip32;
2025-11-07T19:40:51.3330776Z +pub mod bip39;
2025-11-07T19:40:51.3330851Z +pub mod bip44;
2025-11-07T19:40:51.3330935Z  pub mod error;
2025-11-07T19:40:51.3331009Z  pub mod keys;
2025-11-07T19:40:51.3331088Z  pub mod messages;
2025-11-07T19:40:51.3331358Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/mod.rs:14:
2025-11-07T19:40:51.3331440Z  pub mod multisig;
2025-11-07T19:40:51.3331521Z +pub mod psbt;
2025-11-07T19:40:51.3331604Z  pub mod signatures;
2025-11-07T19:40:51.3331696Z  pub mod verification;
2025-11-07T19:40:51.3331781Z -pub mod bip32;
2025-11-07T19:40:51.3331860Z -pub mod bip39;
2025-11-07T19:40:51.3331944Z -pub mod bip44;
2025-11-07T19:40:51.3332019Z -pub mod psbt;
2025-11-07T19:40:51.3332084Z  
2025-11-07T19:40:51.3332172Z  // Re-export main types
2025-11-07T19:40:51.3332328Z  pub use error::{GovernanceError, GovernanceResult};
2025-11-07T19:40:51.3332595Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/mod.rs:26:
2025-11-07T19:40:51.3332698Z  pub use multisig::Multisig;
2025-11-07T19:40:51.3332804Z  pub use signatures::Signature;
2025-11-07T19:40:51.3332915Z  pub use verification::verify_signature;
2025-11-07T19:40:51.3332982Z -
2025-11-07T19:40:51.3333047Z -
2025-11-07T19:40:51.3333119Z -
2025-11-07T19:40:51.3333185Z -
2025-11-07T19:40:51.3333250Z  
2025-11-07T19:40:51.3333541Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:17:
2025-11-07T19:40:51.3333613Z  
2025-11-07T19:40:51.3333689Z  impl Multisig {
2025-11-07T19:40:51.3333904Z      /// Create a new multisig configuration
2025-11-07T19:40:51.3334192Z -    pub fn new(threshold: usize, total: usize, public_keys: Vec<PublicKey>) -> GovernanceResult<Self> {
2025-11-07T19:40:51.3334269Z +    pub fn new(
2025-11-07T19:40:51.3334616Z +        threshold: usize,
2025-11-07T19:40:51.3334761Z +        total: usize,
2025-11-07T19:40:51.3334946Z +        public_keys: Vec<PublicKey>,
2025-11-07T19:40:51.3335107Z +    ) -> GovernanceResult<Self> {
2025-11-07T19:40:51.3335200Z          if threshold == 0 {
2025-11-07T19:40:51.3335429Z              return Err(GovernanceError::InvalidThreshold { threshold, total });
2025-11-07T19:40:51.3335502Z          }
2025-11-07T19:40:51.3335809Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:24:
2025-11-07T19:40:51.3335889Z -        
2025-11-07T19:40:51.3335958Z +
2025-11-07T19:40:51.3336050Z          if threshold > total {
2025-11-07T19:40:51.3336260Z              return Err(GovernanceError::InvalidThreshold { threshold, total });
2025-11-07T19:40:51.3336340Z          }
2025-11-07T19:40:51.3336624Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:28:
2025-11-07T19:40:51.3336696Z -        
2025-11-07T19:40:51.3336769Z +
2025-11-07T19:40:51.3336872Z          if public_keys.len() != total {
2025-11-07T19:40:51.3337018Z -            return Err(GovernanceError::InvalidMultisig(
2025-11-07T19:40:51.3337375Z -                format!("Expected {} public keys, got {}", total, public_keys.len())
2025-11-07T19:40:51.3337459Z -            ));
2025-11-07T19:40:51.3337621Z +            return Err(GovernanceError::InvalidMultisig(format!(
2025-11-07T19:40:51.3337735Z +                "Expected {} public keys, got {}",
2025-11-07T19:40:51.3337823Z +                total,
2025-11-07T19:40:51.3337917Z +                public_keys.len()
2025-11-07T19:40:51.3337990Z +            )));
2025-11-07T19:40:51.3338064Z          }
2025-11-07T19:40:51.3338135Z -        
2025-11-07T19:40:51.3338207Z +
2025-11-07T19:40:51.3338319Z          // Check for duplicate public keys
2025-11-07T19:40:51.3338490Z          let unique_keys: HashSet<_> = public_keys.iter().collect();
2025-11-07T19:40:51.3338613Z          if unique_keys.len() != public_keys.len() {
2025-11-07T19:40:51.3338902Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:38:
2025-11-07T19:40:51.3339059Z              return Err(GovernanceError::InvalidMultisig(
2025-11-07T19:40:51.3339299Z -                "Duplicate public keys not allowed".to_string()
2025-11-07T19:40:51.3339511Z +                "Duplicate public keys not allowed".to_string(),
2025-11-07T19:40:51.3339593Z              ));
2025-11-07T19:40:51.3339665Z          }
2025-11-07T19:40:51.3339736Z -        
2025-11-07T19:40:51.3339802Z +
2025-11-07T19:40:51.3339881Z          Ok(Self {
2025-11-07T19:40:51.3339961Z              threshold,
2025-11-07T19:40:51.3340035Z              total,
2025-11-07T19:40:51.3340331Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:55:
2025-11-07T19:40:51.3340431Z                  need: self.threshold,
2025-11-07T19:40:51.3340504Z              });
2025-11-07T19:40:51.3340577Z          }
2025-11-07T19:40:51.3340654Z -        
2025-11-07T19:40:51.3341033Z +
2025-11-07T19:40:51.3341256Z          let valid_signatures = self.collect_valid_signatures(message, signatures)?;
2025-11-07T19:40:51.3341391Z          Ok(valid_signatures.len() >= self.threshold)
2025-11-07T19:40:51.3341461Z      }
2025-11-07T19:40:51.3341742Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:67:
2025-11-07T19:40:51.3341837Z          signatures: &[Signature],
2025-11-07T19:40:51.3341947Z      ) -> GovernanceResult<Vec<usize>> {
2025-11-07T19:40:51.3342064Z          let mut valid_indices = Vec::new();
2025-11-07T19:40:51.3342132Z -        
2025-11-07T19:40:51.3342203Z +
2025-11-07T19:40:51.3342393Z          for signature in signatures.iter() {
2025-11-07T19:40:51.3342841Z              // Try to verify against each public key
2025-11-07T19:40:51.3343032Z              for (j, public_key) in self.public_keys.iter().enumerate() {
2025-11-07T19:40:51.3343356Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:77:
2025-11-07T19:40:51.3345553Z                  }
2025-11-07T19:40:51.3345690Z              }
2025-11-07T19:40:51.3345816Z          }
2025-11-07T19:40:51.3345945Z -        
2025-11-07T19:40:51.3346066Z +
2025-11-07T19:40:51.3346169Z          Ok(valid_indices)
2025-11-07T19:40:51.3346245Z      }
2025-11-07T19:40:51.3346313Z  
2025-11-07T19:40:51.3346625Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:118:
2025-11-07T19:40:51.3346697Z  
2025-11-07T19:40:51.3346769Z      #[test]
2025-11-07T19:40:51.3346868Z      fn test_multisig_creation() {
2025-11-07T19:40:51.3347123Z -        let keypairs: Vec<_> = (0..5).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3347239Z +        let keypairs: Vec<_> = (0..5)
2025-11-07T19:40:51.3347390Z +            .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3347475Z +            .collect();
2025-11-07T19:40:51.3347705Z          let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3347777Z -        
2025-11-07T19:40:51.3347847Z +
2025-11-07T19:40:51.3348204Z          let multisig = Multisig::new(3, 5, public_keys).unwrap();
2025-11-07T19:40:51.3348346Z          assert_eq!(multisig.threshold(), 3);
2025-11-07T19:40:51.3348453Z          assert_eq!(multisig.total(), 5);
2025-11-07T19:40:51.3348766Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:128:
2025-11-07T19:40:51.3348840Z  
2025-11-07T19:40:51.3348930Z      #[test]
2025-11-07T19:40:51.3349027Z      fn test_invalid_threshold() {
2025-11-07T19:40:51.3349260Z -        let keypairs: Vec<_> = (0..5).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3349686Z +        let keypairs: Vec<_> = (0..5)
2025-11-07T19:40:51.3349841Z +            .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3349923Z +            .collect();
2025-11-07T19:40:51.3350131Z          let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3350208Z -        
2025-11-07T19:40:51.3350277Z +
2025-11-07T19:40:51.3350375Z          // Threshold too high
2025-11-07T19:40:51.3350533Z          let result = Multisig::new(6, 5, public_keys.clone());
2025-11-07T19:40:51.3350626Z          assert!(result.is_err());
2025-11-07T19:40:51.3350916Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:137:
2025-11-07T19:40:51.3350990Z -        
2025-11-07T19:40:51.3351064Z +
2025-11-07T19:40:51.3351150Z          // Threshold zero
2025-11-07T19:40:51.3351281Z          let result = Multisig::new(0, 5, public_keys);
2025-11-07T19:40:51.3351377Z          assert!(result.is_err());
2025-11-07T19:40:51.3351658Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:142:
2025-11-07T19:40:51.3351727Z  
2025-11-07T19:40:51.3351798Z      #[test]
2025-11-07T19:40:51.3351906Z      fn test_multisig_verification() {
2025-11-07T19:40:51.3352130Z -        let keypairs: Vec<_> = (0..5).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3352227Z +        let keypairs: Vec<_> = (0..5)
2025-11-07T19:40:51.3352368Z +            .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3352449Z +            .collect();
2025-11-07T19:40:51.3352647Z          let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3352723Z -        
2025-11-07T19:40:51.3352789Z +
2025-11-07T19:40:51.3352950Z          let multisig = Multisig::new(3, 5, public_keys).unwrap();
2025-11-07T19:40:51.3353049Z          let message = b"test message";
2025-11-07T19:40:51.3353125Z -        
2025-11-07T19:40:51.3353338Z +
2025-11-07T19:40:51.3353451Z          // Sign with 3 keys (meets threshold)
2025-11-07T19:40:51.3353571Z          let signatures: Vec<_> = keypairs[0..3]
2025-11-07T19:40:51.3353647Z              .iter()
2025-11-07T19:40:51.3353946Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:154:
2025-11-07T19:40:51.3354128Z              .map(|kp| crate::sign_message(&kp.secret_key, message).unwrap())
2025-11-07T19:40:51.3354224Z              .collect();
2025-11-07T19:40:51.3354573Z -        
2025-11-07T19:40:51.3354690Z +
2025-11-07T19:40:51.3354950Z          let result = multisig.verify(message, &signatures).unwrap();
2025-11-07T19:40:51.3355041Z          assert!(result);
2025-11-07T19:40:51.3355109Z      }
2025-11-07T19:40:51.3357209Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:160:
2025-11-07T19:40:51.3357284Z  
2025-11-07T19:40:51.3357358Z      #[test]
2025-11-07T19:40:51.3357464Z      fn test_insufficient_signatures() {
2025-11-07T19:40:51.3357723Z -        let keypairs: Vec<_> = (0..5).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3357821Z +        let keypairs: Vec<_> = (0..5)
2025-11-07T19:40:51.3357965Z +            .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3358053Z +            .collect();
2025-11-07T19:40:51.3358410Z          let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3358487Z -        
2025-11-07T19:40:51.3358554Z +
2025-11-07T19:40:51.3358719Z          let multisig = Multisig::new(3, 5, public_keys).unwrap();
2025-11-07T19:40:51.3358820Z          let message = b"test message";
2025-11-07T19:40:51.3359179Z -        
2025-11-07T19:40:51.3359259Z +
2025-11-07T19:40:51.3359376Z          // Sign with only 2 keys (below threshold)
2025-11-07T19:40:51.3359486Z          let signatures: Vec<_> = keypairs[0..2]
2025-11-07T19:40:51.3359563Z              .iter()
2025-11-07T19:40:51.3359874Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:172:
2025-11-07T19:40:51.3360055Z              .map(|kp| crate::sign_message(&kp.secret_key, message).unwrap())
2025-11-07T19:40:51.3360141Z              .collect();
2025-11-07T19:40:51.3360220Z -        
2025-11-07T19:40:51.3360287Z +
2025-11-07T19:40:51.3360429Z          let result = multisig.verify(message, &signatures);
2025-11-07T19:40:51.3360533Z          assert!(result.is_err());
2025-11-07T19:40:51.3360603Z      }
2025-11-07T19:40:51.3360889Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/multisig.rs:180:
2025-11-07T19:40:51.3360992Z      fn test_duplicate_public_keys() {
2025-11-07T19:40:51.3361148Z          let keypair = GovernanceKeypair::generate().unwrap();
2025-11-07T19:40:51.3361265Z          let public_key = keypair.public_key();
2025-11-07T19:40:51.3361337Z -        
2025-11-07T19:40:51.3361408Z +
2025-11-07T19:40:51.3361517Z          // Create multisig with duplicate keys
2025-11-07T19:40:51.3361667Z          let public_keys = vec![public_key.clone(), public_key];
2025-11-07T19:40:51.3361737Z -        
2025-11-07T19:40:51.3361808Z +
2025-11-07T19:40:51.3361935Z          let result = Multisig::new(2, 2, public_keys);
2025-11-07T19:40:51.3362030Z          assert!(result.is_err());
2025-11-07T19:40:51.3362116Z      }
2025-11-07T19:40:51.3362400Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:152:
2025-11-07T19:40:51.3362470Z      }
2025-11-07T19:40:51.3362535Z  
2025-11-07T19:40:51.3362623Z      /// Add input data
2025-11-07T19:40:51.3362920Z -    pub fn add_input_data(&mut self, input_index: usize, key: Vec<u8>, value: Vec<u8>) -> GovernanceResult<()> {
2025-11-07T19:40:51.3363014Z +    pub fn add_input_data(
2025-11-07T19:40:51.3363095Z +        &mut self,
2025-11-07T19:40:51.3363184Z +        input_index: usize,
2025-11-07T19:40:51.3363262Z +        key: Vec<u8>,
2025-11-07T19:40:51.3363341Z +        value: Vec<u8>,
2025-11-07T19:40:51.3363765Z +    ) -> GovernanceResult<()> {
2025-11-07T19:40:51.3363882Z          if input_index >= self.inputs.len() {
2025-11-07T19:40:51.3363986Z              // Extend inputs vector if needed
2025-11-07T19:40:51.3364108Z              while self.inputs.len() <= input_index {
2025-11-07T19:40:51.3364707Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:164:
2025-11-07T19:40:51.3364839Z      }
2025-11-07T19:40:51.3364965Z  
2025-11-07T19:40:51.3365076Z      /// Add output data
2025-11-07T19:40:51.3365385Z -    pub fn add_output_data(&mut self, output_index: usize, key: Vec<u8>, value: Vec<u8>) -> GovernanceResult<()> {
2025-11-07T19:40:51.3365481Z +    pub fn add_output_data(
2025-11-07T19:40:51.3365563Z +        &mut self,
2025-11-07T19:40:51.3365654Z +        output_index: usize,
2025-11-07T19:40:51.3365733Z +        key: Vec<u8>,
2025-11-07T19:40:51.3365820Z +        value: Vec<u8>,
2025-11-07T19:40:51.3365917Z +    ) -> GovernanceResult<()> {
2025-11-07T19:40:51.3366037Z          if output_index >= self.outputs.len() {
2025-11-07T19:40:51.3366147Z              // Extend outputs vector if needed
2025-11-07T19:40:51.3366278Z              while self.outputs.len() <= output_index {
2025-11-07T19:40:51.3366559Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:215:
2025-11-07T19:40:51.3366632Z      }
2025-11-07T19:40:51.3366706Z  
2025-11-07T19:40:51.3366952Z      /// Set sighash type for an input
2025-11-07T19:40:51.3367263Z -    pub fn set_sighash_type(&mut self, input_index: usize, sighash_type: SighashType) -> GovernanceResult<()> {
2025-11-07T19:40:51.3367361Z +    pub fn set_sighash_type(
2025-11-07T19:40:51.3367443Z +        &mut self,
2025-11-07T19:40:51.3367532Z +        input_index: usize,
2025-11-07T19:40:51.3367630Z +        sighash_type: SighashType,
2025-11-07T19:40:51.3367736Z +    ) -> GovernanceResult<()> {
2025-11-07T19:40:51.3367888Z          let key = vec![PsbtInputKey::SighashType as u8];
2025-11-07T19:40:51.3368009Z          let value = vec![sighash_type.to_byte()];
2025-11-07T19:40:51.3368142Z          self.add_input_data(input_index, key, value)
2025-11-07T19:40:51.3368420Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:225:
2025-11-07T19:40:51.3368527Z      pub fn is_finalized(&self) -> bool {
2025-11-07T19:40:51.3368629Z          for input_map in &self.inputs {
2025-11-07T19:40:51.3368897Z              let has_final_sig = input_map.contains_key(&vec![PsbtInputKey::FinalScriptSig as u8]);
2025-11-07T19:40:51.3369179Z -            let has_final_witness = input_map.contains_key(&vec![PsbtInputKey::FinalScriptWitness as u8]);
2025-11-07T19:40:51.3369253Z -            
2025-11-07T19:40:51.3369352Z +            let has_final_witness =
2025-11-07T19:40:51.3369565Z +                input_map.contains_key(&vec![PsbtInputKey::FinalScriptWitness as u8]);
2025-11-07T19:40:51.3369646Z +
2025-11-07T19:40:51.3369854Z              if !has_final_sig && !has_final_witness {
2025-11-07T19:40:51.3370008Z                  return false;
2025-11-07T19:40:51.3370135Z              }
2025-11-07T19:40:51.3370446Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:238:
2025-11-07T19:40:51.3370635Z      pub fn extract_transaction(&self) -> GovernanceResult<Vec<u8>> {
2025-11-07T19:40:51.3370730Z          if !self.is_finalized() {
2025-11-07T19:40:51.3370861Z              return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3370992Z -                "PSBT is not finalized".to_string()
2025-11-07T19:40:51.3371107Z +                "PSBT is not finalized".to_string(),
2025-11-07T19:40:51.3371178Z              ));
2025-11-07T19:40:51.3371255Z          }
2025-11-07T19:40:51.3371322Z  
2025-11-07T19:40:51.3371593Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:245:
2025-11-07T19:40:51.3371709Z          // Get unsigned transaction from global map
2025-11-07T19:40:51.3371966Z          let unsigned_tx_key = vec![PsbtGlobalKey::UnsignedTx as u8];
2025-11-07T19:40:51.3372333Z -        let unsigned_tx = self.global.get(&unsigned_tx_key)
2025-11-07T19:40:51.3372615Z -            .ok_or_else(|| GovernanceError::InvalidInput("Missing unsigned transaction".to_string()))?;
2025-11-07T19:40:51.3372930Z +        let unsigned_tx = self.global.get(&unsigned_tx_key).ok_or_else(|| {
2025-11-07T19:40:51.3373170Z +            GovernanceError::InvalidInput("Missing unsigned transaction".to_string())
2025-11-07T19:40:51.3373247Z +        })?;
2025-11-07T19:40:51.3373323Z  
2025-11-07T19:40:51.3373516Z          // Build final transaction by combining unsigned tx with final scripts
2025-11-07T19:40:51.3375691Z          // This is a simplified version - full implementation would parse transaction
2025-11-07T19:40:51.3376290Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:252:
2025-11-07T19:40:51.3376432Z          // and insert final script sig/witness data
2025-11-07T19:40:51.3376517Z -        
2025-11-07T19:40:51.3376588Z +
2025-11-07T19:40:51.3376687Z          Ok(unsigned_tx.clone())
2025-11-07T19:40:51.3376758Z      }
2025-11-07T19:40:51.3376825Z  
2025-11-07T19:40:51.3377102Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:257:
2025-11-07T19:40:51.3377204Z      /// Serialize PSBT to bytes
2025-11-07T19:40:51.3377431Z      pub fn serialize(&self) -> GovernanceResult<Vec<u8>> {
2025-11-07T19:40:51.3377702Z          let mut result = Vec::new();
2025-11-07T19:40:51.3377784Z -        
2025-11-07T19:40:51.3377854Z +
2025-11-07T19:40:51.3377938Z          // Magic bytes
2025-11-07T19:40:51.3378053Z          result.extend_from_slice(&PSBT_MAGIC);
2025-11-07T19:40:51.3378165Z          result.push(PSBT_SEPARATOR);
2025-11-07T19:40:51.3378442Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:264:
2025-11-07T19:40:51.3378517Z -        
2025-11-07T19:40:51.3378591Z +
2025-11-07T19:40:51.3378692Z          // Global map
2025-11-07T19:40:51.3378823Z          serialize_map(&mut result, &self.global)?;
2025-11-07T19:40:51.3378896Z -        
2025-11-07T19:40:51.3378971Z +
2025-11-07T19:40:51.3379081Z          // Separator between global and inputs
2025-11-07T19:40:51.3379182Z          result.push(PSBT_SEPARATOR);
2025-11-07T19:40:51.3379259Z -        
2025-11-07T19:40:51.3379326Z +
2025-11-07T19:40:51.3379407Z          // Input maps
2025-11-07T19:40:51.3379510Z          for input_map in &self.inputs {
2025-11-07T19:40:51.3379640Z              serialize_map(&mut result, input_map)?;
2025-11-07T19:40:51.3379912Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:274:
2025-11-07T19:40:51.3380018Z              result.push(PSBT_SEPARATOR);
2025-11-07T19:40:51.3380094Z          }
2025-11-07T19:40:51.3380166Z -        
2025-11-07T19:40:51.3380234Z +
2025-11-07T19:40:51.3380315Z          // Output maps
2025-11-07T19:40:51.3380426Z          for output_map in &self.outputs {
2025-11-07T19:40:51.3380551Z              serialize_map(&mut result, output_map)?;
2025-11-07T19:40:51.3380815Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:280:
2025-11-07T19:40:51.3380923Z              result.push(PSBT_SEPARATOR);
2025-11-07T19:40:51.3380995Z          }
2025-11-07T19:40:51.3381065Z -        
2025-11-07T19:40:51.3381141Z +
2025-11-07T19:40:51.3381218Z          Ok(result)
2025-11-07T19:40:51.3381287Z      }
2025-11-07T19:40:51.3381352Z  
2025-11-07T19:40:51.3381623Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:287:
2025-11-07T19:40:51.3381789Z      pub fn deserialize(data: &[u8]) -> GovernanceResult<Self> {
2025-11-07T19:40:51.3381968Z          if data.len() < 5 || &data[..4] != &PSBT_MAGIC || data[4] != PSBT_SEPARATOR {
2025-11-07T19:40:51.3382104Z              return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3382221Z -                "Invalid PSBT magic bytes".to_string()
2025-11-07T19:40:51.3382337Z +                "Invalid PSBT magic bytes".to_string(),
2025-11-07T19:40:51.3382567Z              ));
2025-11-07T19:40:51.3382644Z          }
2025-11-07T19:40:51.3382713Z  
2025-11-07T19:40:51.3382981Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:294:
2025-11-07T19:40:51.3383078Z          let mut offset = 5;
2025-11-07T19:40:51.3383147Z -        
2025-11-07T19:40:51.3383216Z +
2025-11-07T19:40:51.3383304Z          // Parse global map
2025-11-07T19:40:51.3383483Z          let (global, new_offset) = deserialize_map(&data[offset..])?;
2025-11-07T19:40:51.3383572Z          offset += new_offset;
2025-11-07T19:40:51.3383837Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:299:
2025-11-07T19:40:51.3383915Z -        
2025-11-07T19:40:51.3383982Z +
2025-11-07T19:40:51.3384071Z          // Skip separator
2025-11-07T19:40:51.3384232Z          if offset >= data.len() || data[offset] != PSBT_SEPARATOR {
2025-11-07T19:40:51.3384771Z -            return Err(GovernanceError::InvalidInput("Missing separator after global map".to_string()));
2025-11-07T19:40:51.3384913Z +            return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3385054Z +                "Missing separator after global map".to_string(),
2025-11-07T19:40:51.3385134Z +            ));
2025-11-07T19:40:51.3385205Z          }
2025-11-07T19:40:51.3385288Z          offset += 1;
2025-11-07T19:40:51.3385364Z -        
2025-11-07T19:40:51.3385432Z +
2025-11-07T19:40:51.3385663Z          // Parse input maps
2025-11-07T19:40:51.3385773Z          let mut inputs = Vec::new();
2025-11-07T19:40:51.3385943Z          // Determine number of inputs from unsigned transaction
2025-11-07T19:40:51.3386216Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:311:
2025-11-07T19:40:51.3386395Z              let (input_map, new_offset) = deserialize_map(&data[offset..])?;
2025-11-07T19:40:51.3386502Z              inputs.push(input_map);
2025-11-07T19:40:51.3386595Z              offset += new_offset;
2025-11-07T19:40:51.3386674Z -            
2025-11-07T19:40:51.3386743Z +
2025-11-07T19:40:51.3386843Z              // Skip separator
2025-11-07T19:40:51.3387007Z              if offset < data.len() && data[offset] == PSBT_SEPARATOR {
2025-11-07T19:40:51.3387095Z                  offset += 1;
2025-11-07T19:40:51.3387377Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:318:
2025-11-07T19:40:51.3392461Z                  break; // Separator indicates start of outputs
2025-11-07T19:40:51.3392572Z              }
2025-11-07T19:40:51.3392651Z          }
2025-11-07T19:40:51.3392727Z -        
2025-11-07T19:40:51.3392796Z +
2025-11-07T19:40:51.3392897Z          // Parse output maps
2025-11-07T19:40:51.3393020Z          let mut outputs = Vec::new();
2025-11-07T19:40:51.3393118Z          while offset < data.len() {
2025-11-07T19:40:51.3393415Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:328:
2025-11-07T19:40:51.3393608Z              let (output_map, new_offset) = deserialize_map(&data[offset..])?;
2025-11-07T19:40:51.3393708Z              outputs.push(output_map);
2025-11-07T19:40:51.3393799Z              offset += new_offset;
2025-11-07T19:40:51.3393869Z -            
2025-11-07T19:40:51.3393941Z +
2025-11-07T19:40:51.3394102Z              if offset < data.len() && data[offset] == PSBT_SEPARATOR {
2025-11-07T19:40:51.3394189Z                  offset += 1;
2025-11-07T19:40:51.3394268Z              }
2025-11-07T19:40:51.3394822Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:335:
2025-11-07T19:40:51.3394901Z          }
2025-11-07T19:40:51.3394971Z -        
2025-11-07T19:40:51.3395043Z +
2025-11-07T19:40:51.3395132Z          // Extract version
2025-11-07T19:40:51.3395295Z          let version_key = vec![PsbtGlobalKey::Version as u8];
2025-11-07T19:40:51.3395413Z -        let version = global.get(&version_key)
2025-11-07T19:40:51.3395501Z +        let version = global
2025-11-07T19:40:51.3395779Z +            .get(&version_key)
2025-11-07T19:40:51.3395887Z              .and_then(|v| v.first().copied())
2025-11-07T19:40:51.3395976Z              .unwrap_or(0);
2025-11-07T19:40:51.3396043Z  
2025-11-07T19:40:51.3396322Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:355:
2025-11-07T19:40:51.3396427Z          // Key length (compact size)
2025-11-07T19:40:51.3396542Z          write_compact_size(result, key.len())?;
2025-11-07T19:40:51.3396643Z          result.extend_from_slice(key);
2025-11-07T19:40:51.3396715Z -        
2025-11-07T19:40:51.3396787Z +
2025-11-07T19:40:51.3396884Z          // Value length (compact size)
2025-11-07T19:40:51.3397000Z          write_compact_size(result, value.len())?;
2025-11-07T19:40:51.3397109Z          result.extend_from_slice(value);
2025-11-07T19:40:51.3397384Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:362:
2025-11-07T19:40:51.3397453Z      }
2025-11-07T19:40:51.3397532Z -    
2025-11-07T19:40:51.3397600Z +
2025-11-07T19:40:51.3397684Z      // End marker: 0x00
2025-11-07T19:40:51.3397769Z      result.push(0x00);
2025-11-07T19:40:51.3397844Z -    
2025-11-07T19:40:51.3397910Z +
2025-11-07T19:40:51.3397979Z      Ok(())
2025-11-07T19:40:51.3398045Z  }
2025-11-07T19:40:51.3398117Z  
2025-11-07T19:40:51.3398385Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:371:
2025-11-07T19:40:51.3398741Z  fn deserialize_map(data: &[u8]) -> GovernanceResult<(HashMap<Vec<u8>, Vec<u8>>, usize)> {
2025-11-07T19:40:51.3398859Z      let mut map = HashMap::new();
2025-11-07T19:40:51.3398944Z      let mut offset = 0;
2025-11-07T19:40:51.3399013Z -    
2025-11-07T19:40:51.3399081Z +
2025-11-07T19:40:51.3399184Z      while offset < data.len() {
2025-11-07T19:40:51.3399271Z          // Check for end marker
2025-11-07T19:40:51.3399362Z          if data[offset] == 0x00 {
2025-11-07T19:40:51.3399640Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:378:
2025-11-07T19:40:51.3399731Z              offset += 1;
2025-11-07T19:40:51.3399805Z              break;
2025-11-07T19:40:51.3399879Z          }
2025-11-07T19:40:51.3399950Z -        
2025-11-07T19:40:51.3400016Z +
2025-11-07T19:40:51.3400093Z          // Read key
2025-11-07T19:40:51.3400269Z          let (key_len, len_offset) = read_compact_size(&data[offset..])?;
2025-11-07T19:40:51.3400358Z          offset += len_offset;
2025-11-07T19:40:51.3400629Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:385:
2025-11-07T19:40:51.3400705Z -        
2025-11-07T19:40:51.3400772Z +
2025-11-07T19:40:51.3400872Z          if offset + key_len > data.len() {
2025-11-07T19:40:51.3401107Z -            return Err(GovernanceError::InvalidInput("Invalid key length".to_string()));
2025-11-07T19:40:51.3401244Z +            return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3401350Z +                "Invalid key length".to_string(),
2025-11-07T19:40:51.3401427Z +            ));
2025-11-07T19:40:51.3401506Z          }
2025-11-07T19:40:51.3401640Z          let key = data[offset..offset + key_len].to_vec();
2025-11-07T19:40:51.3401726Z          offset += key_len;
2025-11-07T19:40:51.3402004Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:391:
2025-11-07T19:40:51.3402083Z -        
2025-11-07T19:40:51.3402151Z +
2025-11-07T19:40:51.3402230Z          // Read value
2025-11-07T19:40:51.3402810Z          let (value_len, len_offset) = read_compact_size(&data[offset..])?;
2025-11-07T19:40:51.3402908Z          offset += len_offset;
2025-11-07T19:40:51.3403180Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:395:
2025-11-07T19:40:51.3403251Z -        
2025-11-07T19:40:51.3403323Z +
2025-11-07T19:40:51.3403429Z          if offset + value_len > data.len() {
2025-11-07T19:40:51.3403673Z -            return Err(GovernanceError::InvalidInput("Invalid value length".to_string()));
2025-11-07T19:40:51.3403947Z +            return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3404135Z +                "Invalid value length".to_string(),
2025-11-07T19:40:51.3404262Z +            ));
2025-11-07T19:40:51.3404567Z          }
2025-11-07T19:40:51.3404790Z          let value = data[offset..offset + value_len].to_vec();
2025-11-07T19:40:51.3404888Z          offset += value_len;
2025-11-07T19:40:51.3407042Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:401:
2025-11-07T19:40:51.3407119Z -        
2025-11-07T19:40:51.3407187Z +
2025-11-07T19:40:51.3407280Z          map.insert(key, value);
2025-11-07T19:40:51.3407353Z      }
2025-11-07T19:40:51.3407420Z -    
2025-11-07T19:40:51.3407487Z +
2025-11-07T19:40:51.3407570Z      Ok((map, offset))
2025-11-07T19:40:51.3407642Z  }
2025-11-07T19:40:51.3407708Z  
2025-11-07T19:40:51.3407985Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:425:
2025-11-07T19:40:51.3408105Z  /// Read compact size (VarInt decoding)
2025-11-07T19:40:51.3408298Z  fn read_compact_size(data: &[u8]) -> GovernanceResult<(usize, usize)> {
2025-11-07T19:40:51.3408385Z      if data.is_empty() {
2025-11-07T19:40:51.3408635Z -        return Err(GovernanceError::InvalidInput("Unexpected end of data".to_string()));
2025-11-07T19:40:51.3408858Z +        return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3409208Z +            "Unexpected end of data".to_string(),
2025-11-07T19:40:51.3409292Z +        ));
2025-11-07T19:40:51.3409368Z      }
2025-11-07T19:40:51.3409438Z -    
2025-11-07T19:40:51.3409505Z +
2025-11-07T19:40:51.3409587Z      match data[0] {
2025-11-07T19:40:51.3409700Z          n if n < 0xfd => Ok((n as usize, 1)),
2025-11-07T19:40:51.3409774Z          0xfd => {
2025-11-07T19:40:51.3410050Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:434:
2025-11-07T19:40:51.3410143Z              if data.len() < 3 {
2025-11-07T19:40:51.3410395Z -                return Err(GovernanceError::InvalidInput("Invalid compact size".to_string()));
2025-11-07T19:40:51.3410531Z +                return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3410648Z +                    "Invalid compact size".to_string(),
2025-11-07T19:40:51.3410728Z +                ));
2025-11-07T19:40:51.3410799Z              }
2025-11-07T19:40:51.3410961Z              let value = u16::from_le_bytes([data[1], data[2]]) as usize;
2025-11-07T19:40:51.3411059Z              Ok((value, 3))
2025-11-07T19:40:51.3411329Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:439:
2025-11-07T19:40:51.3411398Z          }
2025-11-07T19:40:51.3411476Z          0xfe => {
2025-11-07T19:40:51.3411562Z              if data.len() < 5 {
2025-11-07T19:40:51.3411796Z -                return Err(GovernanceError::InvalidInput("Invalid compact size".to_string()));
2025-11-07T19:40:51.3411925Z +                return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3412045Z +                    "Invalid compact size".to_string(),
2025-11-07T19:40:51.3412122Z +                ));
2025-11-07T19:40:51.3412193Z              }
2025-11-07T19:40:51.3412398Z              let value = u32::from_le_bytes([data[1], data[2], data[3], data[4]]) as usize;
2025-11-07T19:40:51.3412483Z              Ok((value, 5))
2025-11-07T19:40:51.3412760Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:446:
2025-11-07T19:40:51.3412841Z          }
2025-11-07T19:40:51.3412914Z          0xff => {
2025-11-07T19:40:51.3412999Z              if data.len() < 9 {
2025-11-07T19:40:51.3413231Z -                return Err(GovernanceError::InvalidInput("Invalid compact size".to_string()));
2025-11-07T19:40:51.3413360Z +                return Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3413469Z +                    "Invalid compact size".to_string(),
2025-11-07T19:40:51.3413542Z +                ));
2025-11-07T19:40:51.3415733Z              }
2025-11-07T19:40:51.3416045Z              let value = u64::from_le_bytes([
2025-11-07T19:40:51.3416159Z -                data[1], data[2], data[3], data[4],
2025-11-07T19:40:51.3416258Z -                data[5], data[6], data[7], data[8],
2025-11-07T19:40:51.3416437Z +                data[1], data[2], data[3], data[4], data[5], data[6], data[7], data[8],
2025-11-07T19:40:51.3416521Z              ]) as usize;
2025-11-07T19:40:51.3416605Z              Ok((value, 9))
2025-11-07T19:40:51.3416686Z          }
2025-11-07T19:40:51.3416970Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:457:
2025-11-07T19:40:51.3417216Z -        _ => Err(GovernanceError::InvalidInput("Invalid compact size marker".to_string())),
2025-11-07T19:40:51.3417347Z +        _ => Err(GovernanceError::InvalidInput(
2025-11-07T19:40:51.3417675Z +            "Invalid compact size marker".to_string(),
2025-11-07T19:40:51.3417749Z +        )),
2025-11-07T19:40:51.3417823Z      }
2025-11-07T19:40:51.3417896Z  }
2025-11-07T19:40:51.3417970Z  
2025-11-07T19:40:51.3418255Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:466:
2025-11-07T19:40:51.3418356Z      fn test_psbt_creation() {
2025-11-07T19:40:51.3418536Z          let unsigned_tx = vec![0x01, 0x00, 0x00, 0x00]; // Dummy transaction
2025-11-07T19:40:51.3418744Z          let psbt = PartiallySignedTransaction::new(&unsigned_tx).unwrap();
2025-11-07T19:40:51.3418814Z -        
2025-11-07T19:40:51.3419018Z +
2025-11-07T19:40:51.3419126Z          assert_eq!(psbt.version, 0);
2025-11-07T19:40:51.3419357Z -        assert!(psbt.global.contains_key(&vec![PsbtGlobalKey::UnsignedTx as u8]));
2025-11-07T19:40:51.3419446Z +        assert!(psbt
2025-11-07T19:40:51.3419523Z +            .global
2025-11-07T19:40:51.3419691Z +            .contains_key(&vec![PsbtGlobalKey::UnsignedTx as u8]));
2025-11-07T19:40:51.3419768Z      }
2025-11-07T19:40:51.3419834Z  
2025-11-07T19:40:51.3419908Z      #[test]
2025-11-07T19:40:51.3420199Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:475:
2025-11-07T19:40:51.3420320Z      fn test_serialize_deserialize() {
2025-11-07T19:40:51.3420445Z          let unsigned_tx = vec![0x01, 0x00, 0x00, 0x00];
2025-11-07T19:40:51.3420658Z          let mut psbt = PartiallySignedTransaction::new(&unsigned_tx).unwrap();
2025-11-07T19:40:51.3420734Z -        
2025-11-07T19:40:51.3420800Z +
2025-11-07T19:40:51.3420926Z          // Add some data
2025-11-07T19:40:51.3421126Z -        psbt.add_partial_signature(0, vec![0x02; 33], vec![0x30; 72]).unwrap();
2025-11-07T19:40:51.3421204Z -        
2025-11-07T19:40:51.3421367Z +        psbt.add_partial_signature(0, vec![0x02; 33], vec![0x30; 72])
2025-11-07T19:40:51.3421448Z +            .unwrap();
2025-11-07T19:40:51.3421520Z +
2025-11-07T19:40:51.3421643Z          let serialized = psbt.serialize().unwrap();
2025-11-07T19:40:51.3421902Z          let deserialized = PartiallySignedTransaction::deserialize(&serialized).unwrap();
2025-11-07T19:40:51.3421979Z -        
2025-11-07T19:40:51.3422052Z +
2025-11-07T19:40:51.3422181Z          assert_eq!(psbt.global, deserialized.global);
2025-11-07T19:40:51.3422250Z      }
2025-11-07T19:40:51.3422322Z  
2025-11-07T19:40:51.3422600Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:490:
2025-11-07T19:40:51.3422706Z          let mut result = Vec::new();
2025-11-07T19:40:51.3422838Z          write_compact_size(&mut result, 253).unwrap();
2025-11-07T19:40:51.3422937Z          assert_eq!(result[0], 0xfd);
2025-11-07T19:40:51.3423007Z -        
2025-11-07T19:40:51.3423075Z +
2025-11-07T19:40:51.3423238Z          let (value, offset) = read_compact_size(&result).unwrap();
2025-11-07T19:40:51.3423330Z          assert_eq!(value, 253);
2025-11-07T19:40:51.3423418Z          assert_eq!(offset, 3);
2025-11-07T19:40:51.3423696Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/psbt.rs:497:
2025-11-07T19:40:51.3423766Z      }
2025-11-07T19:40:51.3423967Z  }
2025-11-07T19:40:51.3424033Z -
2025-11-07T19:40:51.3424105Z  
2025-11-07T19:40:51.3424668Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/verification.rs:20:
2025-11-07T19:40:51.3424834Z      message_hash: &[u8],
2025-11-07T19:40:51.3425004Z      public_key: &PublicKey,
2025-11-07T19:40:51.3425154Z  ) -> GovernanceResult<bool> {
2025-11-07T19:40:51.3425273Z -    use secp256k1::{Secp256k1, Message};
2025-11-07T19:40:51.3425343Z -    
2025-11-07T19:40:51.3425461Z +    use secp256k1::{Message, Secp256k1};
2025-11-07T19:40:51.3425531Z +
2025-11-07T19:40:51.3425629Z      let secp = Secp256k1::new();
2025-11-07T19:40:51.3425702Z -    
2025-11-07T19:40:51.3425769Z +
2025-11-07T19:40:51.3425919Z      let message = Message::from_digest_slice(message_hash)
2025-11-07T19:40:51.3428099Z          .map_err(|e| GovernanceError::Cryptographic(format!("Invalid message hash: {}", e)))?;
2025-11-07T19:40:51.3428174Z -    
2025-11-07T19:40:51.3428239Z +
2025-11-07T19:40:51.3428463Z      let result = secp.verify_ecdsa(&message, &signature.inner, &public_key.inner);
2025-11-07T19:40:51.3428544Z -    
2025-11-07T19:40:51.3428609Z +
2025-11-07T19:40:51.3428693Z      Ok(result.is_ok())
2025-11-07T19:40:51.3428821Z  }
2025-11-07T19:40:51.3428892Z  
2025-11-07T19:40:51.3429206Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/verification.rs:39:
2025-11-07T19:40:51.3429301Z      public_keys: &[PublicKey],
2025-11-07T19:40:51.3429573Z  ) -> GovernanceResult<Vec<bool>> {
2025-11-07T19:40:51.3429682Z      let mut results = Vec::new();
2025-11-07T19:40:51.3429751Z -    
2025-11-07T19:40:51.3429818Z +
2025-11-07T19:40:51.3429918Z      for signature in signatures {
2025-11-07T19:40:51.3430009Z          let mut verified = false;
2025-11-07T19:40:51.3430111Z          for public_key in public_keys {
2025-11-07T19:40:51.3430413Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/verification.rs:50:
2025-11-07T19:40:51.3430483Z          }
2025-11-07T19:40:51.3430583Z          results.push(verified);
2025-11-07T19:40:51.3430653Z      }
2025-11-07T19:40:51.3430726Z -    
2025-11-07T19:40:51.3430794Z +
2025-11-07T19:40:51.3430874Z      Ok(results)
2025-11-07T19:40:51.3430945Z  }
2025-11-07T19:40:51.3431010Z  
2025-11-07T19:40:51.3431303Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/verification.rs:73:
2025-11-07T19:40:51.3431397Z      fn test_verify_signature() {
2025-11-07T19:40:51.3431562Z          let keypair = GovernanceKeypair::generate().unwrap();
2025-11-07T19:40:51.3431659Z          let message = b"test message";
2025-11-07T19:40:51.3431729Z -        
2025-11-07T19:40:51.3431800Z +
2025-11-07T19:40:51.3432013Z          let signature = crate::sign_message(&keypair.secret_key, message).unwrap();
2025-11-07T19:40:51.3432256Z          let verified = verify_signature(&signature, message, &keypair.public_key()).unwrap();
2025-11-07T19:40:51.3432333Z -        
2025-11-07T19:40:51.3432400Z +
2025-11-07T19:40:51.3432489Z          assert!(verified);
2025-11-07T19:40:51.3432558Z      }
2025-11-07T19:40:51.3432628Z  
2025-11-07T19:40:51.3432924Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/verification.rs:85:
2025-11-07T19:40:51.3433073Z          let keypair = GovernanceKeypair::generate().unwrap();
2025-11-07T19:40:51.3433173Z          let message = b"test message";
2025-11-07T19:40:51.3433308Z          let message_hash = sha2::Sha256::digest(message);
2025-11-07T19:40:51.3433380Z -        
2025-11-07T19:40:51.3433448Z +
2025-11-07T19:40:51.3433666Z          let signature = crate::sign_message(&keypair.secret_key, message).unwrap();
2025-11-07T19:40:51.3433949Z -        let verified = verify_signature_hash(&signature, &message_hash, &keypair.public_key()).unwrap();
2025-11-07T19:40:51.3434019Z -        
2025-11-07T19:40:51.3434104Z +        let verified =
2025-11-07T19:40:51.3434546Z +            verify_signature_hash(&signature, &message_hash, &keypair.public_key()).unwrap();
2025-11-07T19:40:51.3434758Z +
2025-11-07T19:40:51.3434848Z          assert!(verified);
2025-11-07T19:40:51.3434917Z      }
2025-11-07T19:40:51.3434983Z  
2025-11-07T19:40:51.3435279Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/verification.rs:95:
2025-11-07T19:40:51.3435359Z      #[test]
2025-11-07T19:40:51.3435469Z      fn test_verify_multiple_signatures() {
2025-11-07T19:40:51.3435708Z -        let keypairs: Vec<_> = (0..3).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3435811Z +        let keypairs: Vec<_> = (0..3)
2025-11-07T19:40:51.3435949Z +            .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3436031Z +            .collect();
2025-11-07T19:40:51.3436235Z          let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3436338Z          let message = b"test message";
2025-11-07T19:40:51.3436410Z -        
2025-11-07T19:40:51.3436507Z +
2025-11-07T19:40:51.3436694Z          let signatures: Vec<_> = keypairs
2025-11-07T19:40:51.3436828Z              .iter()
2025-11-07T19:40:51.3437108Z              .map(|kp| crate::sign_message(&kp.secret_key, message).unwrap())
2025-11-07T19:40:51.3437459Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/verification.rs:104:
2025-11-07T19:40:51.3437542Z              .collect();
2025-11-07T19:40:51.3437611Z -        
2025-11-07T19:40:51.3437677Z +
2025-11-07T19:40:51.3439997Z          let results = verify_multiple_signatures(&signatures, message, &public_keys).unwrap();
2025-11-07T19:40:51.3440074Z -        
2025-11-07T19:40:51.3440140Z +
2025-11-07T19:40:51.3440245Z          assert_eq!(results.len(), 3);
2025-11-07T19:40:51.3440382Z          assert!(results.iter().all(|&verified| verified));
2025-11-07T19:40:51.3440452Z      }
2025-11-07T19:40:51.3440771Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/governance/verification.rs:114:
2025-11-07T19:40:51.3440938Z          let keypair1 = GovernanceKeypair::generate().unwrap();
2025-11-07T19:40:51.3441091Z          let keypair2 = GovernanceKeypair::generate().unwrap();
2025-11-07T19:40:51.3441192Z          let message = b"test message";
2025-11-07T19:40:51.3441268Z -        
2025-11-07T19:40:51.3441336Z +
2025-11-07T19:40:51.3441551Z          let signature = crate::sign_message(&keypair1.secret_key, message).unwrap();
2025-11-07T19:40:51.3441801Z          let verified = verify_signature(&signature, message, &keypair2.public_key()).unwrap();
2025-11-07T19:40:51.3441873Z -        
2025-11-07T19:40:51.3441940Z +
2025-11-07T19:40:51.3442029Z          assert!(!verified);
2025-11-07T19:40:51.3442101Z      }
2025-11-07T19:40:51.3442168Z  }
2025-11-07T19:40:51.3442402Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/lib.rs:57:
2025-11-07T19:40:51.3442477Z  //! ```
2025-11-07T19:40:51.3442542Z  
2025-11-07T19:40:51.3442617Z  pub mod cli;
2025-11-07T19:40:51.3442702Z -pub mod governance;
2025-11-07T19:40:51.3442793Z  pub mod composition;
2025-11-07T19:40:51.3442880Z +pub mod governance;
2025-11-07T19:40:51.3442947Z  
2025-11-07T19:40:51.3443054Z  // Re-export main types for convenience
2025-11-07T19:40:51.3443185Z  pub use governance::{
2025-11-07T19:40:51.3443412Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/src/lib.rs:71:
2025-11-07T19:40:51.3443479Z  
2025-11-07T19:40:51.3443586Z  // Re-export composition framework
2025-11-07T19:40:51.3443682Z  pub use composition::{
2025-11-07T19:40:51.3443860Z -    ModuleRegistry, ModuleLifecycle, NodeComposer, NodeConfig,
2025-11-07T19:40:51.3444012Z -    ModuleInfo, ModuleSource, ModuleStatus, ModuleHealth,
2025-11-07T19:40:51.3444147Z -    NodeSpec, ModuleSpec, ComposedNode, NetworkType,
2025-11-07T19:40:51.3444544Z +    ComposedNode, ModuleHealth, ModuleInfo, ModuleLifecycle, ModuleRegistry, ModuleSource,
2025-11-07T19:40:51.3444781Z +    ModuleSpec, ModuleStatus, NetworkType, NodeComposer, NodeConfig, NodeSpec,
2025-11-07T19:40:51.3444869Z  };
2025-11-07T19:40:51.3444938Z  
2025-11-07T19:40:51.3445414Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:6:
2025-11-07T19:40:51.3445496Z  #[test]
2025-11-07T19:40:51.3445596Z  fn test_output_format_from_str() {
2025-11-07T19:40:51.3445708Z      use std::str::FromStr;
2025-11-07T19:40:51.3445834Z -    
2025-11-07T19:40:51.3445951Z +
2025-11-07T19:40:51.3446099Z      // Test parsing from string
2025-11-07T19:40:51.3446322Z      assert_eq!(OutputFormat::from_str("text").unwrap(), OutputFormat::Text);
2025-11-07T19:40:51.3446522Z      assert_eq!(OutputFormat::from_str("json").unwrap(), OutputFormat::Json);
2025-11-07T19:40:51.3446847Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:13:
2025-11-07T19:40:51.3447042Z      assert_eq!(OutputFormat::from_str("TEXT").unwrap(), OutputFormat::Text);
2025-11-07T19:40:51.3447240Z      assert_eq!(OutputFormat::from_str("JSON").unwrap(), OutputFormat::Json);
2025-11-07T19:40:51.3447437Z      assert_eq!(OutputFormat::from_str("txt").unwrap(), OutputFormat::Text);
2025-11-07T19:40:51.3447515Z -    
2025-11-07T19:40:51.3447588Z +
2025-11-07T19:40:51.3447675Z      // Test invalid format
2025-11-07T19:40:51.3447822Z      assert!(OutputFormat::from_str("invalid").is_err());
2025-11-07T19:40:51.3447948Z      assert!(OutputFormat::from_str("").is_err());
2025-11-07T19:40:51.3448403Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:31:
2025-11-07T19:40:51.3448536Z      // Test that formatter was created successfully
2025-11-07T19:40:51.3448643Z      let test_string = "test".to_string();
2025-11-07T19:40:51.3448779Z      assert!(formatter.format(&test_string).is_ok());
2025-11-07T19:40:51.3448850Z -    
2025-11-07T19:40:51.3448916Z +
2025-11-07T19:40:51.3449088Z      let formatter = OutputFormatter::new(OutputFormat::Json);
2025-11-07T19:40:51.3449209Z      // Test that formatter was created successfully
2025-11-07T19:40:51.3449334Z      assert!(formatter.format(&test_string).is_ok());
2025-11-07T19:40:51.3449654Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:40:
2025-11-07T19:40:51.3449733Z  #[test]
2025-11-07T19:40:51.3449840Z  fn test_output_formatter_format_text() {
2025-11-07T19:40:51.3450000Z      let formatter = OutputFormatter::new(OutputFormat::Text);
2025-11-07T19:40:51.3450076Z -    
2025-11-07T19:40:51.3450142Z +
2025-11-07T19:40:51.3450226Z      // Test with string
2025-11-07T19:40:51.3452326Z      let result = formatter.format(&"test string");
2025-11-07T19:40:51.3452532Z      assert_eq!(result, Ok("test string".to_string()));
2025-11-07T19:40:51.3453039Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:47:
2025-11-07T19:40:51.3453114Z -    
2025-11-07T19:40:51.3453185Z +
2025-11-07T19:40:51.3453269Z      // Test with number
2025-11-07T19:40:51.3453372Z      let result = formatter.format(&42);
2025-11-07T19:40:51.3453486Z      assert_eq!(result, Ok("42".to_string()));
2025-11-07T19:40:51.3453797Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:51:
2025-11-07T19:40:51.3453868Z -    
2025-11-07T19:40:51.3453933Z +
2025-11-07T19:40:51.3454024Z      // Test with boolean
2025-11-07T19:40:51.3454130Z      let result = formatter.format(&true);
2025-11-07T19:40:51.3454240Z      assert_eq!(result, Ok("true".to_string()));
2025-11-07T19:40:51.3454687Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:55:
2025-11-07T19:40:51.3454764Z -    
2025-11-07T19:40:51.3454831Z +
2025-11-07T19:40:51.3454925Z      // Test with empty string
2025-11-07T19:40:51.3455025Z      let result = formatter.format(&"");
2025-11-07T19:40:51.3455132Z      assert_eq!(result, Ok("".to_string()));
2025-11-07T19:40:51.3455434Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:61:
2025-11-07T19:40:51.3455511Z  #[test]
2025-11-07T19:40:51.3455803Z  fn test_output_formatter_format_json() {
2025-11-07T19:40:51.3455971Z      let formatter = OutputFormatter::new(OutputFormat::Json);
2025-11-07T19:40:51.3456044Z -    
2025-11-07T19:40:51.3456110Z +
2025-11-07T19:40:51.3456200Z      // Test with simple data
2025-11-07T19:40:51.3456295Z      let data = json!({"key": "value"});
2025-11-07T19:40:51.3456406Z      let result = formatter.format(&data);
2025-11-07T19:40:51.3456716Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:69:
2025-11-07T19:40:51.3456813Z      let json_str = result.unwrap();
2025-11-07T19:40:51.3456925Z      assert!(json_str.contains("\"key\""));
2025-11-07T19:40:51.3457033Z      assert!(json_str.contains("\"value\""));
2025-11-07T19:40:51.3457102Z -    
2025-11-07T19:40:51.3457171Z +
2025-11-07T19:40:51.3457561Z      // Test with complex nested data
2025-11-07T19:40:51.3457662Z      let complex_data = json!({
2025-11-07T19:40:51.3457739Z          "nested": {
2025-11-07T19:40:51.3458060Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:87:
2025-11-07T19:40:51.3458173Z      assert!(json_str.contains("\"string\""));
2025-11-07T19:40:51.3458286Z      assert!(json_str.contains("\"boolean\""));
2025-11-07T19:40:51.3458393Z      assert!(json_str.contains("\"null\""));
2025-11-07T19:40:51.3458461Z -    
2025-11-07T19:40:51.3459095Z +
2025-11-07T19:40:51.3459182Z      // Test with array
2025-11-07T19:40:51.3459469Z      let array_data = json!([1, 2, 3, "test"]);
2025-11-07T19:40:51.3459594Z      let result = formatter.format(&array_data);
2025-11-07T19:40:51.3459927Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:100:
2025-11-07T19:40:51.3460005Z  #[test]
2025-11-07T19:40:51.3460124Z  fn test_output_formatter_format_json_error() {
2025-11-07T19:40:51.3460293Z      let formatter = OutputFormatter::new(OutputFormat::Json);
2025-11-07T19:40:51.3460362Z -    
2025-11-07T19:40:51.3460439Z +
2025-11-07T19:40:51.3460618Z      // Test with data that can't be serialized (this is tricky to create)
2025-11-07T19:40:51.3460776Z      // We'll test with a very large number that might cause issues
2025-11-07T19:40:51.3460872Z      let large_data = json!({
2025-11-07T19:40:51.3461194Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:116:
2025-11-07T19:40:51.3461314Z  fn test_output_formatter_format_edge_cases() {
2025-11-07T19:40:51.3461500Z      let text_formatter = OutputFormatter::new(OutputFormat::Text);
2025-11-07T19:40:51.3461670Z      let json_formatter = OutputFormatter::new(OutputFormat::Json);
2025-11-07T19:40:51.3461739Z -    
2025-11-07T19:40:51.3461807Z +
2025-11-07T19:40:51.3461906Z      // Test with special characters
2025-11-07T19:40:51.3462046Z      let special_chars = "test\nwith\ttabs\r\nand\0null";
2025-11-07T19:40:51.3462194Z      let text_result = text_formatter.format(&special_chars);
2025-11-07T19:40:51.3462521Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:123:
2025-11-07T19:40:51.3462672Z      assert_eq!(text_result, Ok(special_chars.to_string()));
2025-11-07T19:40:51.3462741Z -    
2025-11-07T19:40:51.3462806Z +
2025-11-07T19:40:51.3462956Z      let json_result = json_formatter.format(&special_chars);
2025-11-07T19:40:51.3463055Z      assert!(json_result.is_ok());
2025-11-07T19:40:51.3463159Z      let json_str = json_result.unwrap();
2025-11-07T19:40:51.3463482Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:128:
2025-11-07T19:40:51.3463586Z      assert!(json_str.contains("\\n"));
2025-11-07T19:40:51.3463679Z      assert!(json_str.contains("\\t"));
2025-11-07T19:40:51.3463778Z      assert!(json_str.contains("\\r"));
2025-11-07T19:40:51.3463845Z -    
2025-11-07T19:40:51.3463913Z +
2025-11-07T19:40:51.3463998Z      // Test with unicode
2025-11-07T19:40:51.3464497Z      let unicode_str = "测试中文🚀";
2025-11-07T19:40:51.3464796Z      let text_result = text_formatter.format(&unicode_str);
2025-11-07T19:40:51.3465127Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:135:
2025-11-07T19:40:51.3465275Z      assert_eq!(text_result, Ok(unicode_str.to_string()));
2025-11-07T19:40:51.3465345Z -    
2025-11-07T19:40:51.3465411Z +
2025-11-07T19:40:51.3465550Z      let json_result = json_formatter.format(&unicode_str);
2025-11-07T19:40:51.3465661Z      assert!(json_result.is_ok());
2025-11-07T19:40:51.3465765Z      let json_str = json_result.unwrap();
2025-11-07T19:40:51.3466076Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:144:
2025-11-07T19:40:51.3466153Z  #[test]
2025-11-07T19:40:51.3466298Z  fn test_output_formatter_format_with_serde_json_value() {
2025-11-07T19:40:51.3466462Z      let formatter = OutputFormatter::new(OutputFormat::Json);
2025-11-07T19:40:51.3466537Z -    
2025-11-07T19:40:51.3466602Z +
2025-11-07T19:40:51.3466723Z      // Test with serde_json::Value directly
2025-11-07T19:40:51.3466879Z      let value = serde_json::Value::String("test".to_string());
2025-11-07T19:40:51.3466994Z      let result = formatter.format(&value);
2025-11-07T19:40:51.3467305Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:151:
2025-11-07T19:40:51.3467400Z      assert!(result.is_ok());
2025-11-07T19:40:51.3467516Z      assert_eq!(result.unwrap(), "\"test\"");
2025-11-07T19:40:51.3467713Z -    
2025-11-07T19:40:51.3467788Z +
2025-11-07T19:40:51.3467879Z      // Test with number value
2025-11-07T19:40:51.3468071Z      let value = serde_json::Value::Number(serde_json::Number::from(42));
2025-11-07T19:40:51.3468255Z      let result = formatter.format(&value);
2025-11-07T19:40:51.3468572Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:157:
2025-11-07T19:40:51.3468671Z      assert!(result.is_ok());
2025-11-07T19:40:51.3468773Z      assert_eq!(result.unwrap(), "42");
2025-11-07T19:40:51.3468850Z -    
2025-11-07T19:40:51.3468922Z +
2025-11-07T19:40:51.3469012Z      // Test with boolean value
2025-11-07T19:40:51.3469130Z      let value = serde_json::Value::Bool(true);
2025-11-07T19:40:51.3469235Z      let result = formatter.format(&value);
2025-11-07T19:40:51.3469550Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/cli_output_coverage_tests.rs:163:
2025-11-07T19:40:51.3469647Z      assert!(result.is_ok());
2025-11-07T19:40:51.3469747Z      assert_eq!(result.unwrap(), "true");
2025-11-07T19:40:51.3469821Z -    
2025-11-07T19:40:51.3469889Z +
2025-11-07T19:40:51.3469979Z      // Test with null value
2025-11-07T19:40:51.3470087Z      let value = serde_json::Value::Null;
2025-11-07T19:40:51.3470196Z      let result = formatter.format(&value);
2025-11-07T19:40:51.3470470Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/coverage_tests.rs:4:
2025-11-07T19:40:51.3470539Z  
2025-11-07T19:40:51.3470813Z  use bllvm_sdk::cli::input::{parse_base64, parse_comma_separated, parse_hex, parse_threshold};
2025-11-07T19:40:51.3470984Z  use bllvm_sdk::cli::output::{OutputFormat, OutputFormatter};
2025-11-07T19:40:51.3471083Z -use bllvm_sdk::governance::{
2025-11-07T19:40:51.3471301Z -    GovernanceKeypair, GovernanceMessage, Multisig, PublicKey, Signature,
2025-11-07T19:40:51.3471371Z -};
2025-11-07T19:40:51.3471672Z +use bllvm_sdk::governance::{GovernanceKeypair, GovernanceMessage, Multisig, PublicKey, Signature};
2025-11-07T19:40:51.3471808Z  use bllvm_sdk::{sign_message, verify_signature};
2025-11-07T19:40:51.3471877Z  
2025-11-07T19:40:51.3471947Z  #[test]
2025-11-07T19:40:51.3472457Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:1:
2025-11-07T19:40:51.3472645Z  //! Additional tests for governance keys module to improve coverage.
2025-11-07T19:40:51.3472712Z  
2025-11-07T19:40:51.3472929Z -use bllvm_sdk::governance::{GovernanceKeypair, PublicKey, GovernanceError};
2025-11-07T19:40:51.3473250Z +use bllvm_sdk::governance::{GovernanceError, GovernanceKeypair, PublicKey};
2025-11-07T19:40:51.3473320Z  
2025-11-07T19:40:51.3473389Z  #[test]
2025-11-07T19:40:51.3473505Z  fn test_governance_keypair_debug_format() {
2025-11-07T19:40:51.3473847Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:15:
2025-11-07T19:40:51.3473953Z  fn test_governance_keypair_clone() {
2025-11-07T19:40:51.3474114Z      let keypair1 = GovernanceKeypair::generate().unwrap();
2025-11-07T19:40:51.3474218Z      let keypair2 = keypair1.clone();
2025-11-07T19:40:51.3474420Z -    
2025-11-07T19:40:51.3474489Z +
2025-11-07T19:40:51.3474631Z      // Test that clone works and properties are preserved
2025-11-07T19:40:51.3474788Z      assert_eq!(keypair1.public_key(), keypair2.public_key());
2025-11-07T19:40:51.3474977Z      assert_eq!(keypair1.secret_key_bytes(), keypair2.secret_key_bytes());
2025-11-07T19:40:51.3475308Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:28:
2025-11-07T19:40:51.3475499Z      let result = GovernanceKeypair::from_secret_key(&zero_secret);
2025-11-07T19:40:51.3475671Z      // This might be invalid, so we just test that it doesn't panic
2025-11-07T19:40:51.3475750Z      let _ = result;
2025-11-07T19:40:51.3475827Z -    
2025-11-07T19:40:51.3475893Z +
2025-11-07T19:40:51.3476199Z      // Test with all 0xFF (might be valid depending on implementation)
2025-11-07T19:40:51.3476303Z      let max_secret = [0xFFu8; 32];
2025-11-07T19:40:51.3476477Z      let result = GovernanceKeypair::from_secret_key(&max_secret);
2025-11-07T19:40:51.3476810Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:35:
2025-11-07T19:40:51.3476969Z      // This might be invalid, so we just test that it doesn't panic
2025-11-07T19:40:51.3477055Z      let _ = result;
2025-11-07T19:40:51.3477123Z -    
2025-11-07T19:40:51.3477190Z +
2025-11-07T19:40:51.3477293Z      // Test with invalid length
2025-11-07T19:40:51.3477386Z      let short_secret = [0u8; 31];
2025-11-07T19:40:51.3477559Z      let result = GovernanceKeypair::from_secret_key(&short_secret);
2025-11-07T19:40:51.3477891Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:41:
2025-11-07T19:40:51.3477983Z      assert!(result.is_err());
2025-11-07T19:40:51.3478051Z -    
2025-11-07T19:40:51.3478117Z +
2025-11-07T19:40:51.3478217Z      let long_secret = [0u8; 33];
2025-11-07T19:40:51.3478387Z      let result = GovernanceKeypair::from_secret_key(&long_secret);
2025-11-07T19:40:51.3478479Z      assert!(result.is_err());
2025-11-07T19:40:51.3478807Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:58:
2025-11-07T19:40:51.3478956Z      let keypair = GovernanceKeypair::generate().unwrap();
2025-11-07T19:40:51.3479062Z      let pubkey1 = keypair.public_key();
2025-11-07T19:40:51.3479162Z      let pubkey2 = pubkey1.clone();
2025-11-07T19:40:51.3479237Z -    
2025-11-07T19:40:51.3479301Z +
2025-11-07T19:40:51.3479433Z      // Test that clone works and properties are preserved
2025-11-07T19:40:51.3479567Z      assert_eq!(pubkey1.to_bytes(), pubkey2.to_bytes());
2025-11-07T19:40:51.3479636Z  }
2025-11-07T19:40:51.3479957Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:70:
2025-11-07T19:40:51.3480128Z      invalid_compressed[0] = 0x04; // Uncompressed format marker
2025-11-07T19:40:51.3480284Z      let result = PublicKey::from_bytes(&invalid_compressed);
2025-11-07T19:40:51.3480377Z      assert!(result.is_err());
2025-11-07T19:40:51.3480447Z -    
2025-11-07T19:40:51.3480518Z +
2025-11-07T19:40:51.3480671Z      // Test with invalid compressed public key (invalid point)
2025-11-07T19:40:51.3480774Z      let mut invalid_point = [0u8; 33];
2025-11-07T19:40:51.3480915Z      invalid_point[0] = 0x02; // Compressed format marker
2025-11-07T19:40:51.3481389Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:77:
2025-11-07T19:40:51.3481492Z -    // All zeros is not a valid point
2025-11-07T19:40:51.3481616Z +                             // All zeros is not a valid point
2025-11-07T19:40:51.3481826Z      let result = PublicKey::from_bytes(&invalid_point);
2025-11-07T19:40:51.3481986Z      assert!(result.is_err());
2025-11-07T19:40:51.3482098Z -    
2025-11-07T19:40:51.3482192Z +
2025-11-07T19:40:51.3482282Z      // Test with wrong length
2025-11-07T19:40:51.3482377Z      let wrong_length = [0u8; 32];
2025-11-07T19:40:51.3482524Z      let result = PublicKey::from_bytes(&wrong_length);
2025-11-07T19:40:51.3482859Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:84:
2025-11-07T19:40:51.3482950Z      assert!(result.is_err());
2025-11-07T19:40:51.3483020Z -    
2025-11-07T19:40:51.3483092Z +
2025-11-07T19:40:51.3483184Z      let wrong_length = [0u8; 34];
2025-11-07T19:40:51.3483322Z      let result = PublicKey::from_bytes(&wrong_length);
2025-11-07T19:40:51.3483415Z      assert!(result.is_err());
2025-11-07T19:40:51.3483748Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:93:
2025-11-07T19:40:51.3483901Z      let keypair = GovernanceKeypair::generate().unwrap();
2025-11-07T19:40:51.3484019Z      let public_key = keypair.public_key();
2025-11-07T19:40:51.3484230Z      let bytes = public_key.to_bytes();
2025-11-07T19:40:51.3484441Z -    
2025-11-07T19:40:51.3484514Z +
2025-11-07T19:40:51.3484614Z      assert_eq!(bytes.len(), 33);
2025-11-07T19:40:51.3484802Z      assert!(bytes[0] == 0x02 || bytes[0] == 0x03); // Compressed format marker
2025-11-07T19:40:51.3484872Z -    
2025-11-07T19:40:51.3484943Z +
2025-11-07T19:40:51.3485025Z      // Test roundtrip
2025-11-07T19:40:51.3485201Z      let reconstructed = PublicKey::from_bytes(&bytes).unwrap();
2025-11-07T19:40:51.3485310Z      assert_eq!(public_key, reconstructed);
2025-11-07T19:40:51.3485661Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:108:
2025-11-07T19:40:51.3487634Z      let display_str = format!("{}", error);
2025-11-07T19:40:51.3487759Z      assert!(display_str.contains("Invalid key"));
2025-11-07T19:40:51.3487885Z      assert!(display_str.contains("test error"));
2025-11-07T19:40:51.3487955Z -    
2025-11-07T19:40:51.3488025Z +
2025-11-07T19:40:51.3488255Z      let error = GovernanceError::SignatureVerification("sig error".to_string());
2025-11-07T19:40:51.3488365Z      let display_str = format!("{}", error);
2025-11-07T19:40:51.3488541Z      assert!(display_str.contains("Signature verification failed"));
2025-11-07T19:40:51.3488878Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:115:
2025-11-07T19:40:51.3488999Z      assert!(display_str.contains("sig error"));
2025-11-07T19:40:51.3489071Z -    
2025-11-07T19:40:51.3489285Z -    let error = GovernanceError::InvalidThreshold { threshold: 2, total: 1 };
2025-11-07T19:40:51.3489360Z +
2025-11-07T19:40:51.3489497Z +    let error = GovernanceError::InvalidThreshold {
2025-11-07T19:40:51.3489581Z +        threshold: 2,
2025-11-07T19:40:51.3489659Z +        total: 1,
2025-11-07T19:40:51.3489737Z +    };
2025-11-07T19:40:51.3489840Z      let display_str = format!("{}", error);
2025-11-07T19:40:51.3489981Z      assert!(display_str.contains("Invalid threshold"));
2025-11-07T19:40:51.3490088Z      assert!(display_str.contains("2"));
2025-11-07T19:40:51.3490423Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/governance_keys_coverage_tests.rs:138:
2025-11-07T19:40:51.3490608Z      let error4 = GovernanceError::MessageFormat("test".to_string());
2025-11-07T19:40:51.3490789Z      let error5 = GovernanceError::Cryptographic("test".to_string());
2025-11-07T19:40:51.3490960Z      let error6 = GovernanceError::Serialization("test".to_string());
2025-11-07T19:40:51.3491310Z -    let error7 = GovernanceError::InvalidThreshold { threshold: 1, total: 2 };
2025-11-07T19:40:51.3491456Z +    let error7 = GovernanceError::InvalidThreshold {
2025-11-07T19:40:51.3491541Z +        threshold: 1,
2025-11-07T19:40:51.3491619Z +        total: 2,
2025-11-07T19:40:51.3491690Z +    };
2025-11-07T19:40:51.3491902Z      let error8 = GovernanceError::InsufficientSignatures { got: 1, need: 2 };
2025-11-07T19:40:51.3492111Z      let error9 = GovernanceError::InvalidSignatureFormat("test".to_string());
2025-11-07T19:40:51.3492181Z -    
2025-11-07T19:40:51.3492254Z +
2025-11-07T19:40:51.3492367Z      // Test that all variants can be formatted
2025-11-07T19:40:51.3492479Z      assert!(!format!("{}", error1).is_empty());
2025-11-07T19:40:51.3492589Z      assert!(!format!("{}", error2).is_empty());
2025-11-07T19:40:51.3492894Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/key_generation_tests.rs:41:
2025-11-07T19:40:51.3492964Z  
2025-11-07T19:40:51.3493067Z      // Test public key serialization
2025-11-07T19:40:51.3493212Z      let pubkey_bytes = keypair.public_key().to_bytes();
2025-11-07T19:40:51.3493311Z -    let reconstructed_pubkey =
2025-11-07T19:40:51.3493509Z -        bllvm_sdk::governance::PublicKey::from_bytes(&pubkey_bytes).unwrap();
2025-11-07T19:40:51.3493801Z +    let reconstructed_pubkey = bllvm_sdk::governance::PublicKey::from_bytes(&pubkey_bytes).unwrap();
2025-11-07T19:40:51.3494099Z      assert_eq!(keypair.public_key(), reconstructed_pubkey);
2025-11-07T19:40:51.3494174Z  
2025-11-07T19:40:51.3494398Z      // Test secret key serialization
2025-11-07T19:40:51.3494710Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/key_generation_tests.rs:115:
2025-11-07T19:40:51.3494823Z      // Same keypair should be equal to itself
2025-11-07T19:40:51.3494981Z      assert_eq!(keypair1.public_key(), keypair1.public_key());
2025-11-07T19:40:51.3495055Z  }
2025-11-07T19:40:51.3495123Z -
2025-11-07T19:40:51.3495190Z -
2025-11-07T19:40:51.3495264Z -
2025-11-07T19:40:51.3495335Z -
2025-11-07T19:40:51.3495403Z  
2025-11-07T19:40:51.3495706Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:1:
2025-11-07T19:40:51.3497666Z  //! Additional tests for multisig module to improve coverage.
2025-11-07T19:40:51.3497737Z  
2025-11-07T19:40:51.3497956Z -use bllvm_sdk::governance::{GovernanceKeypair, Multisig, GovernanceError};
2025-11-07T19:40:51.3498166Z +use bllvm_sdk::governance::{GovernanceError, GovernanceKeypair, Multisig};
2025-11-07T19:40:51.3498270Z  use bllvm_sdk::sign_message;
2025-11-07T19:40:51.3498338Z  
2025-11-07T19:40:51.3498409Z  #[test]
2025-11-07T19:40:51.3498809Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:7:
2025-11-07T19:40:51.3498975Z  fn test_multisig_debug_format() {
2025-11-07T19:40:51.3499233Z -    let keypairs: Vec<_> = (0..3).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3499333Z +    let keypairs: Vec<_> = (0..3)
2025-11-07T19:40:51.3499479Z +        .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3499558Z +        .collect();
2025-11-07T19:40:51.3499761Z      let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3499919Z      let multisig = Multisig::new(2, 3, public_keys).unwrap();
2025-11-07T19:40:51.3499991Z -    
2025-11-07T19:40:51.3500060Z +
2025-11-07T19:40:51.3500177Z      let debug_str = format!("{:?}", multisig);
2025-11-07T19:40:51.3500289Z      assert!(debug_str.contains("Multisig"));
2025-11-07T19:40:51.3500399Z      assert!(debug_str.contains("threshold"));
2025-11-07T19:40:51.3500710Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:18:
2025-11-07T19:40:51.3500783Z  
2025-11-07T19:40:51.3500857Z  #[test]
2025-11-07T19:40:51.3500950Z  fn test_multisig_clone() {
2025-11-07T19:40:51.3501179Z -    let keypairs: Vec<_> = (0..3).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3501438Z +    let keypairs: Vec<_> = (0..3)
2025-11-07T19:40:51.3501677Z +        .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3501790Z +        .collect();
2025-11-07T19:40:51.3502013Z      let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3502132Z -    
2025-11-07T19:40:51.3502236Z +
2025-11-07T19:40:51.3502437Z      let multisig1 = Multisig::new(2, 3, public_keys).unwrap();
2025-11-07T19:40:51.3502547Z      let multisig2 = multisig1.clone();
2025-11-07T19:40:51.3502616Z -    
2025-11-07T19:40:51.3502689Z +
2025-11-07T19:40:51.3502826Z      // Test that clone works and properties are preserved
2025-11-07T19:40:51.3502980Z      assert_eq!(multisig1.threshold(), multisig2.threshold());
2025-11-07T19:40:51.3503112Z      assert_eq!(multisig1.total(), multisig2.total());
2025-11-07T19:40:51.3505727Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:32:
2025-11-07T19:40:51.3505816Z  
2025-11-07T19:40:51.3505893Z  #[test]
2025-11-07T19:40:51.3506001Z  fn test_multisig_properties() {
2025-11-07T19:40:51.3506247Z -    let keypairs: Vec<_> = (0..3).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3506348Z +    let keypairs: Vec<_> = (0..3)
2025-11-07T19:40:51.3506594Z +        .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3506681Z +        .collect();
2025-11-07T19:40:51.3507188Z      let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3507277Z -    
2025-11-07T19:40:51.3507352Z +
2025-11-07T19:40:51.3507531Z      let multisig = Multisig::new(2, 3, public_keys).unwrap();
2025-11-07T19:40:51.3507600Z -    
2025-11-07T19:40:51.3507672Z +
2025-11-07T19:40:51.3507787Z      // Test that properties are correctly set
2025-11-07T19:40:51.3507895Z      assert_eq!(multisig.threshold(), 2);
2025-11-07T19:40:51.3507998Z      assert_eq!(multisig.total(), 3);
2025-11-07T19:40:51.3508333Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:45:
2025-11-07T19:40:51.3508406Z  
2025-11-07T19:40:51.3508477Z  #[test]
2025-11-07T19:40:51.3508580Z  fn test_multisig_new_edge_cases() {
2025-11-07T19:40:51.3508812Z -    let keypairs: Vec<_> = (0..5).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3508907Z +    let keypairs: Vec<_> = (0..5)
2025-11-07T19:40:51.3509053Z +        .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3509138Z +        .collect();
2025-11-07T19:40:51.3509342Z      let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3509415Z -    
2025-11-07T19:40:51.3509488Z +
2025-11-07T19:40:51.3509610Z      // Test with threshold = 0 (should be invalid)
2025-11-07T19:40:51.3509756Z      let result = Multisig::new(0, 5, public_keys.clone());
2025-11-07T19:40:51.3509858Z      assert!(result.is_err());
2025-11-07T19:40:51.3510173Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:55:
2025-11-07T19:40:51.3510276Z          assert_eq!(threshold, 0);
2025-11-07T19:40:51.3510364Z          assert_eq!(total, 5);
2025-11-07T19:40:51.3510443Z      }
2025-11-07T19:40:51.3510512Z -    
2025-11-07T19:40:51.3510580Z +
2025-11-07T19:40:51.3510712Z      // Test with threshold > total (should be invalid)
2025-11-07T19:40:51.3510857Z      let result = Multisig::new(6, 5, public_keys.clone());
2025-11-07T19:40:51.3510953Z      assert!(result.is_err());
2025-11-07T19:40:51.3511253Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:63:
2025-11-07T19:40:51.3511351Z          assert_eq!(threshold, 6);
2025-11-07T19:40:51.3511438Z          assert_eq!(total, 5);
2025-11-07T19:40:51.3511507Z      }
2025-11-07T19:40:51.3511582Z -    
2025-11-07T19:40:51.3511651Z +
2025-11-07T19:40:51.3511774Z      // Test with empty public keys (should be invalid)
2025-11-07T19:40:51.3511894Z      let result = Multisig::new(1, 0, vec![]);
2025-11-07T19:40:51.3512122Z      assert!(result.is_err());
2025-11-07T19:40:51.3512423Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:71:
2025-11-07T19:40:51.3512514Z          assert_eq!(threshold, 1);
2025-11-07T19:40:51.3512608Z          assert_eq!(total, 0);
2025-11-07T19:40:51.3512678Z      }
2025-11-07T19:40:51.3512748Z -    
2025-11-07T19:40:51.3512815Z +
2025-11-07T19:40:51.3512952Z      // Test with threshold = total (should be valid)
2025-11-07T19:40:51.3513094Z      let result = Multisig::new(5, 5, public_keys.clone());
2025-11-07T19:40:51.3513188Z      assert!(result.is_ok());
2025-11-07T19:40:51.3513490Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:78:
2025-11-07T19:40:51.3513558Z -    
2025-11-07T19:40:51.3513626Z +
2025-11-07T19:40:51.3513745Z      // Test with threshold = 1 (should be valid)
2025-11-07T19:40:51.3513885Z      let result = Multisig::new(1, 5, public_keys.clone());
2025-11-07T19:40:51.3513981Z      assert!(result.is_ok());
2025-11-07T19:40:51.3514274Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:83:
2025-11-07T19:40:51.3514479Z  
2025-11-07T19:40:51.3514553Z  #[test]
2025-11-07T19:40:51.3514660Z  fn test_multisig_verify_edge_cases() {
2025-11-07T19:40:51.3515028Z -    let keypairs: Vec<_> = (0..5).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3515127Z +    let keypairs: Vec<_> = (0..5)
2025-11-07T19:40:51.3515264Z +        .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3515342Z +        .collect();
2025-11-07T19:40:51.3515548Z      let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3515702Z      let multisig = Multisig::new(3, 5, public_keys).unwrap();
2025-11-07T19:40:51.3515774Z -    
2025-11-07T19:40:51.3518013Z +
2025-11-07T19:40:51.3518115Z      let message = b"test message";
2025-11-07T19:40:51.3518192Z -    
2025-11-07T19:40:51.3518264Z +
2025-11-07T19:40:51.3518359Z      // Test with empty signatures
2025-11-07T19:40:51.3518477Z      let result = multisig.verify(message, &[]);
2025-11-07T19:40:51.3518566Z      assert!(result.is_err());
2025-11-07T19:40:51.3518872Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:96:
2025-11-07T19:40:51.3518963Z          assert_eq!(got, 0);
2025-11-07T19:40:51.3519053Z          assert_eq!(need, 3);
2025-11-07T19:40:51.3519127Z      }
2025-11-07T19:40:51.3519199Z -    
2025-11-07T19:40:51.3519265Z +
2025-11-07T19:40:51.3519453Z      // Test with too many signatures (should still work, just ignore extras)
2025-11-07T19:40:51.3519570Z -    let signatures: Vec<_> = (0..10).map(|i| {
2025-11-07T19:40:51.3519677Z -        let keypair = &keypairs[i % 5];
2025-11-07T19:40:51.3519818Z -        sign_message(&keypair.secret_key, message).unwrap()
2025-11-07T19:40:51.3519911Z -    }).collect();
2025-11-07T19:40:51.3519984Z -    
2025-11-07T19:40:51.3520081Z +    let signatures: Vec<_> = (0..10)
2025-11-07T19:40:51.3520157Z +        .map(|i| {
2025-11-07T19:40:51.3520268Z +            let keypair = &keypairs[i % 5];
2025-11-07T19:40:51.3520412Z +            sign_message(&keypair.secret_key, message).unwrap()
2025-11-07T19:40:51.3520485Z +        })
2025-11-07T19:40:51.3520568Z +        .collect();
2025-11-07T19:40:51.3520639Z +
2025-11-07T19:40:51.3520787Z      let result = multisig.verify(message, &signatures);
2025-11-07T19:40:51.3520979Z      // This should actually succeed since we have enough valid signatures
2025-11-07T19:40:51.3525413Z      assert!(result.is_ok());
2025-11-07T19:40:51.3525784Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:110:
2025-11-07T19:40:51.3525857Z  
2025-11-07T19:40:51.3525932Z  #[test]
2025-11-07T19:40:51.3526092Z  fn test_multisig_collect_valid_signatures_edge_cases() {
2025-11-07T19:40:51.3526342Z -    let keypairs: Vec<_> = (0..5).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3526636Z +    let keypairs: Vec<_> = (0..5)
2025-11-07T19:40:51.3526780Z +        .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3526859Z +        .collect();
2025-11-07T19:40:51.3527074Z      let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3527238Z      let multisig = Multisig::new(3, 5, public_keys).unwrap();
2025-11-07T19:40:51.3527311Z -    
2025-11-07T19:40:51.3527378Z +
2025-11-07T19:40:51.3527476Z      let message = b"test message";
2025-11-07T19:40:51.3527548Z -    
2025-11-07T19:40:51.3527613Z +
2025-11-07T19:40:51.3527706Z      // Test with empty signatures
2025-11-07T19:40:51.3527879Z      let result = multisig.collect_valid_signatures(message, &[]);
2025-11-07T19:40:51.3527972Z      assert!(result.is_ok());
2025-11-07T19:40:51.3529740Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:122:
2025-11-07T19:40:51.3529986Z      assert_eq!(result.unwrap(), vec![] as Vec<usize>);
2025-11-07T19:40:51.3530103Z -    
2025-11-07T19:40:51.3530218Z +
2025-11-07T19:40:51.3530325Z      // Test with all valid signatures
2025-11-07T19:40:51.3530472Z -    let signatures: Vec<_> = keypairs.iter().map(|kp| {
2025-11-07T19:40:51.3530601Z -        sign_message(&kp.secret_key, message).unwrap()
2025-11-07T19:40:51.3530677Z -    }).collect();
2025-11-07T19:40:51.3530747Z -    
2025-11-07T19:40:51.3530986Z +    let signatures: Vec<_> = keypairs
2025-11-07T19:40:51.3531067Z +        .iter()
2025-11-07T19:40:51.3531220Z +        .map(|kp| sign_message(&kp.secret_key, message).unwrap())
2025-11-07T19:40:51.3531302Z +        .collect();
2025-11-07T19:40:51.3531367Z +
2025-11-07T19:40:51.3531560Z      let result = multisig.collect_valid_signatures(message, &signatures);
2025-11-07T19:40:51.3531656Z      assert!(result.is_ok());
2025-11-07T19:40:51.3531761Z      let valid_indices = result.unwrap();
2025-11-07T19:40:51.3532088Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:132:
2025-11-07T19:40:51.3532194Z      assert_eq!(valid_indices.len(), 5);
2025-11-07T19:40:51.3532322Z      assert_eq!(valid_indices, vec![0, 1, 2, 3, 4]);
2025-11-07T19:40:51.3532390Z -    
2025-11-07T19:40:51.3532456Z +
2025-11-07T19:40:51.3532570Z      // Test with mixed valid/invalid signatures
2025-11-07T19:40:51.3532693Z      let mut mixed_signatures = signatures.clone();
2025-11-07T19:40:51.3532813Z      // Replace one signature with an invalid one
2025-11-07T19:40:51.3533126Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:138:
2025-11-07T19:40:51.3533380Z      mixed_signatures[2] = sign_message(&keypairs[0].secret_key, b"different message").unwrap();
2025-11-07T19:40:51.3533449Z -    
2025-11-07T19:40:51.3533513Z +
2025-11-07T19:40:51.3533722Z      let result = multisig.collect_valid_signatures(message, &mixed_signatures);
2025-11-07T19:40:51.3533817Z      assert!(result.is_ok());
2025-11-07T19:40:51.3533918Z      let valid_indices = result.unwrap();
2025-11-07T19:40:51.3534239Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:146:
2025-11-07T19:40:51.3534452Z  
2025-11-07T19:40:51.3534529Z  #[test]
2025-11-07T19:40:51.3534640Z  fn test_multisig_threshold_properties() {
2025-11-07T19:40:51.3534892Z -    let keypairs: Vec<_> = (0..7).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3534986Z +    let keypairs: Vec<_> = (0..7)
2025-11-07T19:40:51.3535128Z +        .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3535210Z +        .collect();
2025-11-07T19:40:51.3535416Z      let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3535484Z -    
2025-11-07T19:40:51.3535550Z +
2025-11-07T19:40:51.3535631Z      // Test 1-of-7
2025-11-07T19:40:51.3535821Z      let multisig = Multisig::new(1, 7, public_keys.clone()).unwrap();
2025-11-07T19:40:51.3536085Z      assert_eq!(multisig.threshold(), 1);
2025-11-07T19:40:51.3538233Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:155:
2025-11-07T19:40:51.3538335Z      assert_eq!(multisig.total(), 7);
2025-11-07T19:40:51.3538404Z -    
2025-11-07T19:40:51.3538475Z +
2025-11-07T19:40:51.3538551Z      // Test 7-of-7
2025-11-07T19:40:51.3538734Z      let multisig = Multisig::new(7, 7, public_keys.clone()).unwrap();
2025-11-07T19:40:51.3538841Z      assert_eq!(multisig.threshold(), 7);
2025-11-07T19:40:51.3539159Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:160:
2025-11-07T19:40:51.3539258Z      assert_eq!(multisig.total(), 7);
2025-11-07T19:40:51.3539325Z -    
2025-11-07T19:40:51.3539395Z +
2025-11-07T19:40:51.3539470Z      // Test 4-of-7
2025-11-07T19:40:51.3539649Z      let multisig = Multisig::new(4, 7, public_keys.clone()).unwrap();
2025-11-07T19:40:51.3539754Z      assert_eq!(multisig.threshold(), 4);
2025-11-07T19:40:51.3540065Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:167:
2025-11-07T19:40:51.3540134Z  
2025-11-07T19:40:51.3540205Z  #[test]
2025-11-07T19:40:51.3540316Z  fn test_multisig_public_keys_access() {
2025-11-07T19:40:51.3540547Z -    let keypairs: Vec<_> = (0..3).map(|_| GovernanceKeypair::generate().unwrap()).collect();
2025-11-07T19:40:51.3540766Z +    let keypairs: Vec<_> = (0..3)
2025-11-07T19:40:51.3540916Z +        .map(|_| GovernanceKeypair::generate().unwrap())
2025-11-07T19:40:51.3540995Z +        .collect();
2025-11-07T19:40:51.3541200Z      let public_keys: Vec<_> = keypairs.iter().map(|kp| kp.public_key()).collect();
2025-11-07T19:40:51.3541377Z      let multisig = Multisig::new(2, 3, public_keys.clone()).unwrap();
2025-11-07T19:40:51.3541450Z -    
2025-11-07T19:40:51.3541517Z +
2025-11-07T19:40:51.3541651Z      let multisig_public_keys = multisig.public_keys();
2025-11-07T19:40:51.3541769Z      assert_eq!(multisig_public_keys.len(), 3);
2025-11-07T19:40:51.3541842Z -    
2025-11-07T19:40:51.3541909Z +
2025-11-07T19:40:51.3542015Z      // Check that the public keys are the same
2025-11-07T19:40:51.3542179Z      for (i, pubkey) in multisig_public_keys.iter().enumerate() {
2025-11-07T19:40:51.3542286Z          assert_eq!(pubkey, &public_keys[i]);
2025-11-07T19:40:51.3542607Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:184:
2025-11-07T19:40:51.3542726Z  fn test_multisig_duplicate_public_keys() {
2025-11-07T19:40:51.3542875Z      let keypair = GovernanceKeypair::generate().unwrap();
2025-11-07T19:40:51.3542983Z      let public_key = keypair.public_key();
2025-11-07T19:40:51.3543060Z -    
2025-11-07T19:40:51.3543126Z +
2025-11-07T19:40:51.3543244Z      // Create multisig with duplicate public keys
2025-11-07T19:40:51.3543475Z      let duplicate_keys = vec![public_key.clone(), public_key.clone(), public_key.clone()];
2025-11-07T19:40:51.3543616Z      let result = Multisig::new(2, 3, duplicate_keys);
2025-11-07T19:40:51.3543920Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:198:
2025-11-07T19:40:51.3544018Z  fn test_multisig_single_key() {
2025-11-07T19:40:51.3544170Z      let keypair = GovernanceKeypair::generate().unwrap();
2025-11-07T19:40:51.3544410Z      let public_key = keypair.public_key();
2025-11-07T19:40:51.3544482Z -    
2025-11-07T19:40:51.3544552Z +
2025-11-07T19:40:51.3544643Z      // Test 1-of-1 multisig
2025-11-07T19:40:51.3544815Z      let multisig = Multisig::new(1, 1, vec![public_key]).unwrap();
2025-11-07T19:40:51.3544920Z      assert_eq!(multisig.threshold(), 1);
2025-11-07T19:40:51.3545226Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/multisig_coverage_tests.rs:205:
2025-11-07T19:40:51.3545328Z      assert_eq!(multisig.total(), 1);
2025-11-07T19:40:51.3545395Z -    
2025-11-07T19:40:51.3545467Z +
2025-11-07T19:40:51.3545562Z      let message = b"test message";
2025-11-07T19:40:51.3547766Z      let signature = sign_message(&keypair.secret_key, message).unwrap();
2025-11-07T19:40:51.3547909Z      let result = multisig.verify(message, &[signature]);
2025-11-07T19:40:51.3548197Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/signature_tests.rs:54:
2025-11-07T19:40:51.3548303Z      assert_ne!(signature1, signature2);
2025-11-07T19:40:51.3548370Z  
2025-11-07T19:40:51.3548510Z      // Each signature should only verify for its message
2025-11-07T19:40:51.3548650Z -    assert!(bllvm_sdk::governance::verify_signature(
2025-11-07T19:40:51.3548730Z -        &signature1,
2025-11-07T19:40:51.3548813Z -        message1,
2025-11-07T19:40:51.3548910Z -        &keypair.public_key(),
2025-11-07T19:40:51.3548977Z -    )
2025-11-07T19:40:51.3549055Z -    .unwrap());
2025-11-07T19:40:51.3549137Z +    assert!(
2025-11-07T19:40:51.3549396Z +        bllvm_sdk::governance::verify_signature(&signature1, message1, &keypair.public_key(),)
2025-11-07T19:40:51.3549481Z +            .unwrap()
2025-11-07T19:40:51.3549556Z +    );
2025-11-07T19:40:51.3549625Z  
2025-11-07T19:40:51.3549769Z -    assert!(!bllvm_sdk::governance::verify_signature(
2025-11-07T19:40:51.3549849Z -        &signature1,
2025-11-07T19:40:51.3549930Z -        message2,
2025-11-07T19:40:51.3550026Z -        &keypair.public_key(),
2025-11-07T19:40:51.3550095Z -    )
2025-11-07T19:40:51.3550175Z -    .unwrap());
2025-11-07T19:40:51.3550248Z +    assert!(
2025-11-07T19:40:51.3550637Z +        !bllvm_sdk::governance::verify_signature(&signature1, message2, &keypair.public_key(),)
2025-11-07T19:40:51.3550720Z +            .unwrap()
2025-11-07T19:40:51.3550793Z +    );
2025-11-07T19:40:51.3550863Z  
2025-11-07T19:40:51.3551000Z -    assert!(bllvm_sdk::governance::verify_signature(
2025-11-07T19:40:51.3551086Z -        &signature2,
2025-11-07T19:40:51.3551162Z -        message2,
2025-11-07T19:40:51.3551251Z -        &keypair.public_key(),
2025-11-07T19:40:51.3551322Z -    )
2025-11-07T19:40:51.3551410Z -    .unwrap());
2025-11-07T19:40:51.3551481Z +    assert!(
2025-11-07T19:40:51.3551738Z +        bllvm_sdk::governance::verify_signature(&signature2, message2, &keypair.public_key(),)
2025-11-07T19:40:51.3551819Z +            .unwrap()
2025-11-07T19:40:51.3551889Z +    );
2025-11-07T19:40:51.3551960Z  
2025-11-07T19:40:51.3552096Z -    assert!(!bllvm_sdk::governance::verify_signature(
2025-11-07T19:40:51.3552180Z -        &signature2,
2025-11-07T19:40:51.3552259Z -        message1,
2025-11-07T19:40:51.3552359Z -        &keypair.public_key(),
2025-11-07T19:40:51.3552432Z -    )
2025-11-07T19:40:51.3552508Z -    .unwrap());
2025-11-07T19:40:51.3552578Z +    assert!(
2025-11-07T19:40:51.3552828Z +        !bllvm_sdk::governance::verify_signature(&signature2, message1, &keypair.public_key(),)
2025-11-07T19:40:51.3552910Z +            .unwrap()
2025-11-07T19:40:51.3552980Z +    );
2025-11-07T19:40:51.3553047Z  }
2025-11-07T19:40:51.3553114Z  
2025-11-07T19:40:51.3553189Z  #[test]
2025-11-07T19:40:51.3553469Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/signature_tests.rs:92:
2025-11-07T19:40:51.3553669Z      let signature = sign_message(&keypair1.secret_key, message).unwrap();
2025-11-07T19:40:51.3553743Z  
2025-11-07T19:40:51.3553839Z      // Should verify with keypair1
2025-11-07T19:40:51.3553974Z -    assert!(bllvm_sdk::governance::verify_signature(
2025-11-07T19:40:51.3554057Z -        &signature,
2025-11-07T19:40:51.3554131Z -        message,
2025-11-07T19:40:51.3554231Z -        &keypair1.public_key(),
2025-11-07T19:40:51.3554431Z -    )
2025-11-07T19:40:51.3554516Z -    .unwrap());
2025-11-07T19:40:51.3554588Z +    assert!(
2025-11-07T19:40:51.3554835Z +        bllvm_sdk::governance::verify_signature(&signature, message, &keypair1.public_key(),)
2025-11-07T19:40:51.3554918Z +            .unwrap()
2025-11-07T19:40:51.3554988Z +    );
2025-11-07T19:40:51.3555056Z  
2025-11-07T19:40:51.3555157Z      // Should not verify with keypair2
2025-11-07T19:40:51.3555296Z -    assert!(!bllvm_sdk::governance::verify_signature(
2025-11-07T19:40:51.3555514Z -        &signature,
2025-11-07T19:40:51.3555588Z -        message,
2025-11-07T19:40:51.3555701Z -        &keypair2.public_key(),
2025-11-07T19:40:51.3555777Z -    )
2025-11-07T19:40:51.3555851Z -    .unwrap());
2025-11-07T19:40:51.3555922Z +    assert!(
2025-11-07T19:40:51.3557864Z +        !bllvm_sdk::governance::verify_signature(&signature, message, &keypair2.public_key(),)
2025-11-07T19:40:51.3557948Z +            .unwrap()
2025-11-07T19:40:51.3558017Z +    );
2025-11-07T19:40:51.3558084Z  }
2025-11-07T19:40:51.3558154Z  
2025-11-07T19:40:51.3558226Z  #[test]
2025-11-07T19:40:51.3558505Z Diff in /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk/tests/signature_tests.rs:122:
2025-11-07T19:40:51.3558609Z      // Both should be valid regardless
2025-11-07T19:40:51.3558679Z  
2025-11-07T19:40:51.3558768Z      // But both should verify
2025-11-07T19:40:51.3558903Z -    assert!(bllvm_sdk::governance::verify_signature(
2025-11-07T19:40:51.3558985Z -        &signature1,
2025-11-07T19:40:51.3559064Z -        message,
2025-11-07T19:40:51.3559153Z -        &keypair.public_key(),
2025-11-07T19:40:51.3559228Z -    )
2025-11-07T19:40:51.3559302Z -    .unwrap());
2025-11-07T19:40:51.3559373Z +    assert!(
2025-11-07T19:40:51.3559619Z +        bllvm_sdk::governance::verify_signature(&signature1, message, &keypair.public_key(),)
2025-11-07T19:40:51.3559701Z +            .unwrap()
2025-11-07T19:40:51.3559771Z +    );
2025-11-07T19:40:51.3559963Z  
2025-11-07T19:40:51.3560102Z -    assert!(bllvm_sdk::governance::verify_signature(
2025-11-07T19:40:51.3560181Z -        &signature2,
2025-11-07T19:40:51.3560255Z -        message,
2025-11-07T19:40:51.3560344Z -        &keypair.public_key(),
2025-11-07T19:40:51.3560418Z -    )
2025-11-07T19:40:51.3560494Z -    .unwrap());
2025-11-07T19:40:51.3560566Z +    assert!(
2025-11-07T19:40:51.3560812Z +        bllvm_sdk::governance::verify_signature(&signature2, message, &keypair.public_key(),)
2025-11-07T19:40:51.3560895Z +            .unwrap()
2025-11-07T19:40:51.3560963Z +    );
2025-11-07T19:40:51.3561033Z  }
2025-11-07T19:40:51.3561104Z  
2025-11-07T19:40:51.3561174Z  #[test]
2025-11-07T19:40:51.3574188Z ##[error]Process completed with exit code 1.
2025-11-07T19:40:51.3703234Z Post job cleanup.
2025-11-07T19:40:51.4940323Z [command]/usr/bin/git version
2025-11-07T19:40:51.4993727Z git version 2.43.0
2025-11-07T19:40:51.5042403Z Copying '/home/jswift/.gitconfig' to '/home/jswift/actions-runner-org2/_work/_temp/40f3325d-c588-49bf-bc60-48023f37b169/.gitconfig'
2025-11-07T19:40:51.5059677Z Temporarily overriding HOME='/home/jswift/actions-runner-org2/_work/_temp/40f3325d-c588-49bf-bc60-48023f37b169' before making global git config changes
2025-11-07T19:40:51.5060694Z Adding repository directory to the temporary git global config as a safe directory
2025-11-07T19:40:51.5064670Z [command]/usr/bin/git config --global --add safe.directory /home/jswift/actions-runner-org2/_work/bllvm-sdk/bllvm-sdk
2025-11-07T19:40:51.5114116Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-11-07T19:40:51.5152194Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-11-07T19:40:51.5460727Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-11-07T19:40:51.5485916Z http.https://github.com/.extraheader
2025-11-07T19:40:51.5504262Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-11-07T19:40:51.5541622Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-11-07T19:40:51.5933775Z A job completed hook has been configured by the self-hosted runner administrator
2025-11-07T19:40:51.5979710Z ##[group]Run '/home/jswift/actions-runner-org2/cleanup-hooks/job-completed.sh'
2025-11-07T19:40:51.6006092Z shell: /usr/bin/bash --noprofile --norc -e -o pipefail {0}
2025-11-07T19:40:51.6006472Z ##[endgroup]
2025-11-07T19:40:51.6076275Z Job completed: Fri Nov  7 07:40:51 PM UTC 2025
2025-11-07T19:40:51.6111875Z Available disk space: 9.6G
2025-11-07T19:40:51.6112249Z Cleaning up after job completion...
2025-11-07T19:40:51.7254516Z Cleanup completed. Available disk space: 9.6G
2025-11-07T19:40:51.7310199Z Cleaning up orphan processes
